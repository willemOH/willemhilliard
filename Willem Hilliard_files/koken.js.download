!function(){window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(e){setTimeout(e,16)}}(),void 0===jQuery.migrateMute&&(jQuery.migrateMute=!0),function(e,t,n){function r(n){var r=t.console;a[n]||(a[n]=!0,e.migrateWarnings.push(n),r&&r.warn&&!e.migrateMute&&(r.warn("JQMIGRATE: "+n),e.migrateTrace&&r.trace&&r.trace()))}function i(t,i,a,o){if(Object.defineProperty)try{return Object.defineProperty(t,i,{configurable:!0,enumerable:!0,get:function(){return r(o),a},set:function(e){r(o),a=e}}),n}catch(e){}e._definePropertyBroken=!0,t[i]=a}var a={};e.migrateWarnings=[],!e.migrateMute&&t.console&&t.console.log&&t.console.log("JQMIGRATE: Logging is active"),e.migrateTrace===n&&(e.migrateTrace=!0),e.migrateReset=function(){a={},e.migrateWarnings.length=0},"BackCompat"===document.compatMode&&r("jQuery is not compatible with Quirks Mode");var o=e("<input/>",{size:1}).attr("size")&&e.attrFn,s=e.attr,u=e.attrHooks.value&&e.attrHooks.value.get||function(){return null},c=e.attrHooks.value&&e.attrHooks.value.set||function(){return n},l=/^(?:input|button)$/i,d=/^[238]$/,f=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,p=/^(?:checked|selected)$/i;i(e,"attrFn",o||{},"jQuery.attrFn is deprecated"),e.attr=function(t,i,a,u){var c=i.toLowerCase(),m=t&&t.nodeType;return u&&(4>s.length&&r("jQuery.fn.attr( props, pass ) is deprecated"),t&&!d.test(m)&&(o?i in o:e.isFunction(e.fn[i])))?e(t)[i](a):("type"===i&&a!==n&&l.test(t.nodeName)&&t.parentNode&&r("Can't change the 'type' of an input or button in IE 6/7/8"),!e.attrHooks[c]&&f.test(c)&&(e.attrHooks[c]={get:function(t,r){var i,a=e.prop(t,r);return a===!0||"boolean"!=typeof a&&(i=t.getAttributeNode(r))&&i.nodeValue!==!1?r.toLowerCase():n},set:function(t,n,r){var i;return n===!1?e.removeAttr(t,r):(i=e.propFix[r]||r,i in t&&(t[i]=!0),t.setAttribute(r,r.toLowerCase())),r}},p.test(c)&&r("jQuery.fn.attr('"+c+"') may use property instead of attribute")),s.call(e,t,i,a))},e.attrHooks.value={get:function(e,t){var n=(e.nodeName||"").toLowerCase();return"button"===n?u.apply(this,arguments):("input"!==n&&"option"!==n&&r("jQuery.fn.attr('value') no longer gets properties"),t in e?e.value:null)},set:function(e,t){var i=(e.nodeName||"").toLowerCase();return"button"===i?c.apply(this,arguments):("input"!==i&&"option"!==i&&r("jQuery.fn.attr('value', val) no longer sets properties"),e.value=t,n)}};var m,h,g=e.fn.init,v=e.parseJSON,w=/^([^<]*)(<[\w\W]+>)([^>]*)$/;e.fn.init=function(t,n,i){var a;return t&&"string"==typeof t&&!e.isPlainObject(n)&&(a=w.exec(e.trim(t)))&&a[0]&&("<"!==t.charAt(0)&&r("$(html) HTML strings must start with '<' character"),a[3]&&r("$(html) HTML text after last tag is ignored"),"#"===a[0].charAt(0)&&(r("HTML string cannot start with a '#' character"),e.error("JQMIGRATE: Invalid selector string (XSS)")),n&&n.context&&(n=n.context),e.parseHTML)?g.call(this,e.parseHTML(a[2],n,!0),n,i):g.apply(this,arguments)},e.fn.init.prototype=e.fn,e.parseJSON=function(e){return e||null===e?v.apply(this,arguments):(r("jQuery.parseJSON requires a valid JSON string"),null)},e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||0>e.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e.browser||(m=e.uaMatch(navigator.userAgent),h={},m.browser&&(h[m.browser]=!0,h.version=m.version),h.chrome?h.webkit=!0:h.webkit&&(h.safari=!0),e.browser=h),i(e,"browser",e.browser,"jQuery.browser is deprecated"),e.sub=function(){function t(e,n){return new t.fn.init(e,n)}e.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(r,i){return i&&i instanceof e&&!(i instanceof t)&&(i=t(i)),e.fn.init.call(this,r,i,n)},t.fn.init.prototype=t.fn;var n=t(document);return r("jQuery.sub() is deprecated"),t},e.ajaxSetup({converters:{"text json":e.parseJSON}});var y=e.fn.data;e.fn.data=function(t){var i,a,o=this[0];return!o||"events"!==t||1!==arguments.length||(i=e.data(o,t),a=e._data(o,t),i!==n&&i!==a||a===n)?y.apply(this,arguments):(r("Use of jQuery.fn.data('events') is deprecated"),a)};var b=/\/(java|ecma)script/i,x=e.fn.andSelf||e.fn.addBack;e.fn.andSelf=function(){return r("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),x.apply(this,arguments)},e.clean||(e.clean=function(t,i,a,o){i=i||document,i=!i.nodeType&&i[0]||i,i=i.ownerDocument||i,r("jQuery.clean() is deprecated");var s,u,c,l,d=[];if(e.merge(d,e.buildFragment(t,i).childNodes),a)for(c=function(e){return!e.type||b.test(e.type)?o?o.push(e.parentNode?e.parentNode.removeChild(e):e):a.appendChild(e):n},s=0;null!=(u=d[s]);s++)e.nodeName(u,"script")&&c(u)||(a.appendChild(u),u.getElementsByTagName!==n&&(l=e.grep(e.merge([],u.getElementsByTagName("script")),c),d.splice.apply(d,[s+1,0].concat(l)),s+=l.length));return d});var S=e.event.add,k=e.event.remove,j=e.event.trigger,F=e.fn.toggle,N=e.fn.live,T=e.fn.die,C="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",M=RegExp("\\b(?:"+C+")\\b"),Q=/(?:^|\s)hover(\.\S+|)\b/,A=function(t){return"string"!=typeof t||e.event.special.hover?t:(Q.test(t)&&r("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),t&&t.replace(Q,"mouseenter$1 mouseleave$1"))};e.event.props&&"attrChange"!==e.event.props[0]&&e.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),e.event.dispatch&&i(e.event,"handle",e.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),e.event.add=function(e,t,n,i,a){e!==document&&M.test(t)&&r("AJAX events should be attached to document: "+t),S.call(this,e,A(t||""),n,i,a)},e.event.remove=function(e,t,n,r,i){k.call(this,e,A(t)||"",n,r,i)},e.fn.error=function(){var e=Array.prototype.slice.call(arguments,0);return r("jQuery.fn.error() is deprecated"),e.splice(0,0,"error"),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this)},e.fn.toggle=function(t,n){if(!e.isFunction(t)||!e.isFunction(n))return F.apply(this,arguments);r("jQuery.fn.toggle(handler, handler...) is deprecated");var i=arguments,a=t.guid||e.guid++,o=0,s=function(n){var r=(e._data(this,"lastToggle"+t.guid)||0)%o;return e._data(this,"lastToggle"+t.guid,r+1),n.preventDefault(),i[r].apply(this,arguments)||!1};for(s.guid=a;i.length>o;)i[o++].guid=a;return this.click(s)},e.fn.live=function(t,n,i){return r("jQuery.fn.live() is deprecated"),N?N.apply(this,arguments):(e(this.context).on(t,this.selector,n,i),this)},e.fn.die=function(t,n){return r("jQuery.fn.die() is deprecated"),T?T.apply(this,arguments):(e(this.context).off(t,this.selector||"**",n),this)},e.event.trigger=function(e,t,n,i){return n||M.test(e)||r("Global events are undocumented and deprecated"),j.call(this,e,t,n||document,i)},e.each(C.split("|"),function(t,n){e.event.special[n]={setup:function(){var t=this;return t!==document&&(e.event.add(document,n+"."+e.guid,function(){e.event.trigger(n,null,t,!0)}),e._data(this,n,e.guid++)),!1},teardown:function(){return this!==document&&e.event.remove(document,n+"."+e._data(this,n)),!1}}})}(jQuery,window),function(){var e={supportsFullScreen:!1,isFullScreen:function(){return!1},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",prefix:""},t="webkit moz o ms khtml".split(" ");if("undefined"!=typeof document.cancelFullScreen)e.supportsFullScreen=!0;else for(var n=0,r=t.length;n<r;n++)if(e.prefix=t[n],"undefined"!=typeof document[e.prefix+"CancelFullScreen"]){e.supportsFullScreen=!0;break}e.supportsFullScreen&&(e.fullScreenEventName=e.prefix+"fullscreenchange",e.isFullScreen=function(){switch(this.prefix){case"":return document.fullScreen;case"webkit":return document.webkitIsFullScreen;default:return document[this.prefix+"FullScreen"]}},e.requestFullScreen=function(e){return""===this.prefix?e.requestFullScreen():e[this.prefix+"RequestFullScreen"]()},e.cancelFullScreen=function(e){return""===this.prefix?document.cancelFullScreen():document[this.prefix+"CancelFullScreen"]()}),"undefined"!=typeof jQuery&&(jQuery.fn.requestFullScreen=function(){return this.each(function(){e.supportsFullScreen&&(e.isFullScreen()?e.cancelFullScreen(this):e.requestFullScreen(this))})}),window.fullScreenApi=e}(),function(e){"use strict";e.fn.fitVids=function(t){var n={customSelector:null},r=document.createElement("div"),i=document.getElementsByTagName("base")[0]||document.getElementsByTagName("script")[0];return r.className="fit-vids-style",r.innerHTML="&shy;<style>               .fluid-width-video-wrapper {                 width: 100%;                              position: relative;                       padding: 0;                            }                                                                                   .fluid-width-video-wrapper iframe,        .fluid-width-video-wrapper object,        .fluid-width-video-wrapper embed {           position: absolute;                       top: 0;                                   left: 0;                                  width: 100%;                              height: 100%;                          }                                       </style>",e(".fit-vids-style").length<=0&&i.parentNode.insertBefore(r,i),t&&e.extend(n,t),this.each(function(){var t=["iframe[src*='player.vimeo.com']","iframe[src*='www.youtube.com']","iframe[src*='www.youtube-nocookie.com']","iframe[src*='www.kickstarter.com']","iframe[src*='soundcloud.com']","object","embed"];n.customSelector&&t.push(n.customSelector);var r=e(this).find(t.join(","));r.each(function(){var t=e(this);if(!("embed"===this.tagName.toLowerCase()&&t.parent("object").length||t.parent(".fluid-width-video-wrapper").length)){var n="object"===this.tagName.toLowerCase()||t.attr("height")&&!isNaN(parseInt(t.attr("height"),10))?parseInt(t.attr("height"),10):t.height(),r=t.attr("width"),i=isNaN(parseInt(r,10))?t.width():parseInt(r,10),a=n/i;if(!t.attr("id")){var o="fitvid"+Math.floor(999999*Math.random());t.attr("id",o)}t.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*a+"%"),r&&t.parent(".fluid-width-video-wrapper").wrap('<div class="k-video max-width-video-wrapper"></div>').parent(".max-width-video-wrapper").css("max-width",r+"px"),t.removeAttr("height").removeAttr("width")}}),e(window).trigger("resize")})}}(jQuery),function(e){function t(e,t){for(var n=e.length;n--;)if(e[n]===t)return n;return-1}function n(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function r(e){for(y in x)x[y]=e[T[y]]}function i(e,n){var i,a,o,u,c;if(i=e.keyCode,t(N,i)==-1&&N.push(i),93!=i&&224!=i||(i=91),i in x){x[i]=!0;for(o in k)k[o]==i&&(s[o]=!0)}else if(r(e),s.filter.call(this,e)&&i in b)for(u=0;u<b[i].length;u++)if(a=b[i][u],a.scope==n||"all"==a.scope){c=a.mods.length>0;for(o in x)(!x[o]&&t(a.mods,+o)>-1||x[o]&&t(a.mods,+o)==-1)&&(c=!1);(0==a.mods.length&&!x[16]&&!x[18]&&!x[17]&&!x[91]||c)&&a.method(e,a)===!1&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}function a(e){var n,r=e.keyCode,i=t(N,r);if(i>=0&&N.splice(i,1),93!=r&&224!=r||(r=91),r in x){x[r]=!1;for(n in k)k[n]==r&&(s[n]=!1)}}function o(){for(y in x)x[y]=!1;for(y in k)s[y]=!1}function s(e,t,n){var r,i,a;for(r=h(e),void 0===n&&(n=t,t="all"),a=0;a<r.length;a++)i=[],e=r[a].split("+"),e.length>1&&(i=g(e),e=[e[e.length-1]]),e=e[0],e=F(e),e in b||(b[e]=[]),b[e].push({shortcut:r[a],scope:t,method:n,key:r[a],mods:i})}function u(e,t){var r,i,a=e.split("+"),o=[];if(a.length>1&&(o=g(a),e=a[a.length-1]),e=F(e),void 0===t&&(t=p()),b[e])for(r in b[e])i=b[e][r],i.scope===t&&n(i.mods,o)&&(b[e][r]={})}function c(e){return"string"==typeof e&&(e=F(e)),t(N,e)!=-1}function l(){return N.slice(0)}function d(e){var t=(e.target||e.srcElement).tagName;return"INPUT"!=t&&"SELECT"!=t&&"TEXTAREA"!=t}function f(e){S=e||"all"}function p(){return S||"all"}function m(e){var t,n,r;for(t in b)for(n=b[t],r=0;r<n.length;)n[r].scope===e?n.splice(r,1):r++}function h(e){var t;return e=e.replace(/\s/g,""),t=e.split(","),""==t[t.length-1]&&(t[t.length-2]+=","),t}function g(e){var t=e.slice(0,e.length-1);for(mi=0;mi<t.length;mi++)t[mi]=k[t[mi]];return t}function v(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,function(){n(window.event)})}function w(){var t=e.key;return e.key=C,t}var y,b={},x={16:!1,18:!1,17:!1,91:!1},S="all",k={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,command:91},j={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},F=function(e){return j[e]||e.toUpperCase().charCodeAt(0)},N=[];for(y=1;y<20;y++)j["f"+y]=111+y;var T={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};for(y in k)s[y]=!1;v(document,"keydown",function(e){i(e,S)}),v(document,"keyup",a),v(window,"focus",o);var C=e.key;e.key=s,e.key.setScope=f,e.key.getScope=p,e.key.deleteScope=m,e.key.filter=d,e.key.isPressed=c,e.key.getPressedKeyCodes=l,e.key.noConflict=w,e.key.unbind=u,"undefined"!=typeof module&&(module.exports=key)}(this),function(e){function t(e){return e}function n(e){return decodeURIComponent(e.replace(i," "))}function r(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return a.json?JSON.parse(e):e}catch(e){}}var i=/\+/g,a=e.cookie=function(i,o,s){if(void 0!==o){if(s=e.extend({},a.defaults,s),"number"==typeof s.expires){var u=s.expires,c=s.expires=new Date;c.setDate(c.getDate()+u)}return o=a.json?JSON.stringify(o):String(o),document.cookie=[a.raw?i:encodeURIComponent(i),"=",a.raw?o:encodeURIComponent(o),s.expires?"; expires="+s.expires.toUTCString():"",s.path?"; path="+s.path:"",s.domain?"; domain="+s.domain:"",s.secure?"; secure":""].join("")}for(var l=a.raw?t:n,d=document.cookie.split("; "),f=i?void 0:{},p=0,m=d.length;p<m;p++){var h=d[p].split("="),g=l(h.shift()),v=l(h.join("="));if(i&&i===g){f=r(v);break}i||(f[g]=r(v))}return f};a.defaults={},e.removeCookie=function(t,n){return void 0!==e.cookie(t)&&(e.cookie(t,"",e.extend(n,{expires:-1})),!0)}}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof module&&"object"==typeof module.exports?require("jquery"):jQuery)}(function(e){function t(){var t=a.settings;if(t.autoDispose&&!e.contains(document.documentElement,this))return e(this).timeago("dispose"),this;var o=n(this);return isNaN(o.datetime)||(0==t.cutoff||Math.abs(i(o.datetime))<t.cutoff)&&e(this).text(r(o.datetime)),this}function n(t){if(t=e(t),!t.data("timeago")){t.data("timeago",{datetime:a.datetime(t)});var n=e.trim(t.text());a.settings.localeTitle?t.attr("title",t.data("timeago").datetime.toLocaleString()):!(n.length>0)||a.isTime(t)&&t.attr("title")||t.attr("title",n)}return t.data("timeago")}function r(e){return a.inWords(i(e))}function i(e){return(new Date).getTime()-e.getTime()}e.timeago=function(t){return r(t instanceof Date?t:"string"==typeof t?e.timeago.parse(t):"number"==typeof t?new Date(t):e.timeago.datetime(t))};var a=e.timeago;e.extend(e.timeago,{settings:{refreshMillis:6e4,allowPast:!0,allowFuture:!1,localeTitle:!1,cutoff:0,autoDispose:!0,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",inPast:"any moment now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}},inWords:function(t){function n(n,i){var a=e.isFunction(n)?n(i,t):n,o=r.numbers&&r.numbers[i]||i;return a.replace(/%d/i,o)}if(!this.settings.allowPast&&!this.settings.allowFuture)throw"timeago allowPast and allowFuture settings can not both be set to false.";var r=this.settings.strings,i=r.prefixAgo,a=r.suffixAgo;if(this.settings.allowFuture&&t<0&&(i=r.prefixFromNow,a=r.suffixFromNow),!this.settings.allowPast&&t>=0)return this.settings.strings.inPast;var o=Math.abs(t)/1e3,s=o/60,u=s/60,c=u/24,l=c/365,d=o<45&&n(r.seconds,Math.round(o))||o<90&&n(r.minute,1)||s<45&&n(r.minutes,Math.round(s))||s<90&&n(r.hour,1)||u<24&&n(r.hours,Math.round(u))||u<42&&n(r.day,1)||c<30&&n(r.days,Math.round(c))||c<45&&n(r.month,1)||c<365&&n(r.months,Math.round(c/30))||l<1.5&&n(r.year,1)||n(r.years,Math.round(l)),f=r.wordSeparator||"";return void 0===r.wordSeparator&&(f=" "),e.trim([i,d,a].join(f))},parse:function(t){var n=e.trim(t);return n=n.replace(/\.\d+/,""),n=n.replace(/-/,"/").replace(/-/,"/"),n=n.replace(/T/," ").replace(/Z/," UTC"),n=n.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),n=n.replace(/([\+\-]\d\d)$/," $100"),new Date(n)},datetime:function(t){var n=a.isTime(t)?e(t).attr("datetime"):e(t).attr("title");return a.parse(n)},isTime:function(t){return"time"===e(t).get(0).tagName.toLowerCase()}});var o={init:function(){var n=e.proxy(t,this);n();var r=a.settings;r.refreshMillis>0&&(this._timeagoInterval=setInterval(n,r.refreshMillis))},update:function(n){var r=n instanceof Date?n:a.parse(n);e(this).data("timeago",{datetime:r}),a.settings.localeTitle&&e(this).attr("title",r.toLocaleString()),t.apply(this)},updateFromDOM:function(){e(this).data("timeago",{datetime:a.parse(a.isTime(this)?e(this).attr("datetime"):e(this).attr("title"))}),t.apply(this)},dispose:function(){this._timeagoInterval&&(window.clearInterval(this._timeagoInterval),this._timeagoInterval=null)}};e.fn.timeago=function(e,t){var n=e?o[e]:o.init;if(!n)throw new Error("Unknown function name '"+e+"' for timeago");return this.each(function(){n.call(this,t)}),this},document.createElement("abbr"),document.createElement("time")});!function(){window.$K={scrollContainer:!1,toggleFullScreen:function(t){var t=t||$(document.documentElement);t.requestFullScreen()},tgif:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",lightbox:{entryUrl:!1,overflow:"auto",entryTitle:!1,solo:!1,complete:function(t,e){document.title=e,location.href!==t&&window.history.replaceState(null,"",t)},cacheEntry:function(t,e){location.href.match(/lightbox\/$/)||(this.entryUrl=location.href,this.entryTitle=document.title,document.title=e,window.history.replaceState({lightboxEntry:!0},document.title),window.history.pushState(null,"",t))},load:function(t){$("body").addClass("k-lightbox-loading");var e={width:"100%",height:"100%",position:"fixed",zIndex:1e4,left:0,top:0,opacity:0};$("<iframe />").css(e).attr({src:t,id:"k-lightbox-iframe"}).on("load",function(){var t=this;requestAnimationFrame(function(){t.contentWindow.focus()})}).appendTo("body"),this.overflow=$("body").css("overflow"),$("body").css("overflow","hidden")},show:function(){$("body").removeClass("k-lightbox-loading"),$(".k-link-lightbox-loading").removeClass("k-link-lightbox-loading"),$(document).trigger("koken:lightbox:loaded"),$("#k-lightbox-iframe").animate({opacity:1},400,function(){$(".k-link-lightbox-loading").removeClass("k-link-lightbox-loading")})},exit:function(t){var e=$("#k-lightbox-iframe");e.length&&(t=t||!1,t||(this.entryUrl&&history.pushState(null,"",this.entryUrl),this.entryTitle&&(document.title=this.entryTitle)),$("body").css("overflow",this.overflow),$("#k-lightbox-iframe").animate({opacity:0},{duration:400,complete:function(){$(this).remove()}}))}},loadUrl:function(t){if($K.lightbox.entryUrl&&$K.lightbox.entryUrl===t)$K.lightbox.exit();else{var e=t.replace(RegExp("https?://"+location.host),""),i=$('a[href="'+e+'"]');window.Turbolinks&&window.Turbolinks.supported?Turbolinks.visit(e):!$K.location.draft&&$.pjax&&i.length?i.first().trigger("click"):location.href=t}},pulse:{plugins:{},groups:{},refs:{},overrides:{},teardown:function(){$.each(this.refs,function(t,e){e.kill()}),this.refs={}},register:function(t){this.refs[t.id]&&(this.refs[t.id].kill(),delete this.refs[t.id]);var e="#"+t.id,i=$(e).data("pulse-group");$(e).children(":not(div.cover)").remove(),this.groups[i]||(this.groups[i]=t.options);var n=this.groups[i],a=["width","height","dataUrl","data","next","previous","toggle","play","pause","fullscreen","restart"];return void 0===n.link_to&&a.push("link_to"),this.overrides[t.id]||(this.overrides[t.id]={}),$.each(a,$.proxy(function(e,i){t.options[i]&&(this.overrides[t.id][i]=t.options[i])},this)),this.refs[t.id]=Pulse(e,$.extend(n,this.overrides[t.id])),$.each(this.plugins,$.proxy(function(e,i){n[e+"_enabled"]&&this.refs[t.id][e](n)},this)),this.refs[t.id]}},navigation:{sets:[],init:!1,toggleChilds:function(t,e){var i=e&&"none"===e||$(t).hasClass("k-nav-open"),n=t.siblings("ul");n.length&&(i?$(t).removeClass("k-nav-open"):$(t).addClass("k-nav-open"),n.css("display",i?"none":"block"))},nest:function(){var t=$("a.k-nav-set");this.sets.length!==t.length&&(this.sets=t,$.each(this.sets,$.proxy(function(t,e){null===e.onclick&&(e.onclick=$.proxy(function(t){$(".k-nav-current").removeClass("k-nav-current"),this.toggleChilds($(e)),t.preventDefault()},this))},this)),this.setCurrent())},setCurrent:function(t){var e=RegExp("(https?://"+location.host+")?"+$K.location.root_folder+"(/(index|preview).php\\?)?"),t=t||location.href,i=t.replace(e,"").replace(/&rand=.*$/,"").replace(/&preview=.*/,"")||"/";$.each(this.sets,$.proxy(function(t,e){this.toggleChilds($(e),"none")},this)),$(".k-nav-current").removeClass("k-nav-current"),$.each($(".k-nav-root"),function(t,n){var a=!1,o={len:0,el:!1};$.each($(n).find("a:not(.k-nav-set)"),function(t,n){n=$(n);var r=n.attr("href").replace(e,"").replace(/&preview=.*/,"");if(i===r){for(n.addClass("k-nav-current");;){if(n=n.parent(),n.hasClass("k-nav-root"))break;"ul"===n.get(0).nodeName.toLowerCase()&&n.show()}return a=!0,!1}var s=RegExp("^"+r+"(.*)?$");r.length>1&&s.test(i)&&r.length>o.len&&(o.el=n,o.len=r.length)}),!a&&o.el&&o.el.addClass("k-nav-current")}),$('a[href="'+i+'"]').addClass("k-nav-current")}},keyboard:{bind:function(){$("[data-bind-to-key]").each(function(){var t=$(this),e=t.attr("data-bind-to-key");e.indexOf("→")!==-1&&(e=e.replace("→","right")),e.indexOf("←")!==-1&&(e=e.replace("←","left")),key.unbind(e),key(e,function(e,i){var n=t.attr("href");if(!n||"#"===n)return void t.trigger("click");if(location.pathname!==n&&location.href!==n){var a=$._data(t.get(0),"events")&&$._data(t.get(0),"events").click;if(!a){var o=$._data(document,"events");o&&o.click&&$.each(o.click,function(e,i){if($.inArray(t.get(0),$(i.selector))!==-1)return a=!0,!1})}a&&void 0===t.attr("data-koken-internal")?t.trigger("click"):$K.loadUrl(n)}})})},scroll:{selector:!1,offset:0,index:0,move:function(t){var e=$(this.selector).filter(":visible"),i=!1,n=!1,a="function"==typeof this.offset?this.offset.call(this):this.offset,o=$(document).scrollTop(),r=$(window).height();return $.each(e,function(e,s){var l=$(s).offset().top;t?l+$(s).height()>o+r&&l>o-a?i=i?Math.min(i,l):l:!n&&l>o&&(n=l):l<o&&l>o-r?i=i?Math.min(i,l):l:l<o&&(n=l)}),!i&&n&&(i=n),t||i!==!1||(i=0),i!==!1&&$("html,body").animate({scrollTop:i+a}),!1},init:function(t,e){this.offset=e||0,this.selector=t,$(window).off(".kScroll").on("keydown.kScroll",function(t){$.inArray(t.which,[37,39])!==-1&&t.shiftKey&&($K.keyboard.scroll.move(39===t.which),t.stopPropagation())}),$(document).on("click","[data-koken-keyboard-scroll-previous]",function(){return $K.keyboard.scroll.move(!1),!1}),$(document).on("click","[data-koken-keyboard-scroll-next]",function(){return $K.keyboard.scroll.move(!0),!1})}}},lazy:{queue:[],working:[],fails:{},max:4,out:function(t){$K.lazy.working.splice($.inArray(t,$K.lazy.working),1),$K.lazy.worker()},fail:function(t){$K.lazy.fails[t]?$K.lazy.fails[t]++:$K.lazy.fails[t]=1,$K.lazy.fails[t]<3&&$K.lazy.queue.push(t),$K.lazy.out(t)},worker:function(){if($K.lazy.queue.length&&$K.lazy.working.length<$K.lazy.max){var t=$K.lazy.queue.shift(),e=$('img.k-lazy-loading[data-src="'+t+'"]').add('.k-lazy-loading-background[data-src="'+t+'"]'),i=new Image;if($K.lazy.fails[t]&&$K.lazy.fails[t]>2)return;$K.lazy.working.push(t),i.onerror=function(){$K.lazy.fail(t)},i.onload=function(){var i=e.filter("img"),n=e.filter(".k-lazy-loading-background");i.removeClass("k-lazy-loading"),n.removeClass("k-lazy-loading-background");var a=i.first().data("lazy-fade");a?i.css("opacity",.001):a=1;var o=n.first().data("lazy-fade");o&&n.each(function(){$(this).find("i.k-bg-fader").remove();var t=$(this).html();$(this).empty().css("position","relative"),$("<i/>").addClass("k-bg-fader").css({width:"100%",height:"100%",float:"left",backgroundPosition:$(this).css("background-position"),opacity:0,backgroundRepeat:"no-repeat",backgroundSize:"cover",zIndex:1}).appendTo($(this)),$("<span>").css({position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:2}).html(t).appendTo($(this))}),setTimeout(function(){$K.lazy.out(t),i.attr("src",t),i.attr("data-src",null),i.each(function(){$(this).trigger("k-image-fading",$(this)),$(this).animate({opacity:1},a,function(){$(this).addClass("k-lazy-loaded"),$(this).trigger("k-image-loaded",$(this))})}),n.each(function(){$(this).addClass("k-lazy-background-loaded"),o?$(this).find("i.k-bg-fader").css("backgroundImage","url("+t+")").animate({opacity:1},o,function(){$(this).trigger("k-background-loaded")}):($(this).css("backgroundImage","url("+t+")"),$(this).trigger("k-background-loaded"))})},0)},i.src=t,$K.lazy.worker()}},load:function(){var t=1.3*$(window).height()+$(window).scrollTop(),e=2*$(window).width()+$(window).scrollLeft(),i=$("img.k-lazy-loading").add(".k-lazy-loading-background").filter(function(){return!$(this).attr("data-lazy-hold")&&$(this).attr("data-src")&&$(this).is(":visible")}).sort(function(t,e){var i=$(t).offset(),n=$(e).offset();return i.top===n.top?i.left>n.left?1:-1:i.top>n.top?1:-1});$K.lazy.queue=[],$.each(i,function(i,n){n=$(n);var a=n.offset();if(a.top<=t&&a.top+n.height()>=$(window).scrollTop()&&a.left<=e&&a.left+n.width()>=$(window).scrollLeft()){var o=n.attr("data-src");$.inArray(o,$K.lazy.queue)===-1&&$K.lazy.queue.push(o)}}),$K.lazy.worker()},initTimeout:null,init:function(){var t=$("img.k-lazy-loading"),e=$(".k-lazy-loading-background");t.length&&$.each(t,function(t,e){$(e).attr("src")!==$K.tgif&&$(e).attr("src",$K.tgif)}),(t.length||e.length)&&(clearTimeout(this.initTimeout),this.initTimeout=setTimeout(function(){$K.lazy.load()},250))}},isRetinaCache:null,isRetina:function(){return null!==this.isRetinaCache?this.isRetinaCache:(this.isRetinaCache=$K.retinaEnabled&&("devicePixelRatio"in window&&devicePixelRatio>1||"matchMedia"in window&&matchMedia("(min-resolution:144dpi)").matches),this.isRetinaCache)},retinafyUrl:function(t){return t=t.replace(".2x.","."),this.isRetina()&&(t=t.replace(/(\.\d{9,10})?\.[a-zA-Z]{3,4}$/,function(t){return".2x"+t})),t},layout:{mosaic:function(t){t=t||"ul.k-mosaic";var e=$(t);if(e.length){var i=function(){e.each(function(t,e){var i=e.className.match(/k-mosaic-(\d+)/)[1],n=$(e),a=n.children(),o=a.filter(":not(.k-mosaic-uneven)"),r=(o.length,a.length),s=r%i,l=n.width(),c=l/i,d=parseInt(a.first().css("margin-right"),10);if(a.css({width:Math.floor(c-(i-1)/i*d),height:c}),0!==s){var h=$($.makeArray(a).reverse().slice(0,s));d=Math.ceil((h.length-1)/h.length*d),h.addClass("k-mosaic-uneven").css({width:Math.min(l,Math.floor(l*(100/s)/100-d))})}var u=0,f=1;$.each(n.children(),function(t,e){u+=$(e).outerWidth(!0),f==i||r===t+1?(u<l&&$(e).width($(e).width()+(l-u)),u=0,f=1):f++})}),$K.responsiveBackgrounds(),$K.lazy.init()};$(window).on("k-resize",i),i()}}},loadImages:function(){var t=$("img[data-src]"),e=this;t.length&&$.each(t,function(t,i){var n=$(i),a=e.retinafyUrl(n.attr("data-src"));n.hasClass("k-lazy-loading")?n.attr("data-src",a):n.attr("src",a)})},resizeVideos:function(){$(".mejs-container video").each(function(){$v=$(this);var t=$v.data("aspect"),e=Math.min($v.parents(".mejs-container").parent().width(),$v.data("width")),i=e/t,n=this.player;if(n&&(n.setPlayerSize(e,i),n.setControlsSize()),"native"===this.pluginType){var a={width:e,height:i};$v.attr(a).css(a)}else n&&(n.options.videoWidth=e,n.options.videoHeight=i/t,n.media.setVideoSize&&n.media.setVideoSize(e,i))})},responsiveBackgrounds:function(){var t=$("[data-bg-presets]"),e=this;$.each(t,function(){var t,i=$(this),n=i.width(),a=i.height(),o=n/a,r=!1,s=/([a-z_\.]+)\,([0-9]+)\,([0-9]+)/g,l=i.data("bg-presets"),c=i.data("position")||"focal",d=i.css("background-image"),h=i.data("aspect"),u={backgroundRepeat:"no-repeat",backgroundSize:"cover"};if(0!==n&&0!==a){if("focal"===c){var f=i.data("focal-point").split(","),g=50,p=49;o>=h?p=f[1]:g=f[0],u.backgroundPosition=g+"% "+p+"%"}else u.backgroundPosition=c;for(;(t=s.exec(l))&&(r=e.retinafyUrl(i.data("base")+t[1]+"."+i.data("extension")),!(t[2]>=n&&t[3]>=a)););i.hasClass("k-lazy-loading-background")?i.attr("data-src",r):(r="url("+r+")",r&&r!==d&&(u.backgroundImage=r)),i.css(u)}})},responsiveImages:function(t,e){var i,n,a,o,r,s,l=t||$("img[data-presets]"),c=l.selector,d=(l.length,this),h=$.browser.msie||/Trident\/7\./.test(navigator.userAgent);$.each(l,function(t,e){e=$(e),"object"==typeof e.data("originalDom")&&(e=e.replaceWith(e.data("originalDom")),e.css("opacity",1))}),window.setTimeout(function(){var t=[],l=[],u=[],f=$(c),g=c.indexOf("data-responsive-hold")!==-1;f=f.filter(function(){if(!(!g&&$(this).attr("data-responsive-hold")||$(this).parents("script").length||$(this).parents(".k-control-structure").length&&"none"===$(this).parents(".k-control-structure").first().css("display"))){var e=$(this).css(["display","visibility","width","height","paddingLeft","paddingRight","paddingTop","paddingBottom","maxHeight"]);if("none"!==e.display&&"hidden"!==e.visibility){t.push(e);for(var i=0,n=$(this);0===i;){n=n.parent();var a=n.css("display");if("none"===a)return!1;"inline"==a||n.attr("data-koken-ignore-responsive")||(i=n.width())}return u.push(i),l.push({el:n,w:n.width(),h:n.height(),css:n.css(["boxSizing"])}),!0}return!1}}),g&&f.attr("data-responsive-hold",null),$.each(f,function(e,c){c=$(c),$(document).trigger("k-img-resize-start",c),"object"==typeof c.data("originalDom")&&(c=c.replaceWith(c.data("originalDom")));var f=c.data("presets"),g=c.attr("src")||"",p=t.shift(),k=h||p.width.indexOf("%")!==-1?0:parseInt(p.width,10)||0,m=h||p.height.indexOf("%")!==-1?0:parseInt(p.height,10)||0,v=(parseInt(p.paddingLeft,10)||0)+(parseInt(p.paddingRight,10)||0),y=(parseInt(p.paddingTop,10)||0)+(parseInt(p.paddingBottom,10)||0),w=0,b=c,x=!0;if(k-=v,m-=y,k<10&&(k=0),m<10&&(m=0),leafObj=l.shift(),leafObj.el.length){b=leafObj.el,w=u.shift(),s=leafObj.css.boxSizing;var K=Math.max(m,leafObj.h),z=p.maxHeight,C=parseInt(z,10);z.indexOf("%")!==-1&&(C=K*(C/100)),c.data("originalDom")||(k>0&&k!==w?(c.data("originalDom",c.clone().attr({"data-lazy-hold":null})),w=Math.min(w,k)):c.data("originalDom","noreplace")),r=c.data("respond-to")||"width",isNaN(C)||(K=C,"width"===r&&(r=!1));var T,A=w/K,D=/([a-z_\.]+)\,([0-9]+)\,([0-9]+)/g,j=c.data("retain-aspect")||!1,_="1:1"===j;if(i=c.data("base"),n=c.data("extension"),c.attr("data-alt")&&(c.attr("alt",c.data("alt")),c.attr("data-alt",null)),j&&!_){var M=j.split(":");A=M[0]/M[1],K=Math.round(w/A),c.attr({width:w,height:K});var I=g.match(/\,(\d+)\./);if(I){var S=Math.abs(w-I[1])/I[1];if(I[1]>=w||S<.2)return}var U=Math.max(w,K),R={tiny:60,small:100,medium:480,medium_large:800,large:1024,xlarge:1600,huge:2048},O="",Y=!1;$.each(R,function(t,e){if(U<=e){var i=e-U;return(!Y||U-Y>i)&&(O=t),!1}O=t,Y=e}),O=$K.imageDefaults[O],g=i+w+"."+K+"."+O.quality+"."+Math.round(100*O.sharpening)+".crop."+n}else{for(var P=!1,E=!1,q=0,B=0;T=D.exec(f);)if(a=_||T[1].indexOf(".crop")!==-1,o=T[2]/T[3],P!==T[2]||E!==T[3]){if(g=i+(T[1].replace(/\.crop$/,"")+(a?".crop":""))+"."+n,P=E=!1,a){if("width"===r){if(T[2]>=w){B=w,q=w;break}}else if("height"===r||C){if(T[3]>=K){B=K,q=K;break}}else if(T[2]>=w&&T[3]>=K){B=Math.min(w,K),q=B;break}}else if("width"===r){if(T[2]>=w){B=w,q=w/o;break}}else if("height"===r){if(T[3]>=K){q=K,B=K*o;break}}else{if(o>=A&&T[2]>=w){B=w,q=w/o;break}if(o<A&&T[3]>=K){q=K,B=K*o;break}}P=T[2],E=T[3]}var U;U=T?Math.max(T[2],T[3]):Math.max(P,E),P&&("height"===r&&E<K&&(P=K*o,E=P/o),B=P,q=E),B>w&&"width"===r&&(B=w,q=w/o),x=!c.attr("data-longest-side")||c.attr("data-longest-side")<U;var F={"data-longest-side":U},L=function(t){return Math.round(Math.round(10*t)/10)};if(c.attr("width")!=B&&(F.width=L(B)),c.attr("height")!=q&&(F.height=L(q)),!F.width&&!F.height)return;c.attr(F)}g=d.retinafyUrl(g),g!==c.attr("src")&&x&&(c.hasClass("k-lazy-loading")||c.hasClass("k-lazy-loaded")?(c.removeClass("k-lazy-loaded"),c.addClass("k-lazy-loading"),c.attr("data-src",g),c.attr("src",$K.tgif),$(document).trigger("k-image-loading",c)):c.attr("src",g)),$(document).trigger("k-img-resize",c)}}),setTimeout(function(){$K.lazy.init(),$(window).trigger("k-resize"),e&&e.call(d)},1)},1)},infinity:{$target:[],isLoading:!1,bttn:!1,_paused:!1,pause:function(){this._paused=!0},resume:function(){this._paused=!1,this.init(),this.check()},next:function(){if(!$K.infinity._paused&&$K.infinity.$target.length&&$K.location.parameters.page<this.totalPages){$(window).trigger("k-infinite-loading"),$K.location.parameters.page++,this.isLoading=!0;var t=this,e=location.href.match(/&preview=.*/)||"";$.ajax({url:$K.location.root+$K.location.here.replace(/\/$/,"")+"/page/"+$K.location.parameters.page+"/"+e,success:function(e){$.each($(e).find(".k-infinite-load"),function(e,i){$(t.$target[e]).before($(i).children())}),t.isLoading=!1,$(window).trigger("k-infinite-loaded",e),$K.ready(),t.check()}}),$K.location.parameters.page===this.totalPages&&this.bttn&&this.bttn.addClass("k-disabled")}},check:function(){if(!$K.infinity._paused&&this.$target.length&&!this.isLoading){var t=this.$target.first().siblings(":visible").last();t=t.children(":visible").length?t.children(":visible").last():t,t.length&&t.offset().top<$(window).scrollTop()+1.25*$(window).height()&&this.next()}},init:function(){if(!$K.infinity._paused&&!$K.infinity.$target.length){var t=$("span.k-infinite-load");if((t.length||$("br.k-infinite-marker").length)&&($.each(t,function(){$(this).append($("<br/>").css("display","none").addClass("k-infinite-marker")),$(this).replaceWith($(this).html())}),this.$target=$(".k-infinite-marker"),""!==this.selector)){var e=$(this.selector),i=this;this.bttn=e,e.length&&(this.totalPages>1?e.off("click").on("click",function(){i.next()}):e.remove())}}}},textPreview:function(t,e){var i="/text/"+(e?"":"drafts/")+"selection:"+t,n=this.location.host+this.location.real_root_folder+"/admin/#"+i;$("<div/>").attr("id","k_essay_preview").html('You are previewing a draft of this essay. <a href="'+n+'" title="Return to the console">Go back and make edits</a>.').prependTo("body")},_prepDate:function(t){if(!t.utc){var e=new Date;return t.timestamp+60*e.getTimezoneOffset()}return t.timestamp},formattedDate:function(t){var e=this._prepDate(t);return this.date(this.dateFormats.date,e)},formattedTime:function(t){var e=this._prepDate(t);return this.date(this.dateFormats.time,e)},formattedDateTime:function(t){return this.formattedDate(t)+" "+this.formattedTime(t)},date:function(t,e){var i,n,a=this,o=["Sun","Mon","Tues","Wednes","Thurs","Fri","Satur","January","February","March","April","May","June","July","August","September","October","November","December"],r=/\\?(.?)/gi,s=function(t,e){return n[t]?n[t]():e},l=function(t,e){for(t=String(t);t.length<e;)t="0"+t;return t};return n={d:function(){return l(n.j(),2)},D:function(){return n.l().slice(0,3)},j:function(){return i.getDate()},l:function(){return o[n.w()]+"day"},N:function(){return n.w()||7},S:function(){var t=n.j(),e=t%10;return e<=3&&1==parseInt(t%100/10,10)&&(e=0),["st","nd","rd"][e-1]||"th"},w:function(){return i.getDay()},z:function(){var t=new Date(n.Y(),n.n()-1,n.j()),e=new Date(n.Y(),0,1);return Math.round((t-e)/864e5)},W:function(){var t=new Date(n.Y(),n.n()-1,n.j()-n.N()+3),e=new Date(t.getFullYear(),0,4);return l(1+Math.round((t-e)/864e5/7),2)},F:function(){return o[6+n.n()]},m:function(){return l(n.n(),2)},M:function(){return n.F().slice(0,3)},n:function(){return i.getMonth()+1},t:function(){return new Date(n.Y(),n.n(),0).getDate()},L:function(){var t=n.Y();return t%4===0&t%100!==0|t%400===0},o:function(){var t=n.n(),e=n.W(),i=n.Y();return i+(12===t&&e<9?1:1===t&&e>9?-1:0)},Y:function(){return i.getFullYear()},y:function(){return n.Y().toString().slice(-2)},a:function(){return i.getHours()>11?"pm":"am"},A:function(){return n.a().toUpperCase()},B:function(){var t=3600*i.getUTCHours(),e=60*i.getUTCMinutes(),n=i.getUTCSeconds();return l(Math.floor((t+e+n+3600)/86.4)%1e3,3)},g:function(){return n.G()%12||12},G:function(){return i.getHours()},h:function(){return l(n.g(),2)},H:function(){return l(n.G(),2)},i:function(){return l(i.getMinutes(),2)},s:function(){return l(i.getSeconds(),2)},u:function(){return l(1e3*i.getMilliseconds(),6)},e:function(){throw"Not supported (see source code of date() for timezone on how to add support)"},I:function(){var t=new Date(n.Y(),0),e=Date.UTC(n.Y(),0),i=new Date(n.Y(),6),a=Date.UTC(n.Y(),6);return t-e!==i-a?1:0},O:function(){var t=i.getTimezoneOffset(),e=Math.abs(t);return(t>0?"-":"+")+l(100*Math.floor(e/60)+e%60,4)},P:function(){var t=n.O();return t.substr(0,3)+":"+t.substr(3,2)},T:function(){return"UTC"},Z:function(){return 60*-i.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(r,s)},r:function(){return"D, d M Y H:i:s O".replace(r,s)},U:function(){return i/1e3|0}},this.date=function(t,e){return a=this,i=void 0===e?new Date:e instanceof Date?new Date(e):new Date(1e3*e),t.replace(r,s)},this.date(t,e)},ready:function(){$("noscript").remove(),$("time.k-relative-time").timeago(),$K.responsiveImages(),$K.responsiveBackgrounds(),$K.loadImages(),$K.lazy.init(),$K.navigation.nest(),$K.infinity.init(),$K.keyboard.bind(),$K.layout.mosaic(),$("img").off(".kjs").on("error.kjs",function(){var t=$(this),e=t.data("fails")||0;$K.lazy.working.splice($.inArray(t.attr("src"),$K.lazy.working),1),e<3&&(e++,t.attr("data-src")||t.attr("data-src",t.attr("src")),t.removeClass("k-lazy-loaded").addClass("k-lazy-loading"),setTimeout(function(){$K.lazy.init()},100),t.data("fails",e))}),$(window).off(".kjs");var t,e=$(window).add("body");$K.scrollContainer&&(e=e.add($($K.scrollContainer))),e.off(".kjs").on("scroll.kjs",function(){clearTimeout(t),t=setTimeout(function(){$K.lazy.load(),$K.infinity.bttn||$K.infinity.check(),$(window).trigger("k-scroll")},300)});var i;$(window).on("resize.kjs orientationchange.kjs",function(){$K.resizeVideos(),clearTimeout(i),i=setTimeout(function(){$K.responsiveImages(),$K.responsiveBackgrounds(),$(window).trigger("k-resize")},250);var t=$("#k-lightbox-iframe");t.length&&$(t.get(0).contentDocument).find("html, body").height($(window).height())}),$K.infinity.bttn||$K.infinity.check(),$("body").fitVids(),$(".k-content-embed iframe").show(),$(".k-select").off("change").on("change",function(){"__label__"!==$(this).val()&&$K.loadUrl($K.location.root+$(this).val()+($K.location.preview?"&preview="+$K.location.preview:""))});var n=RegExp("https?://"+location.host+$K.location.root_folder+"(/(index|preview).php\\?)?"),a=document.referrer.replace(n,"");if(/^https?:/.test(a)&&(a=!1),$K.location.urls.album){var o=RegExp($K.location.urls.album.replace(/:[a-z_]+/,"[^/]+")+"/lightbox/?$");o.test(a)&&(a=a.replace(/\/lightbox\/?$/,""))}/\/lightbox\/?$/.test(a)&&$.cookie("koken_referrer")?a=$.cookie("koken_referrer"):/\/lightbox\/?$/.test(a)||$.cookie("koken_referrer",a,{path:"/"}),$K.location.referrer=a,$(document).trigger("k-ready")}},$(document).ready(function(){function t(){var t=$("body").attr("class")||"";$("body").attr("class",t.replace(/k\-source\-([^\s]+)(\sk\-lens\-([^\s]+))?/,$K.location.page_class));var t=$("html").attr("class")||"";$("html").attr("class",t.replace(/k\-source\-([^\s]+)(\sk\-lens\-([^\s]+))?/,$K.location.page_class)),$K.navigation.setCurrent()}window.Turbolinks&&window.Turbolinks.supported||$K.ready(),$(window).on("popstate",function(t){return!!$K.lightbox.solo||void(t.originalEvent.state&&t.originalEvent.state.lightboxEntry?($K.lightbox.entryUrl=!1,$K.lightbox.exit()):window===window.top&&location.href.match(/\/lightbox\/$/)&&($("#k-lightbox-iframe").length||$K.lightbox.load(location.href)))}),$(document).on("click","a",function(t){if($(this).attr("href").match(/\/lightbox\/(&preview=.*)?$/)&&!location.href.match(/\/lightbox\//)&&(t.preventDefault(),$(this).addClass("k-link-lightbox-loading"),$(document).trigger("koken:lightbox:loading",this),$K.lightbox.load($(this).attr("href"))),$(this).attr("data-koken-share")){var e=$(this).attr("data-koken-share");if("twitter"!==e||document.location.href.indexOf("preview.php")===-1){t.preventDefault();var i={pinterest:320,"google-plus":400,twitter:256},n=560,a=i[e]||450,o=window.screen.height/2-(a/2+50),r=window.screen.width/2-(n/2+10);window.open($(this).attr("href"),"_blank","top="+o+",left="+r+",width="+n+",height="+a)}}}),$(window).on("k-pjax-end",function(){t()}),$(window).on("pjax:transition:start pjax:transition:restore pjax:end",function(t){$.pjaxTransition&&"pjax:end"===t.type||($K.ready(),$K.navigation.setCurrent())}),$(window).on("pjax:transition:end",function(){$("body").fitVids()});var e=$.extend({},$K.location);$(document).on("pjax:send",function(){e=$.extend({},$K.location)}),$(window).on("pjax:transition:beforeRestore",function(){var i=$.extend({},$K.location);$K.location=$.extend({},e,{parameters:{page:1}}),e=i,t()}),$(document).on("page:fetch pjax:start",function(){$(".mejs-container video").each(function(){0===$(this).parents("#pjax-container-staging").length&&(this.player.remove(),$(this).remove())}),$K.lazy.queue=[],$K.infinity.$target=[],$K.pulse.teardown(),$K.lightbox.exit(!0),$(document).trigger("k-page-fetch")}),$(document).on("page:change",function(){$K.ready(),$(document).trigger("k-page-change")}),$(document).on("page:restore",function(){$(document).trigger("k-page-restore")})})}();$K.location = {"root":"","root_folder":"","real_root_folder":"","rewrite":true,"host":"https:\/\/marpi.pl","hostname":"marpi.pl","site_url":"https:\/\/marpi.pl","preview":false,"draft":false,"theme_path":"\/storage\/themes\/chastain-d174e766-5a5f-19eb-d735-5b46ae673a6d","urls":{"content":"\/content\/:slug\/","tag_content":"\/content\/tags\/:tag_slug\/:slug\/","category_content":"\/content\/categories\/:category_slug\/:slug\/","favorite":"\/favorites\/:slug\/","feature":"\/features\/:slug\/","album":"\/work\/:slug\/","tag_album":"\/work\/tags\/:tag_slug\/:slug\/","category_album":"\/work\/categories\/:category_slug\/:slug\/","archive_albums":"\/work\/:year(?:\/:month(?:\/:day)?)?\/","tag_albums":"\/work\/tags\/:slug\/","category_albums":"\/work\/categories\/:slug\/","albums":"\/work\/","set":"\/sets\/:slug\/","sets":"\/sets\/","essay":"\/about\/:slug\/","tag_essay":"\/about\/tags\/:tag_slug\/:slug\/","category_essay":"\/about\/categories\/:category_slug\/:slug\/","archive_essays":"\/about\/:year(?:\/:month(?:\/:day)?)?\/","tag_essays":"\/about\/tags\/:slug\/","category_essays":"\/about\/categories\/:slug\/","essays":"\/about\/","page":"\/live\/:slug\/"}};$K.lazy.max = 4;$K.imageDefaults = {"tiny":{"quality":"80","sharpening":"0.7"},"small":{"quality":"80","sharpening":"0.6"},"medium":{"quality":"85","sharpening":"0.6"},"medium_large":{"quality":"85","sharpening":"0.6"},"large":{"quality":"85","sharpening":"0.6"},"xlarge":{"quality":"90","sharpening":"0.3"},"huge":{"quality":"90","sharpening":"0"}};$K.theme = 'chastain-d174e766-5a5f-19eb-d735-5b46ae673a6d';$K.retinaEnabled = true;
$K.dateFormats = { date: "F j, Y", time: "g:i a" };/*!
 *
 * MediaElement.js
 * HTML5 <video> and <audio> shim and player
 * http://mediaelementjs.com/
 *
 * Creates a JavaScript object that mimics HTML5 MediaElement API
 * for browsers that don't understand HTML5 or can't play the provided codec
 * Can play MP4 (H.264), Ogg, WebM, FLV, WMV, WMA, ACC, and MP3
 *
 * Copyright 2010-2014, John Dyer (http://j.hn)
 * License: MIT
 *
 */
var mejs=mejs||{};mejs.version="2.23.4",mejs.meIndex=0,mejs.plugins={silverlight:[{version:[3,0],types:["video/mp4","video/m4v","video/mov","video/wmv","audio/wma","audio/m4a","audio/mp3","audio/wav","audio/mpeg"]}],flash:[{version:[9,0,124],types:["video/mp4","video/m4v","video/mov","video/flv","video/rtmp","video/x-flv","audio/flv","audio/x-flv","audio/mp3","audio/m4a","audio/mp4","audio/mpeg","video/dailymotion","video/x-dailymotion","application/x-mpegURL","audio/ogg"]}],youtube:[{version:null,types:["video/youtube","video/x-youtube","audio/youtube","audio/x-youtube"]}],vimeo:[{version:null,types:["video/vimeo","video/x-vimeo"]}]},mejs.Utility={encodeUrl:function(a){return encodeURIComponent(a)},escapeHTML:function(a){return a.toString().split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")},absolutizeUrl:function(a){var b=document.createElement("div");return b.innerHTML='<a href="'+this.escapeHTML(a)+'">x</a>',b.firstChild.href},getScriptPath:function(a){for(var b,c,d,e,f,g,h=0,i="",j="",k=document.getElementsByTagName("script"),l=k.length,m=a.length;l>h;h++){for(e=k[h].src,c=e.lastIndexOf("/"),c>-1?(g=e.substring(c+1),f=e.substring(0,c+1)):(g=e,f=""),b=0;m>b;b++)if(j=a[b],d=g.indexOf(j),d>-1){i=f;break}if(""!==i)break}return i},calculateTimeFormat:function(a,b,c){0>a&&(a=0),"undefined"==typeof c&&(c=25);var d=b.timeFormat,e=d[0],f=d[1]==d[0],g=f?2:1,h=":",i=Math.floor(a/3600)%24,j=Math.floor(a/60)%60,k=Math.floor(a%60),l=Math.floor((a%1*c).toFixed(3)),m=[[l,"f"],[k,"s"],[j,"m"],[i,"h"]];d.length<g&&(h=d[g]);for(var n=!1,o=0,p=m.length;p>o;o++)if(-1!==d.indexOf(m[o][1]))n=!0;else if(n){for(var q=!1,r=o;p>r;r++)if(m[r][0]>0){q=!0;break}if(!q)break;f||(d=e+d),d=m[o][1]+h+d,f&&(d=m[o][1]+d),e=m[o][1]}b.currentTimeFormat=d},twoDigitsString:function(a){return 10>a?"0"+a:String(a)},secondsToTimeCode:function(a,b){if(0>a&&(a=0),"object"!=typeof b){var c="m:ss";c=arguments[1]?"hh:mm:ss":c,c=arguments[2]?c+":ff":c,b={currentTimeFormat:c,framesPerSecond:arguments[3]||25}}var d=b.framesPerSecond;"undefined"==typeof d&&(d=25);var c=b.currentTimeFormat,e=Math.floor(a/3600)%24,f=Math.floor(a/60)%60,g=Math.floor(a%60),h=Math.floor((a%1*d).toFixed(3));lis=[[h,"f"],[g,"s"],[f,"m"],[e,"h"]];var j=c;for(i=0,len=lis.length;i<len;i++)j=j.replace(lis[i][1]+lis[i][1],this.twoDigitsString(lis[i][0])),j=j.replace(lis[i][1],lis[i][0]);return j},timeCodeToSeconds:function(a,b,c,d){"undefined"==typeof c?c=!1:"undefined"==typeof d&&(d=25);var e=a.split(":"),f=parseInt(e[0],10),g=parseInt(e[1],10),h=parseInt(e[2],10),i=0,j=0;return c&&(i=parseInt(e[3])/d),j=3600*f+60*g+h+i},convertSMPTEtoSeconds:function(a){if("string"!=typeof a)return!1;a=a.replace(",",".");var b=0,c=-1!=a.indexOf(".")?a.split(".")[1].length:0,d=1;a=a.split(":").reverse();for(var e=0;e<a.length;e++)d=1,e>0&&(d=Math.pow(60,e)),b+=Number(a[e])*d;return Number(b.toFixed(c))},removeSwf:function(a){var b=document.getElementById(a);b&&/object|embed/i.test(b.nodeName)&&(mejs.MediaFeatures.isIE?(b.style.display="none",function(){4==b.readyState?mejs.Utility.removeObjectInIE(a):setTimeout(arguments.callee,10)}()):b.parentNode.removeChild(b))},removeObjectInIE:function(a){var b=document.getElementById(a);if(b){for(var c in b)"function"==typeof b[c]&&(b[c]=null);b.parentNode.removeChild(b)}},determineScheme:function(a){return a&&-1!=a.indexOf("://")?a.substr(0,a.indexOf("://")+3):"//"},debounce:function(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}},isNodeAfter:function(a,b){return!!(a&&b&&"function"==typeof a.compareDocumentPosition&&a.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_PRECEDING)}},mejs.PluginDetector={hasPluginVersion:function(a,b){var c=this.plugins[a];return b[1]=b[1]||0,b[2]=b[2]||0,c[0]>b[0]||c[0]==b[0]&&c[1]>b[1]||c[0]==b[0]&&c[1]==b[1]&&c[2]>=b[2]?!0:!1},nav:window.navigator,ua:window.navigator.userAgent.toLowerCase(),plugins:[],addPlugin:function(a,b,c,d,e){this.plugins[a]=this.detectPlugin(b,c,d,e)},detectPlugin:function(a,b,c,d){var e,f,g,h=[0,0,0];if("undefined"!=typeof this.nav.plugins&&"object"==typeof this.nav.plugins[a]){if(e=this.nav.plugins[a].description,e&&("undefined"==typeof this.nav.mimeTypes||!this.nav.mimeTypes[b]||this.nav.mimeTypes[b].enabledPlugin))for(h=e.replace(a,"").replace(/^\s+/,"").replace(/\sr/gi,".").split("."),f=0;f<h.length;f++)h[f]=parseInt(h[f].match(/\d+/),10)}else if("undefined"!=typeof window.ActiveXObject)try{g=new ActiveXObject(c),g&&(h=d(g))}catch(i){}return h}},mejs.PluginDetector.addPlugin("flash","Shockwave Flash","application/x-shockwave-flash","ShockwaveFlash.ShockwaveFlash",function(a){var b=[],c=a.GetVariable("$version");return c&&(c=c.split(" ")[1].split(","),b=[parseInt(c[0],10),parseInt(c[1],10),parseInt(c[2],10)]),b}),mejs.PluginDetector.addPlugin("silverlight","Silverlight Plug-In","application/x-silverlight-2","AgControl.AgControl",function(a){var b=[0,0,0,0],c=function(a,b,c,d){for(;a.isVersionSupported(b[0]+"."+b[1]+"."+b[2]+"."+b[3]);)b[c]+=d;b[c]-=d};return c(a,b,0,1),c(a,b,1,1),c(a,b,2,1e4),c(a,b,2,1e3),c(a,b,2,100),c(a,b,2,10),c(a,b,2,1),c(a,b,3,1),b}),mejs.MediaFeatures={init:function(){var a,b,c=this,d=document,e=mejs.PluginDetector.nav,f=mejs.PluginDetector.ua.toLowerCase(),g=["source","track","audio","video"];c.isiPad=null!==f.match(/ipad/i),c.isiPhone=null!==f.match(/iphone/i),c.isiOS=c.isiPhone||c.isiPad,c.isAndroid=null!==f.match(/android/i),c.isBustedAndroid=null!==f.match(/android 2\.[12]/),c.isBustedNativeHTTPS="https:"===location.protocol&&(null!==f.match(/android [12]\./)||null!==f.match(/macintosh.* version.* safari/)),c.isIE=-1!=e.appName.toLowerCase().indexOf("microsoft")||null!==e.appName.toLowerCase().match(/trident/gi),c.isChrome=null!==f.match(/chrome/gi),c.isChromium=null!==f.match(/chromium/gi),c.isFirefox=null!==f.match(/firefox/gi),c.isWebkit=null!==f.match(/webkit/gi),c.isGecko=null!==f.match(/gecko/gi)&&!c.isWebkit&&!c.isIE,c.isOpera=null!==f.match(/opera/gi),c.hasTouch="ontouchstart"in window,c.svgAsImg=!!document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1");for(a=0;a<g.length;a++)b=document.createElement(g[a]);c.supportsMediaTag="undefined"!=typeof b.canPlayType||c.isBustedAndroid;try{b.canPlayType("video/mp4")}catch(h){c.supportsMediaTag=!1}c.supportsPointerEvents=function(){var a,b=document.createElement("x"),c=document.documentElement,d=window.getComputedStyle;return"pointerEvents"in b.style?(b.style.pointerEvents="auto",b.style.pointerEvents="x",c.appendChild(b),a=d&&"auto"===d(b,"").pointerEvents,c.removeChild(b),!!a):!1}(),c.hasFirefoxPluginMovingProblem=!1,c.hasiOSFullScreen="undefined"!=typeof b.webkitEnterFullscreen,c.hasNativeFullscreen="undefined"!=typeof b.requestFullscreen,c.hasWebkitNativeFullScreen="undefined"!=typeof b.webkitRequestFullScreen,c.hasMozNativeFullScreen="undefined"!=typeof b.mozRequestFullScreen,c.hasMsNativeFullScreen="undefined"!=typeof b.msRequestFullscreen,c.hasTrueNativeFullScreen=c.hasWebkitNativeFullScreen||c.hasMozNativeFullScreen||c.hasMsNativeFullScreen,c.nativeFullScreenEnabled=c.hasTrueNativeFullScreen,c.hasMozNativeFullScreen?c.nativeFullScreenEnabled=document.mozFullScreenEnabled:c.hasMsNativeFullScreen&&(c.nativeFullScreenEnabled=document.msFullscreenEnabled),c.isChrome&&(c.hasiOSFullScreen=!1),c.hasTrueNativeFullScreen&&(c.fullScreenEventName="",c.hasWebkitNativeFullScreen?c.fullScreenEventName="webkitfullscreenchange":c.hasMozNativeFullScreen?c.fullScreenEventName="mozfullscreenchange":c.hasMsNativeFullScreen&&(c.fullScreenEventName="MSFullscreenChange"),c.isFullScreen=function(){return c.hasMozNativeFullScreen?d.mozFullScreen:c.hasWebkitNativeFullScreen?d.webkitIsFullScreen:c.hasMsNativeFullScreen?null!==d.msFullscreenElement:void 0},c.requestFullScreen=function(a){c.hasWebkitNativeFullScreen?a.webkitRequestFullScreen():c.hasMozNativeFullScreen?a.mozRequestFullScreen():c.hasMsNativeFullScreen&&a.msRequestFullscreen()},c.cancelFullScreen=function(){c.hasWebkitNativeFullScreen?document.webkitCancelFullScreen():c.hasMozNativeFullScreen?document.mozCancelFullScreen():c.hasMsNativeFullScreen&&document.msExitFullscreen()}),c.hasiOSFullScreen&&f.match(/mac os x 10_5/i)&&(c.hasNativeFullScreen=!1,c.hasiOSFullScreen=!1)}},mejs.MediaFeatures.init(),mejs.HtmlMediaElement={pluginType:"native",isFullScreen:!1,setCurrentTime:function(a){this.currentTime=a},setMuted:function(a){this.muted=a},setVolume:function(a){this.volume=a},stop:function(){this.pause()},setSrc:function(a){for(var b=this.getElementsByTagName("source");b.length>0;)this.removeChild(b[0]);if("string"==typeof a)this.src=a;else{var c,d;for(c=0;c<a.length;c++)if(d=a[c],this.canPlayType(d.type)){this.src=d.src;break}}},setVideoSize:function(a,b){this.width=a,this.height=b}},mejs.PluginMediaElement=function(a,b,c){this.id=a,this.pluginType=b,this.src=c,this.events={},this.attributes={}},mejs.PluginMediaElement.prototype={pluginElement:null,pluginType:"",isFullScreen:!1,playbackRate:-1,defaultPlaybackRate:-1,seekable:[],played:[],paused:!0,ended:!1,seeking:!1,duration:0,error:null,tagName:"",muted:!1,volume:1,currentTime:0,play:function(){null!=this.pluginApi&&("youtube"==this.pluginType||"vimeo"==this.pluginType?this.pluginApi.playVideo():this.pluginApi.playMedia(),this.paused=!1)},load:function(){null!=this.pluginApi&&("youtube"==this.pluginType||"vimeo"==this.pluginType||this.pluginApi.loadMedia(),this.paused=!1)},pause:function(){null!=this.pluginApi&&("youtube"==this.pluginType||"vimeo"==this.pluginType?1==this.pluginApi.getPlayerState()&&this.pluginApi.pauseVideo():this.pluginApi.pauseMedia(),this.paused=!0)},stop:function(){null!=this.pluginApi&&("youtube"==this.pluginType||"vimeo"==this.pluginType?this.pluginApi.stopVideo():this.pluginApi.stopMedia(),this.paused=!0)},canPlayType:function(a){var b,c,d,e=mejs.plugins[this.pluginType];for(b=0;b<e.length;b++)if(d=e[b],mejs.PluginDetector.hasPluginVersion(this.pluginType,d.version))for(c=0;c<d.types.length;c++)if(a==d.types[c])return"probably";return""},positionFullscreenButton:function(a,b,c){null!=this.pluginApi&&this.pluginApi.positionFullscreenButton&&this.pluginApi.positionFullscreenButton(Math.floor(a),Math.floor(b),c)},hideFullscreenButton:function(){null!=this.pluginApi&&this.pluginApi.hideFullscreenButton&&this.pluginApi.hideFullscreenButton()},setSrc:function(a){if("string"==typeof a)this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(a)),this.src=mejs.Utility.absolutizeUrl(a);else{var b,c;for(b=0;b<a.length;b++)if(c=a[b],this.canPlayType(c.type)){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(c.src)),this.src=mejs.Utility.absolutizeUrl(c.src);break}}},setCurrentTime:function(a){null!=this.pluginApi&&("youtube"==this.pluginType||"vimeo"==this.pluginType?this.pluginApi.seekTo(a):this.pluginApi.setCurrentTime(a),this.currentTime=a)},setVolume:function(a){null!=this.pluginApi&&("youtube"==this.pluginType?this.pluginApi.setVolume(100*a):this.pluginApi.setVolume(a),this.volume=a)},setMuted:function(a){null!=this.pluginApi&&("youtube"==this.pluginType?(a?this.pluginApi.mute():this.pluginApi.unMute(),this.muted=a,this.dispatchEvent({type:"volumechange"})):this.pluginApi.setMuted(a),this.muted=a)},setVideoSize:function(a,b){this.pluginElement&&this.pluginElement.style&&(this.pluginElement.style.width=a+"px",this.pluginElement.style.height=b+"px"),null!=this.pluginApi&&this.pluginApi.setVideoSize&&this.pluginApi.setVideoSize(a,b)},setFullscreen:function(a){null!=this.pluginApi&&this.pluginApi.setFullscreen&&this.pluginApi.setFullscreen(a)},enterFullScreen:function(){null!=this.pluginApi&&this.pluginApi.setFullscreen&&this.setFullscreen(!0)},exitFullScreen:function(){null!=this.pluginApi&&this.pluginApi.setFullscreen&&this.setFullscreen(!1)},addEventListener:function(a,b,c){this.events[a]=this.events[a]||[],this.events[a].push(b)},removeEventListener:function(a,b){if(!a)return this.events={},!0;var c=this.events[a];if(!c)return!0;if(!b)return this.events[a]=[],!0;for(var d=0;d<c.length;d++)if(c[d]===b)return this.events[a].splice(d,1),!0;return!1},dispatchEvent:function(a){var b,c=this.events[a.type];if(c)for(b=0;b<c.length;b++)c[b].apply(this,[a])},hasAttribute:function(a){return a in this.attributes},removeAttribute:function(a){delete this.attributes[a]},getAttribute:function(a){return this.hasAttribute(a)?this.attributes[a]:null},setAttribute:function(a,b){this.attributes[a]=b},remove:function(){mejs.Utility.removeSwf(this.pluginElement.id)}},mejs.MediaElementDefaults={mode:"auto",plugins:["flash","silverlight","youtube","vimeo"],enablePluginDebug:!1,httpsBasicAuthSite:!1,type:"",pluginPath:mejs.Utility.getScriptPath(["mediaelement.js","mediaelement.min.js","mediaelement-and-player.js","mediaelement-and-player.min.js"]),flashName:"flashmediaelement.swf",flashStreamer:"",flashScriptAccess:"sameDomain",enablePluginSmoothing:!1,enablePseudoStreaming:!1,pseudoStreamingStartQueryParam:"start",silverlightName:"silverlightmediaelement.xap",defaultVideoWidth:480,defaultVideoHeight:270,pluginWidth:-1,pluginHeight:-1,pluginVars:[],timerRate:250,startVolume:.8,customError:"",success:function(){},error:function(){}},mejs.MediaElement=function(a,b){return mejs.HtmlMediaElementShim.create(a,b)},mejs.HtmlMediaElementShim={create:function(a,b){var c,d,e={},f="string"==typeof a?document.getElementById(a):a,g=f.tagName.toLowerCase(),h="audio"===g||"video"===g,i=h?f.getAttribute("src"):f.getAttribute("href"),j=f.getAttribute("poster"),k=f.getAttribute("autoplay"),l=f.getAttribute("preload"),m=f.getAttribute("controls");for(d in mejs.MediaElementDefaults)e[d]=mejs.MediaElementDefaults[d];for(d in b)e[d]=b[d];return i="undefined"==typeof i||null===i||""==i?null:i,j="undefined"==typeof j||null===j?"":j,l="undefined"==typeof l||null===l||"false"===l?"none":l,k=!("undefined"==typeof k||null===k||"false"===k),m=!("undefined"==typeof m||null===m||"false"===m),c=this.determinePlayback(f,e,mejs.MediaFeatures.supportsMediaTag,h,i),c.url=null!==c.url?mejs.Utility.absolutizeUrl(c.url):"",c.scheme=mejs.Utility.determineScheme(c.url),"native"==c.method?(mejs.MediaFeatures.isBustedAndroid&&(f.src=c.url,f.addEventListener("click",function(){f.play()},!1)),this.updateNative(c,e,k,l)):""!==c.method?this.createPlugin(c,e,j,k,l,m):(this.createErrorMessage(c,e,j),this)},determinePlayback:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=[],r={method:"",url:"",htmlMediaElement:a,isVideo:"audio"!==a.tagName.toLowerCase(),scheme:""};if("undefined"!=typeof b.type&&""!==b.type)if("string"==typeof b.type)q.push({type:b.type,url:e});else for(f=0;f<b.type.length;f++)q.push({type:b.type[f],url:e});else if(null!==e)k=this.formatType(e,a.getAttribute("type")),q.push({type:k,url:e});else for(f=0;f<a.childNodes.length;f++)j=a.childNodes[f],1==j.nodeType&&"source"==j.tagName.toLowerCase()&&(e=j.getAttribute("src"),k=this.formatType(e,j.getAttribute("type")),p=j.getAttribute("media"),(!p||!window.matchMedia||window.matchMedia&&window.matchMedia(p).matches)&&q.push({type:k,url:e}));if(!d&&q.length>0&&null!==q[0].url&&this.getTypeFromFile(q[0].url).indexOf("audio")>-1&&(r.isVideo=!1),r.isVideo&&mejs.MediaFeatures.isBustedAndroid&&(a.canPlayType=function(a){return null!==a.match(/video\/(mp4|m4v)/gi)?"maybe":""}),r.isVideo&&mejs.MediaFeatures.isChromium&&(a.canPlayType=function(a){return null!==a.match(/video\/(webm|ogv|ogg)/gi)?"maybe":""}),c&&("auto"===b.mode||"auto_plugin"===b.mode||"native"===b.mode)&&(!mejs.MediaFeatures.isBustedNativeHTTPS||b.httpsBasicAuthSite!==!0)){for(d||(o=document.createElement(r.isVideo?"video":"audio"),a.parentNode.insertBefore(o,a),a.style.display="none",r.htmlMediaElement=a=o),f=0;f<q.length;f++)if("video/m3u8"==q[f].type||""!==a.canPlayType(q[f].type).replace(/no/,"")||""!==a.canPlayType(q[f].type.replace(/mp3/,"mpeg")).replace(/no/,"")||""!==a.canPlayType(q[f].type.replace(/m4a/,"mp4")).replace(/no/,"")){r.method="native",r.url=q[f].url;break}if("native"===r.method&&(null!==r.url&&(a.src=r.url),"auto_plugin"!==b.mode))return r}if("auto"===b.mode||"auto_plugin"===b.mode||"shim"===b.mode)for(f=0;f<q.length;f++)for(k=q[f].type,g=0;g<b.plugins.length;g++)for(l=b.plugins[g],m=mejs.plugins[l],h=0;h<m.length;h++)if(n=m[h],null==n.version||mejs.PluginDetector.hasPluginVersion(l,n.version))for(i=0;i<n.types.length;i++)if(k.toLowerCase()==n.types[i].toLowerCase())return r.method=l,r.url=q[f].url,r;return"auto_plugin"===b.mode&&"native"===r.method?r:(""===r.method&&q.length>0&&(r.url=q[0].url),r)},formatType:function(a,b){return a&&!b?this.getTypeFromFile(a):b&&~b.indexOf(";")?b.substr(0,b.indexOf(";")):b},getTypeFromFile:function(a){a=a.split("?")[0];var b=a.substring(a.lastIndexOf(".")+1).toLowerCase(),c=/(mp4|m4v|ogg|ogv|m3u8|webm|webmv|flv|wmv|mpeg|mov)/gi.test(b)?"video/":"audio/";return this.getTypeFromExtension(b,c)},getTypeFromExtension:function(a,b){switch(b=b||"",a){case"mp4":case"m4v":case"m4a":case"f4v":case"f4a":return b+"mp4";case"flv":return b+"x-flv";case"webm":case"webma":case"webmv":return b+"webm";case"ogg":case"oga":case"ogv":return b+"ogg";case"m3u8":return"application/x-mpegurl";case"ts":return b+"mp2t";default:return b+a}},createErrorMessage:function(a,b,c){var d=a.htmlMediaElement,e=document.createElement("div"),f=b.customError;e.className="me-cannotplay";try{e.style.width=d.width+"px",e.style.height=d.height+"px"}catch(g){}f||(f='<a href="'+a.url+'">',""!==c&&(f+='<img src="'+c+'" width="100%" height="100%" alt="" />'),f+="<span>"+mejs.i18n.t("mejs.download-file")+"</span></a>"),e.innerHTML=f,d.parentNode.insertBefore(e,d),d.style.display="none",b.error(d)},createPlugin:function(a,b,c,d,e,f){var g,h,i,j=a.htmlMediaElement,k=1,l=1,m="me_"+a.method+"_"+mejs.meIndex++,n=new mejs.PluginMediaElement(m,a.method,a.url),o=document.createElement("div");n.tagName=j.tagName;for(var p=0;p<j.attributes.length;p++){var q=j.attributes[p];q.specified&&n.setAttribute(q.name,q.value)}for(h=j.parentNode;null!==h&&null!=h.tagName&&"body"!==h.tagName.toLowerCase()&&null!=h.parentNode&&null!=h.parentNode.tagName&&null!=h.parentNode.constructor&&"ShadowRoot"===h.parentNode.constructor.name;){if("p"===h.parentNode.tagName.toLowerCase()){h.parentNode.parentNode.insertBefore(h,h.parentNode);break}h=h.parentNode}if(a.isVideo?(k=b.pluginWidth>0?b.pluginWidth:b.videoWidth>0?b.videoWidth:null!==j.getAttribute("width")?j.getAttribute("width"):b.defaultVideoWidth,l=b.pluginHeight>0?b.pluginHeight:b.videoHeight>0?b.videoHeight:null!==j.getAttribute("height")?j.getAttribute("height"):b.defaultVideoHeight,k=mejs.Utility.encodeUrl(k),l=mejs.Utility.encodeUrl(l)):b.enablePluginDebug&&(k=320,l=240),n.success=b.success,o.className="me-plugin",o.id=m+"_container",a.isVideo?j.parentNode.insertBefore(o,j):document.body.insertBefore(o,document.body.childNodes[0]),"flash"===a.method||"silverlight"===a.method){var r="audio/mp4"===j.getAttribute("type"),s=j.getElementsByTagName("source");if(s&&!r)for(var p=0,t=s.length;t>p;p++)"audio/mp4"===s[p].getAttribute("type")&&(r=!0);i=["id="+m,"isvideo="+(a.isVideo||r?"true":"false"),"autoplay="+(d?"true":"false"),"preload="+e,"width="+k,"startvolume="+b.startVolume,"timerrate="+b.timerRate,"flashstreamer="+b.flashStreamer,"height="+l,"pseudostreamstart="+b.pseudoStreamingStartQueryParam],null!==a.url&&("flash"==a.method?i.push("file="+mejs.Utility.encodeUrl(a.url)):i.push("file="+a.url)),b.enablePluginDebug&&i.push("debug=true"),b.enablePluginSmoothing&&i.push("smoothing=true"),b.enablePseudoStreaming&&i.push("pseudostreaming=true"),f&&i.push("controls=true"),b.pluginVars&&(i=i.concat(b.pluginVars)),window[m+"_init"]=function(){switch(n.pluginType){case"flash":n.pluginElement=n.pluginApi=document.getElementById(m);break;case"silverlight":n.pluginElement=document.getElementById(n.id),n.pluginApi=n.pluginElement.Content.MediaElementJS}null!=n.pluginApi&&n.success&&n.success(n,j)},window[m+"_event"]=function(a,b){var c,d,e;c={type:a,target:n};for(d in b)n[d]=b[d],c[d]=b[d];e=b.bufferedTime||0,c.target.buffered=c.buffered={start:function(a){return 0},end:function(a){return e},length:1},n.dispatchEvent(c)}}switch(a.method){case"silverlight":o.innerHTML='<object data="data:application/x-silverlight-2," type="application/x-silverlight-2" id="'+m+'" name="'+m+'" width="'+k+'" height="'+l+'" class="mejs-shim"><param name="initParams" value="'+i.join(",")+'" /><param name="windowless" value="true" /><param name="background" value="black" /><param name="minRuntimeVersion" value="3.0.0.0" /><param name="autoUpgrade" value="true" /><param name="source" value="'+b.pluginPath+b.silverlightName+'" /></object>';break;case"flash":mejs.MediaFeatures.isIE?(g=document.createElement("div"),o.appendChild(g),g.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+m+'" width="'+k+'" height="'+l+'" class="mejs-shim"><param name="movie" value="'+b.pluginPath+b.flashName+"?"+(new Date).getTime()+'" /><param name="flashvars" value="'+i.join("&amp;")+'" /><param name="quality" value="high" /><param name="bgcolor" value="#000000" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="'+b.flashScriptAccess+'" /><param name="allowFullScreen" value="true" /><param name="scale" value="default" /></object>'):o.innerHTML='<embed id="'+m+'" name="'+m+'" play="true" loop="false" quality="high" bgcolor="#000000" wmode="transparent" allowScriptAccess="'+b.flashScriptAccess+'" allowFullScreen="true" type="application/x-shockwave-flash" pluginspage="//www.macromedia.com/go/getflashplayer" src="'+b.pluginPath+b.flashName+'" flashvars="'+i.join("&")+'" width="'+k+'" height="'+l+'" scale="default"class="mejs-shim"></embed>';break;case"youtube":var u;if(-1!=a.url.lastIndexOf("youtu.be"))u=a.url.substr(a.url.lastIndexOf("/")+1),-1!=u.indexOf("?")&&(u=u.substr(0,u.indexOf("?")));else{var v=a.url.match(/[?&]v=([^&#]+)|&|#|$/);v&&(u=v[1])}youtubeSettings={container:o,containerId:o.id,pluginMediaElement:n,pluginId:m,videoId:u,height:l,width:k,scheme:a.scheme,variables:b.youtubeIframeVars},window.postMessage?mejs.YouTubeApi.enqueueIframe(youtubeSettings):mejs.PluginDetector.hasPluginVersion("flash",[10,0,0])&&mejs.YouTubeApi.createFlash(youtubeSettings,b);break;case"vimeo":var w=m+"_player";if(n.vimeoid=a.url.substr(a.url.lastIndexOf("/")+1),o.innerHTML='<iframe src="'+a.scheme+"player.vimeo.com/video/"+n.vimeoid+"?api=1&portrait=0&byline=0&title=0&player_id="+w+'" width="'+k+'" height="'+l+'" frameborder="0" class="mejs-shim" id="'+w+'" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>',"function"==typeof $f){var x=$f(o.childNodes[0]),y=-1;x.addEvent("ready",function(){function a(a,b,c,d){var e={type:c,target:b};"timeupdate"==c&&(b.currentTime=e.currentTime=d.seconds,b.duration=e.duration=d.duration),b.dispatchEvent(e)}x.playVideo=function(){x.api("play")},x.stopVideo=function(){x.api("unload")},x.pauseVideo=function(){x.api("pause")},x.seekTo=function(a){x.api("seekTo",a)},x.setVolume=function(a){x.api("setVolume",a)},x.setMuted=function(a){a?(x.lastVolume=x.api("getVolume"),x.api("setVolume",0)):(x.api("setVolume",x.lastVolume),delete x.lastVolume)},x.getPlayerState=function(){return y},x.addEvent("play",function(){y=1,a(x,n,"play"),a(x,n,"playing")}),x.addEvent("pause",function(){y=2,a(x,n,"pause")}),x.addEvent("finish",function(){y=0,a(x,n,"ended")}),x.addEvent("playProgress",function(b){a(x,n,"timeupdate",b)}),x.addEvent("seek",function(b){y=3,a(x,n,"seeked",b)}),x.addEvent("loadProgress",function(b){y=3,a(x,n,"progress",b)}),n.pluginElement=o,n.pluginApi=x,n.success(n,n.pluginElement)})}else console.warn("You need to include froogaloop for vimeo to work")}return j.style.display="none",j.removeAttribute("autoplay"),n},updateNative:function(a,b,c,d){var e,f=a.htmlMediaElement;for(e in mejs.HtmlMediaElement)f[e]=mejs.HtmlMediaElement[e];return b.success(f,f),f}},mejs.YouTubeApi={isIframeStarted:!1,isIframeLoaded:!1,loadIframeApi:function(a){if(!this.isIframeStarted){var b=document.createElement("script");b.src=a.scheme+"www.youtube.com/player_api";var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c),this.isIframeStarted=!0}},iframeQueue:[],enqueueIframe:function(a){this.isLoaded?this.createIframe(a):(this.loadIframeApi(a),this.iframeQueue.push(a))},createIframe:function(a){var b=a.pluginMediaElement,c={controls:0,wmode:"transparent"},d=new YT.Player(a.containerId,{height:a.height,width:a.width,videoId:a.videoId,playerVars:mejs.$.extend({},c,a.variables),events:{onReady:function(c){d.setVideoSize=function(a,b){d.setSize(a,b)},a.pluginMediaElement.pluginApi=d,a.pluginMediaElement.pluginElement=document.getElementById(a.containerId),b.success(b,b.pluginElement),mejs.YouTubeApi.createEvent(d,b,"canplay"),setInterval(function(){mejs.YouTubeApi.createEvent(d,b,"timeupdate")},250),"undefined"!=typeof b.attributes.autoplay&&d.playVideo()},onStateChange:function(a){mejs.YouTubeApi.handleStateChange(a.data,d,b)}}})},createEvent:function(a,b,c){var d={type:c,target:b};if(a&&a.getDuration){b.currentTime=d.currentTime=a.getCurrentTime(),b.duration=d.duration=a.getDuration(),d.paused=b.paused,d.ended=b.ended,d.muted=a.isMuted(),d.volume=a.getVolume()/100,d.bytesTotal=a.getVideoBytesTotal(),d.bufferedBytes=a.getVideoBytesLoaded();var e=d.bufferedBytes/d.bytesTotal*d.duration;d.target.buffered=d.buffered={start:function(a){return 0},end:function(a){return e},length:1}}b.dispatchEvent(d)},iFrameReady:function(){for(this.isLoaded=!0,this.isIframeLoaded=!0;this.iframeQueue.length>0;){var a=this.iframeQueue.pop();this.createIframe(a)}},flashPlayers:{},createFlash:function(a){this.flashPlayers[a.pluginId]=a;var b,c=a.scheme+"www.youtube.com/apiplayer?enablejsapi=1&amp;playerapiid="+a.pluginId+"&amp;version=3&amp;autoplay=0&amp;controls=0&amp;modestbranding=1&loop=0";mejs.MediaFeatures.isIE?(b=document.createElement("div"),a.container.appendChild(b),b.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+a.scheme+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+a.pluginId+'" width="'+a.width+'" height="'+a.height+'" class="mejs-shim"><param name="movie" value="'+c+'" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="'+options.flashScriptAccess+'" /><param name="allowFullScreen" value="true" /></object>'):a.container.innerHTML='<object type="application/x-shockwave-flash" id="'+a.pluginId+'" data="'+c+'" width="'+a.width+'" height="'+a.height+'" style="visibility: visible; " class="mejs-shim"><param name="allowScriptAccess" value="'+options.flashScriptAccess+'"><param name="wmode" value="transparent"></object>'},flashReady:function(a){var b=this.flashPlayers[a],c=document.getElementById(a),d=b.pluginMediaElement;d.pluginApi=d.pluginElement=c,b.success(d,d.pluginElement),c.cueVideoById(b.videoId);var e=b.containerId+"_callback";window[e]=function(a){mejs.YouTubeApi.handleStateChange(a,c,d)},c.addEventListener("onStateChange",e),setInterval(function(){mejs.YouTubeApi.createEvent(c,d,"timeupdate")},250),mejs.YouTubeApi.createEvent(c,d,"canplay")},handleStateChange:function(a,b,c){switch(a){case-1:c.paused=!0,c.ended=!0,mejs.YouTubeApi.createEvent(b,c,"loadedmetadata");break;case 0:c.paused=!1,c.ended=!0,mejs.YouTubeApi.createEvent(b,c,"ended");break;case 1:c.paused=!1,c.ended=!1,mejs.YouTubeApi.createEvent(b,c,"play"),mejs.YouTubeApi.createEvent(b,c,"playing");break;case 2:c.paused=!0,c.ended=!1,mejs.YouTubeApi.createEvent(b,c,"pause");break;case 3:mejs.YouTubeApi.createEvent(b,c,"progress");break;case 5:}}},window.onYouTubePlayerAPIReady=function(){mejs.YouTubeApi.iFrameReady()},window.onYouTubePlayerReady=function(a){mejs.YouTubeApi.flashReady(a)},window.mejs=mejs,window.MediaElement=mejs.MediaElement,function(a,b,c,d){var e={"default":"en",locale:{language:c.i18n&&c.i18n.locale.language||"",strings:c.i18n&&c.i18n.locale.strings||{}},pluralForms:[function(){return arguments[1]},function(){var a=arguments;return 1===a[0]?a[1]:a[2]},function(){var a=arguments;return[0,1].indexOf(a[0])>-1?a[1]:a[2]},function(){var a=arguments;return a[0]%10===1&&a[0]%100!==11?a[1]:0!==a[0]?a[2]:a[3]},function(){var a=arguments;return 1===a[0]||11===a[0]?a[1]:2===a[0]||12===a[0]?a[2]:a[0]>2&&a[0]<20?a[3]:a[4]},function(){return 1===args[0]?args[1]:0===args[0]||args[0]%100>0&&args[0]%100<20?args[2]:args[3]},function(){var a=arguments;return a[0]%10===1&&a[0]%100!==11?a[1]:a[0]%10>=2&&(a[0]%100<10||a[0]%100>=20)?a[2]:[3]},function(){var a=arguments;return a[0]%10===1&&a[0]%100!==11?a[1]:a[0]%10>=2&&a[0]%10<=4&&(a[0]%100<10||a[0]%100>=20)?a[2]:a[3]},function(){var a=arguments;return 1===a[0]?a[1]:a[0]>=2&&a[0]<=4?a[2]:a[3]},function(){var a=arguments;return 1===a[0]?a[1]:a[0]%10>=2&&a[0]%10<=4&&(a[0]%100<10||a[0]%100>=20)?a[2]:a[3]},function(){var a=arguments;return a[0]%100===1?a[2]:a[0]%100===2?a[3]:a[0]%100===3||a[0]%100===4?a[4]:a[1]},function(){var a=arguments;return 1===a[0]?a[1]:2===a[0]?a[2]:a[0]>2&&a[0]<7?a[3]:a[0]>6&&a[0]<11?a[4]:a[5]},function(){var a=arguments;return 0===a[0]?a[1]:1===a[0]?a[2]:2===a[0]?a[3]:a[0]%100>=3&&a[0]%100<=10?a[4]:a[0]%100>=11?a[5]:a[6]},function(){var a=arguments;return 1===a[0]?a[1]:0===a[0]||a[0]%100>1&&a[0]%100<11?a[2]:a[0]%100>10&&a[0]%100<20?a[3]:a[4]},function(){var a=arguments;return a[0]%10===1?a[1]:a[0]%10===2?a[2]:a[3]},function(){var a=arguments;return 11!==a[0]&&a[0]%10===1?a[1]:a[2]},function(){var a=arguments;return 1===a[0]?a[1]:a[0]%10>=2&&a[0]%10<=4&&(a[0]%100<10||a[0]%100>=20)?a[2]:a[3]},function(){var a=arguments;return 1===a[0]?a[1]:2===a[0]?a[2]:8!==a[0]&&11!==a[0]?a[3]:a[4]},function(){var a=arguments;return 0===a[0]?a[1]:a[2]},function(){var a=arguments;return 1===a[0]?a[1]:2===a[0]?a[2]:3===a[0]?a[3]:a[4]},function(){var a=arguments;return 0===a[0]?a[1]:1===a[0]?a[2]:a[3]}],getLanguage:function(){var a=e.locale.language||e["default"];return/^(x\-)?[a-z]{2,}(\-\w{2,})?(\-\w{2,})?$/.exec(a)?a:e["default"]},t:function(a,b){if("string"==typeof a&&a.length){var c,d,f=e.getLanguage(),g=function(a,b,c){return"object"!=typeof a||"number"!=typeof b||"number"!=typeof c?a:"string"==typeof a?a:e.pluralForms[c].apply(null,[b].concat(a))},h=function(a){var b={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};return a.replace(/[&<>"]/g,function(a){return b[a]})};return e.locale.strings&&e.locale.strings[f]&&(c=e.locale.strings[f][a],"number"==typeof b&&(d=e.locale.strings[f]["mejs.plural-form"],c=g.apply(null,[c,b,d]))),!c&&e.locale.strings&&e.locale.strings[e["default"]]&&(c=e.locale.strings[e["default"]][a],"number"==typeof b&&(d=e.locale.strings[e["default"]]["mejs.plural-form"],c=g.apply(null,[c,b,d]))),c=c||a,"number"==typeof b&&(c=c.replace("%1",b)),h(c)}return a}};"undefined"!=typeof mejsL10n&&(e.locale.language=mejsL10n.language),c.i18n=e}(document,window,mejs),function(a,b){"use strict";"undefined"!=typeof mejsL10n&&(a[mejsL10n.lang]=mejsL10n.strings)}(mejs.i18n.locale.strings),/*!
 * This is a i18n.locale language object.
 *
 * English; This can serve as a template for other languages to translate
 *
 * @author
 *   TBD
 *   Sascha Greuel (Twitter: @SoftCreatR)
 *
 * @see
 *   me-i18n.js
 *
 * @params
 *  - exports - CommonJS, window ..
 */
function(a){"use strict";void 0===a.en&&(a.en={"mejs.plural-form":1,"mejs.download-file":"Download File","mejs.fullscreen-off":"Turn off Fullscreen","mejs.fullscreen-on":"Go Fullscreen","mejs.download-video":"Download Video","mejs.fullscreen":"Fullscreen","mejs.time-jump-forward":["Jump forward 1 second","Jump forward %1 seconds"],"mejs.play":"Play","mejs.pause":"Pause","mejs.close":"Close","mejs.time-slider":"Time Slider","mejs.time-help-text":"Use Left/Right Arrow keys to advance one second, Up/Down arrows to advance ten seconds.","mejs.time-skip-back":["Skip back 1 second","Skip back %1 seconds"],"mejs.captions-subtitles":"Captions/Subtitles","mejs.none":"None","mejs.mute-toggle":"Mute Toggle","mejs.volume-help-text":"Use Up/Down Arrow keys to increase or decrease volume.","mejs.unmute":"Unmute","mejs.mute":"Mute","mejs.volume-slider":"Volume Slider","mejs.video-player":"Video Player","mejs.audio-player":"Audio Player","mejs.ad-skip":"Skip ad","mejs.ad-skip-info":["Skip in 1 second","Skip in %1 seconds"],"mejs.source-chooser":"Source Chooser"})}(mejs.i18n.locale.strings),/*!
 *
 * MediaElementPlayer
 * http://mediaelementjs.com/
 *
 * Creates a controller bar for HTML5 <video> add <audio> tags
 * using jQuery and MediaElement.js (HTML5 Flash/Silverlight wrapper)
 *
 * Copyright 2010-2013, John Dyer (http://j.hn/)
 * License: MIT
 *
 */
"undefined"!=typeof jQuery?mejs.$=jQuery:"undefined"!=typeof Zepto?(mejs.$=Zepto,Zepto.fn.outerWidth=function(a){var b=$(this).width();return a&&(b+=parseInt($(this).css("margin-right"),10),b+=parseInt($(this).css("margin-left"),10)),b}):"undefined"!=typeof ender&&(mejs.$=ender),function(a){mejs.MepDefaults={poster:"",showPosterWhenEnded:!1,defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,defaultAudioWidth:400,defaultAudioHeight:30,defaultSeekBackwardInterval:function(a){return.05*a.duration},defaultSeekForwardInterval:function(a){return.05*a.duration},setDimensions:!0,audioWidth:-1,audioHeight:-1,startVolume:.8,loop:!1,autoRewind:!0,enableAutosize:!0,timeFormat:"",alwaysShowHours:!1,showTimecodeFrameCount:!1,framesPerSecond:25,autosizeProgress:!0,alwaysShowControls:!1,hideVideoControlsOnLoad:!1,clickToPlayPause:!0,controlsTimeoutDefault:1500,controlsTimeoutMouseEnter:2500,controlsTimeoutMouseLeave:1e3,iPadUseNativeControls:!1,iPhoneUseNativeControls:!1,AndroidUseNativeControls:!1,features:["playpause","current","progress","duration","tracks","volume","fullscreen"],isVideo:!0,stretching:"auto",enableKeyboard:!0,pauseOtherPlayers:!0,keyActions:[{keys:[32,179],action:function(a,b,c,d){mejs.MediaFeatures.isFirefox||(b.paused||b.ended?b.play():b.pause())}},{keys:[38],action:function(a,b,c,d){a.container.find(".mejs-volume-slider").css("display","block"),a.isVideo&&(a.showControls(),a.startControlsTimer());var e=Math.min(b.volume+.1,1);b.setVolume(e)}},{keys:[40],action:function(a,b,c,d){a.container.find(".mejs-volume-slider").css("display","block"),a.isVideo&&(a.showControls(),a.startControlsTimer());var e=Math.max(b.volume-.1,0);b.setVolume(e)}},{keys:[37,227],action:function(a,b,c,d){if(!isNaN(b.duration)&&b.duration>0){a.isVideo&&(a.showControls(),a.startControlsTimer());var e=Math.max(b.currentTime-a.options.defaultSeekBackwardInterval(b),0);b.setCurrentTime(e)}}},{keys:[39,228],action:function(a,b,c,d){if(!isNaN(b.duration)&&b.duration>0){a.isVideo&&(a.showControls(),a.startControlsTimer());var e=Math.min(b.currentTime+a.options.defaultSeekForwardInterval(b),b.duration);b.setCurrentTime(e)}}},{keys:[70],action:function(a,b,c,d){"undefined"!=typeof a.enterFullScreen&&(a.isFullScreen?a.exitFullScreen():a.enterFullScreen())}},{keys:[77],action:function(a,b,c,d){a.container.find(".mejs-volume-slider").css("display","block"),a.isVideo&&(a.showControls(),a.startControlsTimer()),a.media.muted?a.setMuted(!1):a.setMuted(!0)}}]},mejs.mepIndex=0,mejs.players={},mejs.MediaElementPlayer=function(b,c){if(!(this instanceof mejs.MediaElementPlayer))return new mejs.MediaElementPlayer(b,c);var d=this;return d.$media=d.$node=a(b),d.node=d.media=d.$media[0],d.node?"undefined"!=typeof d.node.player?d.node.player:("undefined"==typeof c&&(c=d.$node.data("mejsoptions")),d.options=a.extend({},mejs.MepDefaults,c),d.options.timeFormat||(d.options.timeFormat="mm:ss",d.options.alwaysShowHours&&(d.options.timeFormat="hh:mm:ss"),d.options.showTimecodeFrameCount&&(d.options.timeFormat+=":ff")),mejs.Utility.calculateTimeFormat(0,d.options,d.options.framesPerSecond||25),d.id="mep_"+mejs.mepIndex++,mejs.players[d.id]=d,d.init(),d):void 0},mejs.MediaElementPlayer.prototype={hasFocus:!1,controlsAreVisible:!0,init:function(){var b=this,c=mejs.MediaFeatures,d=a.extend(!0,{},b.options,{success:function(a,c){b.meReady(a,c)},error:function(a){b.handleError(a)}}),e=b.media.tagName.toLowerCase();if(b.isDynamic="audio"!==e&&"video"!==e,b.isDynamic?b.isVideo=b.options.isVideo:b.isVideo="audio"!==e&&b.options.isVideo,c.isiPad&&b.options.iPadUseNativeControls||c.isiPhone&&b.options.iPhoneUseNativeControls)b.$media.attr("controls","controls"),c.isiPad&&null!==b.media.getAttribute("autoplay")&&b.play();else if(c.isAndroid&&b.options.AndroidUseNativeControls);else if(b.isVideo||!b.isVideo&&b.options.features.length){b.$media.removeAttr("controls");var f=b.isVideo?mejs.i18n.t("mejs.video-player"):mejs.i18n.t("mejs.audio-player");a('<span class="mejs-offscreen">'+f+"</span>").insertBefore(b.$media),b.container=a('<div id="'+b.id+'" class="mejs-container '+(mejs.MediaFeatures.svgAsImg?"svg":"no-svg")+'" tabindex="0" role="application" aria-label="'+f+'"><div class="mejs-inner"><div class="mejs-mediaelement"></div><div class="mejs-layers"></div><div class="mejs-controls"></div><div class="mejs-clear"></div></div></div>').addClass(b.$media[0].className).insertBefore(b.$media).focus(function(a){if(!b.controlsAreVisible&&!b.hasFocus&&b.controlsEnabled&&(b.showControls(!0),!b.hasMsNativeFullScreen)){var c=".mejs-playpause-button > button";mejs.Utility.isNodeAfter(a.relatedTarget,b.container[0])&&(c=".mejs-controls .mejs-button:last-child > button");var d=b.container.find(c);d.focus()}}),b.options.features.length||b.container.css("background","transparent").find(".mejs-controls").hide(),b.isVideo&&"fill"===b.options.stretching&&!b.container.parent("mejs-fill-container").length&&(b.outerContainer=b.$media.parent(),b.container.wrap('<div class="mejs-fill-container"/>')),b.container.addClass((c.isAndroid?"mejs-android ":"")+(c.isiOS?"mejs-ios ":"")+(c.isiPad?"mejs-ipad ":"")+(c.isiPhone?"mejs-iphone ":"")+(b.isVideo?"mejs-video ":"mejs-audio ")),b.container.find(".mejs-mediaelement").append(b.$media),b.node.player=b,b.controls=b.container.find(".mejs-controls"),b.layers=b.container.find(".mejs-layers");var g=b.isVideo?"video":"audio",h=g.substring(0,1).toUpperCase()+g.substring(1);b.options[g+"Width"]>0||b.options[g+"Width"].toString().indexOf("%")>-1?b.width=b.options[g+"Width"]:""!==b.media.style.width&&null!==b.media.style.width?b.width=b.media.style.width:null!==b.media.getAttribute("width")?b.width=b.$media.attr("width"):b.width=b.options["default"+h+"Width"],b.options[g+"Height"]>0||b.options[g+"Height"].toString().indexOf("%")>-1?b.height=b.options[g+"Height"]:""!==b.media.style.height&&null!==b.media.style.height?b.height=b.media.style.height:null!==b.$media[0].getAttribute("height")?b.height=b.$media.attr("height"):b.height=b.options["default"+h+"Height"],b.setPlayerSize(b.width,b.height),d.pluginWidth=b.width,d.pluginHeight=b.height}else b.isVideo||b.options.features.length||b.$media.hide();mejs.MediaElement(b.$media[0],d),"undefined"!=typeof b.container&&b.options.features.length&&b.controlsAreVisible&&b.container.trigger("controlsshown")},showControls:function(a){var b=this;a="undefined"==typeof a||a,b.controlsAreVisible||(a?(b.controls.removeClass("mejs-offscreen").stop(!0,!0).fadeIn(200,function(){b.controlsAreVisible=!0,b.container.trigger("controlsshown")}),b.container.find(".mejs-control").removeClass("mejs-offscreen").stop(!0,!0).fadeIn(200,function(){b.controlsAreVisible=!0})):(b.controls.removeClass("mejs-offscreen").css("display","block"),b.container.find(".mejs-control").removeClass("mejs-offscreen").css("display","block"),b.controlsAreVisible=!0,b.container.trigger("controlsshown")),b.setControlsSize())},hideControls:function(b){var c=this;b="undefined"==typeof b||b,!c.controlsAreVisible||c.options.alwaysShowControls||c.keyboardAction||c.media.paused||c.media.ended||(b?(c.controls.stop(!0,!0).fadeOut(200,function(){a(this).addClass("mejs-offscreen").css("display","block"),c.controlsAreVisible=!1,c.container.trigger("controlshidden")}),c.container.find(".mejs-control").stop(!0,!0).fadeOut(200,function(){a(this).addClass("mejs-offscreen").css("display","block")})):(c.controls.addClass("mejs-offscreen").css("display","block"),c.container.find(".mejs-control").addClass("mejs-offscreen").css("display","block"),c.controlsAreVisible=!1,c.container.trigger("controlshidden")))},controlsTimer:null,startControlsTimer:function(a){var b=this;a="undefined"!=typeof a?a:b.options.controlsTimeoutDefault,b.killControlsTimer("start"),b.controlsTimer=setTimeout(function(){b.hideControls(),b.killControlsTimer("hide")},a)},killControlsTimer:function(a){var b=this;null!==b.controlsTimer&&(clearTimeout(b.controlsTimer),delete b.controlsTimer,b.controlsTimer=null)},controlsEnabled:!0,disableControls:function(){var a=this;a.killControlsTimer(),a.hideControls(!1),this.controlsEnabled=!1},enableControls:function(){var a=this;a.showControls(!1),a.controlsEnabled=!0},meReady:function(b,c){var d,e,f=this,g=mejs.MediaFeatures,h=c.getAttribute("autoplay"),i=!("undefined"==typeof h||null===h||"false"===h);if(!f.created){if(f.created=!0,f.media=b,f.domNode=c,!(g.isAndroid&&f.options.AndroidUseNativeControls||g.isiPad&&f.options.iPadUseNativeControls||g.isiPhone&&f.options.iPhoneUseNativeControls)){if(!f.isVideo&&!f.options.features.length)return i&&"native"==b.pluginType&&f.play(),void(f.options.success&&("string"==typeof f.options.success?window[f.options.success](f.media,f.domNode,f):f.options.success(f.media,f.domNode,f)));f.buildposter(f,f.controls,f.layers,f.media),f.buildkeyboard(f,f.controls,f.layers,f.media),f.buildoverlays(f,f.controls,f.layers,f.media),f.findTracks();for(d in f.options.features)if(e=f.options.features[d],f["build"+e])try{f["build"+e](f,f.controls,f.layers,f.media)}catch(j){}f.container.trigger("controlsready"),f.setPlayerSize(f.width,f.height),f.setControlsSize(),f.isVideo&&(mejs.MediaFeatures.hasTouch&&!f.options.alwaysShowControls?f.$media.bind("touchstart",function(){f.controlsAreVisible?f.hideControls(!1):f.controlsEnabled&&f.showControls(!1)}):(f.clickToPlayPauseCallback=function(){if(f.options.clickToPlayPause){f.media.paused?f.play():f.pause();var a=f.$media.closest(".mejs-container").find(".mejs-overlay-button"),b=a.attr("aria-pressed");a.attr("aria-pressed",!b)}},f.media.addEventListener("click",f.clickToPlayPauseCallback,!1),f.container.bind("mouseenter",function(){f.controlsEnabled&&(f.options.alwaysShowControls||(f.killControlsTimer("enter"),f.showControls(),f.startControlsTimer(f.options.controlsTimeoutMouseEnter)))}).bind("mousemove",function(){f.controlsEnabled&&(f.controlsAreVisible||f.showControls(),f.options.alwaysShowControls||f.startControlsTimer(f.options.controlsTimeoutMouseEnter))}).bind("mouseleave",function(){f.controlsEnabled&&(f.media.paused||f.options.alwaysShowControls||f.startControlsTimer(f.options.controlsTimeoutMouseLeave))})),f.options.hideVideoControlsOnLoad&&f.hideControls(!1),i&&!f.options.alwaysShowControls&&f.hideControls(),f.options.enableAutosize&&f.media.addEventListener("loadedmetadata",function(a){f.options.videoHeight<=0&&null===f.domNode.getAttribute("height")&&!isNaN(a.target.videoHeight)&&(f.setPlayerSize(a.target.videoWidth,a.target.videoHeight),f.setControlsSize(),f.media.setVideoSize(a.target.videoWidth,a.target.videoHeight))},!1)),f.media.addEventListener("play",function(){var a;for(a in mejs.players){var b=mejs.players[a];b.id==f.id||!f.options.pauseOtherPlayers||b.paused||b.ended||b.pause(),b.hasFocus=!1}f.hasFocus=!0},!1),f.media.addEventListener("ended",function(b){if(f.options.autoRewind)try{f.media.setCurrentTime(0),window.setTimeout(function(){a(f.container).find(".mejs-overlay-loading").parent().hide()},20)}catch(c){}"youtube"===f.media.pluginType?f.media.stop():f.media.pause(),f.setProgressRail&&f.setProgressRail(),f.setCurrentRail&&f.setCurrentRail(),f.options.loop?f.play():!f.options.alwaysShowControls&&f.controlsEnabled&&f.showControls()},!1),f.media.addEventListener("loadedmetadata",function(){mejs.Utility.calculateTimeFormat(f.duration,f.options,f.options.framesPerSecond||25),f.updateDuration&&f.updateDuration(),f.updateCurrent&&f.updateCurrent(),f.isFullScreen||(f.setPlayerSize(f.width,f.height),f.setControlsSize())},!1);var k=null;f.media.addEventListener("timeupdate",function(){k!==this.duration&&(k=this.duration,mejs.Utility.calculateTimeFormat(k,f.options,f.options.framesPerSecond||25),f.updateDuration&&f.updateDuration(),f.updateCurrent&&f.updateCurrent(),f.setControlsSize())},!1),f.container.focusout(function(b){if(b.relatedTarget){var c=a(b.relatedTarget);f.keyboardAction&&0===c.parents(".mejs-container").length&&(f.keyboardAction=!1,f.isVideo&&!f.options.alwaysShowControls&&f.hideControls(!0))}}),setTimeout(function(){f.setPlayerSize(f.width,f.height),f.setControlsSize()},50),f.globalBind("resize",function(){f.isFullScreen||mejs.MediaFeatures.hasTrueNativeFullScreen&&document.webkitIsFullScreen||f.setPlayerSize(f.width,f.height),f.setControlsSize()}),"youtube"==f.media.pluginType&&(g.isiOS||g.isAndroid)&&(f.container.find(".mejs-overlay-play").hide(),f.container.find(".mejs-poster").hide())}i&&"native"==b.pluginType&&f.play(),f.options.success&&("string"==typeof f.options.success?window[f.options.success](f.media,f.domNode,f):f.options.success(f.media,f.domNode,f))}},handleError:function(a){var b=this;b.controls&&b.controls.hide(),b.options.error&&b.options.error(a)},setPlayerSize:function(a,b){var c=this;if(!c.options.setDimensions)return!1;switch("undefined"!=typeof a&&(c.width=a),"undefined"!=typeof b&&(c.height=b),c.options.stretching){case"fill":c.isVideo?this.setFillMode():this.setDimensions(c.width,c.height);break;case"responsive":this.setResponsiveMode();break;case"none":this.setDimensions(c.width,c.height);break;default:this.hasFluidMode()===!0?this.setResponsiveMode():this.setDimensions(c.width,c.height)}},hasFluidMode:function(){var a=this;return a.height.toString().indexOf("%")>0||"none"!==a.$node.css("max-width")&&"t.width"!==a.$node.css("max-width")||a.$node[0].currentStyle&&"100%"===a.$node[0].currentStyle.maxWidth},setResponsiveMode:function(){var b=this,c=function(){return b.isVideo?b.media.videoWidth&&b.media.videoWidth>0?b.media.videoWidth:null!==b.media.getAttribute("width")?b.media.getAttribute("width"):b.options.defaultVideoWidth:b.options.defaultAudioWidth}(),d=function(){return b.isVideo?b.media.videoHeight&&b.media.videoHeight>0?b.media.videoHeight:null!==b.media.getAttribute("height")?b.media.getAttribute("height"):b.options.defaultVideoHeight:b.options.defaultAudioHeight}(),e=b.container.parent().closest(":visible").width(),f=b.container.parent().closest(":visible").height(),g=b.isVideo||!b.options.autosizeProgress?parseInt(e*d/c,10):d;(isNaN(g)||0!==f&&g>f&&f>d)&&(g=f),b.container.parent().length>0&&"body"===b.container.parent()[0].tagName.toLowerCase()&&(e=a(window).width(),g=a(window).height()),g&&e&&(b.container.width(e).height(g),b.$media.add(b.container.find(".mejs-shim")).width("100%").height("100%"),b.isVideo&&b.media.setVideoSize&&b.media.setVideoSize(e,g),b.layers.children(".mejs-layer").width("100%").height("100%"))},setFillMode:function(){var a=this,b=a.outerContainer;b.width()||b.height(a.$media.width()),b.height()||b.height(a.$media.height());var c=b.width(),d=b.height();a.setDimensions("100%","100%"),a.container.find(".mejs-poster img").css("display","block"),targetElement=a.container.find("object, embed, iframe, video");var e=a.height,f=a.width,g=c,h=e*c/f,i=f*d/e,j=d,k=!(i>c),l=k?Math.floor(g):Math.floor(i),m=k?Math.floor(h):Math.floor(j);k?(targetElement.height(m).width(c),a.media.setVideoSize&&a.media.setVideoSize(c,m)):(targetElement.height(d).width(l),a.media.setVideoSize&&a.media.setVideoSize(l,d)),targetElement.css({"margin-left":Math.floor((c-l)/2),"margin-top":0})},setDimensions:function(a,b){var c=this;c.container.width(a).height(b),c.layers.children(".mejs-layer").width(a).height(b)},setControlsSize:function(){var b=this,c=0,d=0,e=b.controls.find(".mejs-time-rail"),f=b.controls.find(".mejs-time-total"),g=e.siblings(),h=g.last(),i=null,j=b.options&&!b.options.autosizeProgress;if(b.container.is(":visible")&&e.length&&e.is(":visible")){j&&(d=parseInt(e.css("width"),10)),0!==d&&d||(g.each(function(){var b=a(this);"absolute"!=b.css("position")&&b.is(":visible")&&(c+=a(this).outerWidth(!0))}),d=b.controls.width()-c-(e.outerWidth(!0)-e.width()));do j||e.width(d),f.width(d-(f.outerWidth(!0)-f.width())),"absolute"!=h.css("position")&&(i=h.length?h.position():null,d--);while(null!==i&&i.top.toFixed(2)>0&&d>0);b.container.trigger("controlsresize")}},buildposter:function(b,c,d,e){var f=this,g=a('<div class="mejs-poster mejs-layer"></div>').appendTo(d),h=b.$media.attr("poster");""!==b.options.poster&&(h=b.options.poster),h?f.setPoster(h):g.hide(),e.addEventListener("play",function(){g.hide()},!1),b.options.showPosterWhenEnded&&b.options.autoRewind&&e.addEventListener("ended",function(){g.show()},!1)},setPoster:function(b){var c=this,d=c.container.find(".mejs-poster"),e=d.find("img");0===e.length&&(e=a('<img width="100%" height="100%" alt="" />').appendTo(d)),e.attr("src",b),d.css({"background-image":"url("+b+")"})},buildoverlays:function(b,c,d,e){var f=this;if(b.isVideo){var g=a('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-loading"><span></span></div></div>').hide().appendTo(d),h=a('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-error"></div></div>').hide().appendTo(d),i=a('<div class="mejs-overlay mejs-layer mejs-overlay-play"><div class="mejs-overlay-button" role="button" aria-label="'+mejs.i18n.t("mejs.play")+'" aria-pressed="false"></div></div>').appendTo(d).bind("click",function(){if(f.options.clickToPlayPause){e.paused&&e.play();var b=a(this).find(".mejs-overlay-button"),c=b.attr("aria-pressed");b.attr("aria-pressed",!!c)}});e.addEventListener("play",function(){i.hide(),g.hide(),c.find(".mejs-time-buffering").hide(),h.hide()},!1),e.addEventListener("playing",function(){i.hide(),g.hide(),c.find(".mejs-time-buffering").hide(),h.hide()},!1),e.addEventListener("seeking",function(){g.show(),c.find(".mejs-time-buffering").show()},!1),e.addEventListener("seeked",function(){g.hide(),c.find(".mejs-time-buffering").hide()},!1),e.addEventListener("pause",function(){mejs.MediaFeatures.isiPhone||i.show()},!1),e.addEventListener("waiting",function(){g.show(),c.find(".mejs-time-buffering").show()},!1),e.addEventListener("loadeddata",function(){g.show(),c.find(".mejs-time-buffering").show(),mejs.MediaFeatures.isAndroid&&(e.canplayTimeout=window.setTimeout(function(){if(document.createEvent){var a=document.createEvent("HTMLEvents");return a.initEvent("canplay",!0,!0),e.dispatchEvent(a)}},300))},!1),e.addEventListener("canplay",function(){g.hide(),c.find(".mejs-time-buffering").hide(),clearTimeout(e.canplayTimeout)},!1),e.addEventListener("error",function(a){f.handleError(a),g.hide(),i.hide(),h.show(),h.find(".mejs-overlay-error").html("Error loading this resource")},!1),e.addEventListener("keydown",function(a){f.onkeydown(b,e,a)},!1)}},buildkeyboard:function(b,c,d,e){var f=this;f.container.keydown(function(){f.keyboardAction=!0}),f.globalBind("keydown",function(c){return b.hasFocus=0!==a(c.target).closest(".mejs-container").length&&a(c.target).closest(".mejs-container").attr("id")===b.$media.closest(".mejs-container").attr("id"),f.onkeydown(b,e,c)}),f.globalBind("click",function(c){b.hasFocus=0!==a(c.target).closest(".mejs-container").length})},onkeydown:function(a,b,c){if(a.hasFocus&&a.options.enableKeyboard)for(var d=0,e=a.options.keyActions.length;e>d;d++)for(var f=a.options.keyActions[d],g=0,h=f.keys.length;h>g;g++)if(c.keyCode==f.keys[g])return"function"==typeof c.preventDefault&&c.preventDefault(),f.action(a,b,c.keyCode,c),!1;return!0},findTracks:function(){var b=this,c=b.$media.find("track");b.tracks=[],c.each(function(c,d){d=a(d),b.tracks.push({srclang:d.attr("srclang")?d.attr("srclang").toLowerCase():"",src:d.attr("src"),kind:d.attr("kind"),label:d.attr("label")||"",entries:[],isLoaded:!1})})},changeSkin:function(a){this.container[0].className="mejs-container "+a,this.setPlayerSize(this.width,this.height),this.setControlsSize()},play:function(){this.load(),this.media.play()},pause:function(){try{this.media.pause()}catch(a){}},load:function(){this.isLoaded||this.media.load(),this.isLoaded=!0},setMuted:function(a){this.media.setMuted(a)},setCurrentTime:function(a){this.media.setCurrentTime(a)},getCurrentTime:function(){return this.media.currentTime},setVolume:function(a){this.media.setVolume(a)},getVolume:function(){return this.media.volume},setSrc:function(a){var b=this;if("youtube"===b.media.pluginType){var c;if("string"!=typeof a){var d,e;for(d=0;d<a.length;d++)if(e=a[d],this.canPlayType(e.type)){a=e.src;break}}if(-1!==a.lastIndexOf("youtu.be"))c=a.substr(a.lastIndexOf("/")+1),-1!==c.indexOf("?")&&(c=c.substr(0,c.indexOf("?")));else{var f=a.match(/[?&]v=([^&#]+)|&|#|$/);f&&(c=f[1])}null!==b.media.getAttribute("autoplay")?b.media.pluginApi.loadVideoById(c):b.media.pluginApi.cueVideoById(c)}else b.media.setSrc(a)},remove:function(){var a,b,c=this;c.container.prev(".mejs-offscreen").remove();for(a in c.options.features)if(b=c.options.features[a],c["clean"+b])try{c["clean"+b](c)}catch(d){}c.isDynamic?c.$node.insertBefore(c.container):(c.$media.prop("controls",!0),c.$node.clone().insertBefore(c.container).show(),c.$node.remove()),"native"!==c.media.pluginType&&c.media.remove(),delete mejs.players[c.id],"object"==typeof c.container&&c.container.remove(),c.globalUnbind(),delete c.node.player},rebuildtracks:function(){var a=this;a.findTracks(),a.buildtracks(a,a.controls,a.layers,a.media)},resetSize:function(){var a=this;setTimeout(function(){a.setPlayerSize(a.width,a.height),a.setControlsSize()},50)}},function(){function b(b,d){var e={d:[],w:[]};return a.each((b||"").split(" "),function(a,b){var f=b+"."+d;0===f.indexOf(".")?(e.d.push(f),e.w.push(f)):e[c.test(b)?"w":"d"].push(f)}),e.d=e.d.join(" "),e.w=e.w.join(" "),e}var c=/^((after|before)print|(before)?unload|hashchange|message|o(ff|n)line|page(hide|show)|popstate|resize|storage)\b/;mejs.MediaElementPlayer.prototype.globalBind=function(c,d,e){var f=this,g=f.node?f.node.ownerDocument:document;c=b(c,f.id),c.d&&a(g).bind(c.d,d,e),c.w&&a(window).bind(c.w,d,e)},mejs.MediaElementPlayer.prototype.globalUnbind=function(c,d){var e=this,f=e.node?e.node.ownerDocument:document;c=b(c,e.id),c.d&&a(f).unbind(c.d,d),c.w&&a(window).unbind(c.w,d)}}(),"undefined"!=typeof a&&(a.fn.mediaelementplayer=function(b){return b===!1?this.each(function(){var b=a(this).data("mediaelementplayer");b&&b.remove(),a(this).removeData("mediaelementplayer")}):this.each(function(){a(this).data("mediaelementplayer",new mejs.MediaElementPlayer(this,b))}),this},a(document).ready(function(){a(".mejs-player").mediaelementplayer()})),window.MediaElementPlayer=mejs.MediaElementPlayer}(mejs.$),function(a){a.extend(mejs.MepDefaults,{playText:"",pauseText:""}),a.extend(MediaElementPlayer.prototype,{buildplaypause:function(b,c,d,e){function f(a){"play"===a?(k.removeClass("mejs-play").addClass("mejs-pause"),l.attr({title:j,"aria-label":j})):(k.removeClass("mejs-pause").addClass("mejs-play"),l.attr({title:i,"aria-label":i}))}var g=this,h=g.options,i=h.playText?h.playText:mejs.i18n.t("mejs.play"),j=h.pauseText?h.pauseText:mejs.i18n.t("mejs.pause"),k=a('<div class="mejs-button mejs-playpause-button mejs-play" ><button type="button" aria-controls="'+g.id+'" title="'+i+'" aria-label="'+j+'"></button></div>').appendTo(c).click(function(a){return a.preventDefault(),e.paused?e.play():e.pause(),!1}),l=k.find("button");f("pse"),e.addEventListener("play",function(){f("play")},!1),e.addEventListener("playing",function(){f("play")},!1),e.addEventListener("pause",function(){f("pse")},!1),e.addEventListener("paused",function(){f("pse")},!1)}})}(mejs.$),function(a){a.extend(mejs.MepDefaults,{stopText:"Stop"}),a.extend(MediaElementPlayer.prototype,{buildstop:function(b,c,d,e){var f=this;a('<div class="mejs-button mejs-stop-button mejs-stop"><button type="button" aria-controls="'+f.id+'" title="'+f.options.stopText+'" aria-label="'+f.options.stopText+'"></button></div>').appendTo(c).click(function(){e.paused||e.pause(),e.currentTime>0&&(e.setCurrentTime(0),e.pause(),c.find(".mejs-time-current").width("0px"),c.find(".mejs-time-handle").css("left","0px"),c.find(".mejs-time-float-current").html(mejs.Utility.secondsToTimeCode(0,b.options)),c.find(".mejs-currenttime").html(mejs.Utility.secondsToTimeCode(0,b.options)),d.find(".mejs-poster").show())})}})}(mejs.$),function(a){a.extend(mejs.MepDefaults,{enableProgressTooltip:!0,progressHelpText:""}),a.extend(MediaElementPlayer.prototype,{buildprogress:function(b,c,d,e){var f=this,g=!1,h=!1,i=0,j=!1,k=b.options.autoRewind,l=(f.options.progressHelpText?f.options.progressHelpText:mejs.i18n.t("mejs.time-help-text"),b.options.enableProgressTooltip?'<span class="mejs-time-float"><span class="mejs-time-float-current">00:00</span><span class="mejs-time-float-corner"></span></span>':"");a('<div class="mejs-time-rail"><span  class="mejs-time-total mejs-time-slider"><span class="mejs-time-buffering"></span><span class="mejs-time-loaded"></span><span class="mejs-time-current"></span><span class="mejs-time-handle"></span>'+l+"</span></div>").appendTo(c),c.find(".mejs-time-buffering").hide(),f.total=c.find(".mejs-time-total"),f.loaded=c.find(".mejs-time-loaded"),f.current=c.find(".mejs-time-current"),f.handle=c.find(".mejs-time-handle"),f.timefloat=c.find(".mejs-time-float"),f.timefloatcurrent=c.find(".mejs-time-float-current"),f.slider=c.find(".mejs-time-slider");var m=function(a){var c,d=f.total.offset(),h=f.total.width(),i=0,j=0,k=0;c=a.originalEvent&&a.originalEvent.changedTouches?a.originalEvent.changedTouches[0].pageX:a.changedTouches?a.changedTouches[0].pageX:a.pageX,e.duration&&(c<d.left?c=d.left:c>h+d.left&&(c=h+d.left),k=c-d.left,i=k/h,j=.02>=i?0:i*e.duration,g&&j!==e.currentTime&&e.setCurrentTime(j),mejs.MediaFeatures.hasTouch||(f.timefloat.css("left",k),f.timefloatcurrent.html(mejs.Utility.secondsToTimeCode(j,b.options)),f.timefloat.show()))},n=function(a){var c=e.currentTime,d=mejs.i18n.t("mejs.time-slider"),g=mejs.Utility.secondsToTimeCode(c,b.options),h=e.duration;f.slider.attr({"aria-label":d,"aria-valuemin":0,"aria-valuemax":h,"aria-valuenow":c,"aria-valuetext":g,role:"slider",tabindex:0})},o=function(){var a=new Date;a-i>=1e3&&e.play()};f.slider.bind("focus",function(a){b.options.autoRewind=!1}),f.slider.bind("blur",function(a){b.options.autoRewind=k}),f.slider.bind("keydown",function(a){new Date-i>=1e3&&(j=e.paused);var c=a.keyCode,d=e.duration,f=e.currentTime,g=b.options.defaultSeekForwardInterval(e),h=b.options.defaultSeekBackwardInterval(e);switch(c){case 37:case 40:f-=h;break;case 39:case 38:f+=g;break;case 36:f=0;break;case 35:f=d;break;case 32:case 13:return void(e.paused?e.play():e.pause());default:return}return f=0>f?0:f>=d?d:Math.floor(f),i=new Date,j||e.pause(),f<e.duration&&!j&&setTimeout(o,1100),e.setCurrentTime(f),a.preventDefault(),a.stopPropagation(),!1}),f.total.bind("mousedown touchstart",function(a){(1===a.which||0===a.which)&&(g=!0,m(a),f.globalBind("mousemove.dur touchmove.dur",function(a){m(a)}),f.globalBind("mouseup.dur touchend.dur",function(a){g=!1,"undefined"!=typeof f.timefloat&&f.timefloat.hide(),f.globalUnbind(".dur")}))}).bind("mouseenter",function(a){h=!0,f.globalBind("mousemove.dur",function(a){m(a)}),"undefined"==typeof f.timefloat||mejs.MediaFeatures.hasTouch||f.timefloat.show()}).bind("mouseleave",function(a){h=!1,g||(f.globalUnbind(".dur"),"undefined"!=typeof f.timefloat&&f.timefloat.hide())}),e.addEventListener("progress",function(a){b.setProgressRail(a),b.setCurrentRail(a)},!1),e.addEventListener("timeupdate",function(a){b.setProgressRail(a),b.setCurrentRail(a),n(a)},!1),f.container.on("controlsresize",function(a){b.setProgressRail(a),b.setCurrentRail(a)})},setProgressRail:function(a){var b=this,c=void 0!==a?a.target:b.media,d=null;c&&c.buffered&&c.buffered.length>0&&c.buffered.end&&c.duration?d=c.buffered.end(c.buffered.length-1)/c.duration:c&&void 0!==c.bytesTotal&&c.bytesTotal>0&&void 0!==c.bufferedBytes?d=c.bufferedBytes/c.bytesTotal:a&&a.lengthComputable&&0!==a.total&&(d=a.loaded/a.total),null!==d&&(d=Math.min(1,Math.max(0,d)),b.loaded&&b.total&&b.loaded.width(b.total.width()*d))},setCurrentRail:function(){var a=this;if(void 0!==a.media.currentTime&&a.media.duration&&a.total&&a.handle){var b=Math.round(a.total.width()*a.media.currentTime/a.media.duration),c=b-Math.round(a.handle.outerWidth(!0)/2);a.current.width(b),a.handle.css("left",c)}}})}(mejs.$),function(a){a.extend(mejs.MepDefaults,{duration:-1,timeAndDurationSeparator:"<span> | </span>"}),a.extend(MediaElementPlayer.prototype,{buildcurrent:function(b,c,d,e){var f=this;a('<div class="mejs-time" role="timer" aria-live="off"><span class="mejs-currenttime">'+mejs.Utility.secondsToTimeCode(0,b.options)+"</span></div>").appendTo(c),f.currenttime=f.controls.find(".mejs-currenttime"),e.addEventListener("timeupdate",function(){f.controlsAreVisible&&b.updateCurrent()},!1)},buildduration:function(b,c,d,e){var f=this;c.children().last().find(".mejs-currenttime").length>0?a(f.options.timeAndDurationSeparator+'<span class="mejs-duration">'+mejs.Utility.secondsToTimeCode(f.options.duration,f.options)+"</span>").appendTo(c.find(".mejs-time")):(c.find(".mejs-currenttime").parent().addClass("mejs-currenttime-container"),a('<div class="mejs-time mejs-duration-container"><span class="mejs-duration">'+mejs.Utility.secondsToTimeCode(f.options.duration,f.options)+"</span></div>").appendTo(c)),f.durationD=f.controls.find(".mejs-duration"),e.addEventListener("timeupdate",function(){f.controlsAreVisible&&b.updateDuration()},!1)},updateCurrent:function(){var a=this,b=a.media.currentTime;isNaN(b)&&(b=0),a.currenttime&&a.currenttime.html(mejs.Utility.secondsToTimeCode(b,a.options))},updateDuration:function(){var a=this,b=a.media.duration;a.options.duration>0&&(b=a.options.duration),isNaN(b)&&(b=0),a.container.toggleClass("mejs-long-video",b>3600),a.durationD&&b>0&&a.durationD.html(mejs.Utility.secondsToTimeCode(b,a.options))}})}(mejs.$),function(a){a.extend(mejs.MepDefaults,{muteText:mejs.i18n.t("mejs.mute-toggle"),allyVolumeControlText:mejs.i18n.t("mejs.volume-help-text"),hideVolumeOnTouchDevices:!0,audioVolume:"horizontal",videoVolume:"vertical"}),a.extend(MediaElementPlayer.prototype,{buildvolume:function(b,c,d,e){if(!mejs.MediaFeatures.isAndroid&&!mejs.MediaFeatures.isiOS||!this.options.hideVolumeOnTouchDevices){var f=this,g=f.isVideo?f.options.videoVolume:f.options.audioVolume,h="horizontal"==g?a('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+f.id+'" title="'+f.options.muteText+'" aria-label="'+f.options.muteText+'"></button></div><a href="javascript:void(0);" class="mejs-horizontal-volume-slider"><span class="mejs-offscreen">'+f.options.allyVolumeControlText+'</span><div class="mejs-horizontal-volume-total"></div><div class="mejs-horizontal-volume-current"></div><div class="mejs-horizontal-volume-handle"></div></a>').appendTo(c):a('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+f.id+'" title="'+f.options.muteText+'" aria-label="'+f.options.muteText+'"></button><a href="javascript:void(0);" class="mejs-volume-slider"><span class="mejs-offscreen">'+f.options.allyVolumeControlText+'</span><div class="mejs-volume-total"></div><div class="mejs-volume-current"></div><div class="mejs-volume-handle"></div></a></div>').appendTo(c),i=f.container.find(".mejs-volume-slider, .mejs-horizontal-volume-slider"),j=f.container.find(".mejs-volume-total, .mejs-horizontal-volume-total"),k=f.container.find(".mejs-volume-current, .mejs-horizontal-volume-current"),l=f.container.find(".mejs-volume-handle, .mejs-horizontal-volume-handle"),m=function(a,b){if(!i.is(":visible")&&"undefined"==typeof b)return i.show(),m(a,!0),void i.hide();a=Math.max(0,a),a=Math.min(a,1),0===a?(h.removeClass("mejs-mute").addClass("mejs-unmute"),h.children("button").attr("title",mejs.i18n.t("mejs.unmute")).attr("aria-label",mejs.i18n.t("mejs.unmute"))):(h.removeClass("mejs-unmute").addClass("mejs-mute"),h.children("button").attr("title",mejs.i18n.t("mejs.mute")).attr("aria-label",mejs.i18n.t("mejs.mute")));var c=j.position();if("vertical"==g){var d=j.height(),e=d-d*a;l.css("top",Math.round(c.top+e-l.height()/2)),k.height(d-e),k.css("top",c.top+e)}else{var f=j.width(),n=f*a;l.css("left",Math.round(c.left+n-l.width()/2)),k.width(Math.round(n))}},n=function(a){var b=null,c=j.offset();if("vertical"===g){var d=j.height(),f=a.pageY-c.top;if(b=(d-f)/d,0===c.top||0===c.left)return}else{var h=j.width(),i=a.pageX-c.left;b=i/h;
}b=Math.max(0,b),b=Math.min(b,1),m(b),0===b?e.setMuted(!0):e.setMuted(!1),e.setVolume(b)},o=!1,p=!1;h.hover(function(){i.show(),p=!0},function(){p=!1,o||"vertical"!=g||i.hide()});var q=function(a){var b=Math.floor(100*e.volume);i.attr({"aria-label":mejs.i18n.t("mejs.volume-slider"),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":b,"aria-valuetext":b+"%",role:"slider",tabindex:0})};i.bind("mouseover",function(){p=!0}).bind("mousedown",function(a){return n(a),f.globalBind("mousemove.vol",function(a){n(a)}),f.globalBind("mouseup.vol",function(){o=!1,f.globalUnbind(".vol"),p||"vertical"!=g||i.hide()}),o=!0,!1}).bind("keydown",function(a){var b=a.keyCode,c=e.volume;switch(b){case 38:c=Math.min(c+.1,1);break;case 40:c=Math.max(0,c-.1);break;default:return!0}return o=!1,m(c),e.setVolume(c),!1}),h.find("button").click(function(){e.setMuted(!e.muted)}),h.find("button").bind("focus",function(){i.show()}),e.addEventListener("volumechange",function(a){o||(e.muted?(m(0),h.removeClass("mejs-mute").addClass("mejs-unmute")):(m(e.volume),h.removeClass("mejs-unmute").addClass("mejs-mute"))),q(a)},!1),0===b.options.startVolume&&e.setMuted(!0),"native"===e.pluginType&&e.setVolume(b.options.startVolume),f.container.on("controlsresize",function(){e.muted?(m(0),h.removeClass("mejs-mute").addClass("mejs-unmute")):(m(e.volume),h.removeClass("mejs-unmute").addClass("mejs-mute"))})}}})}(mejs.$),function(a){a.extend(mejs.MepDefaults,{usePluginFullScreen:!0,newWindowCallback:function(){return""},fullscreenText:""}),a.extend(MediaElementPlayer.prototype,{isFullScreen:!1,isNativeFullScreen:!1,isInIframe:!1,fullscreenMode:"",buildfullscreen:function(b,c,d,e){if(b.isVideo){b.isInIframe=window.location!=window.parent.location,e.addEventListener("loadstart",function(){b.detectFullscreenMode()});var f=this,g=null,h=f.options.fullscreenText?f.options.fullscreenText:mejs.i18n.t("mejs.fullscreen"),i=a('<div class="mejs-button mejs-fullscreen-button"><button type="button" aria-controls="'+f.id+'" title="'+h+'" aria-label="'+h+'"></button></div>').appendTo(c).on("click",function(){var a=mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||b.isFullScreen;a?b.exitFullScreen():b.enterFullScreen()}).on("mouseover",function(){if("plugin-hover"==f.fullscreenMode){null!==g&&(clearTimeout(g),delete g);var a=i.offset(),c=b.container.offset();e.positionFullscreenButton(a.left-c.left,a.top-c.top,!0)}}).on("mouseout",function(){"plugin-hover"==f.fullscreenMode&&(null!==g&&(clearTimeout(g),delete g),g=setTimeout(function(){e.hideFullscreenButton()},1500))});if(b.fullscreenBtn=i,f.globalBind("keydown",function(a){27==a.keyCode&&(mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||f.isFullScreen)&&b.exitFullScreen()}),f.normalHeight=0,f.normalWidth=0,mejs.MediaFeatures.hasTrueNativeFullScreen){var j=function(a){b.isFullScreen&&(mejs.MediaFeatures.isFullScreen()?(b.isNativeFullScreen=!0,b.setControlsSize()):(b.isNativeFullScreen=!1,b.exitFullScreen()))};b.globalBind(mejs.MediaFeatures.fullScreenEventName,j)}}},detectFullscreenMode:function(){var a=this,b="",c=mejs.MediaFeatures;return c.hasTrueNativeFullScreen&&"native"===a.media.pluginType?b="native-native":c.hasTrueNativeFullScreen&&"native"!==a.media.pluginType&&!c.hasFirefoxPluginMovingProblem?b="plugin-native":a.usePluginFullScreen?mejs.MediaFeatures.supportsPointerEvents?(b="plugin-click",a.createPluginClickThrough()):b="plugin-hover":b="fullwindow",a.fullscreenMode=b,b},isPluginClickThroughCreated:!1,createPluginClickThrough:function(){var b=this;if(!b.isPluginClickThroughCreated){var c,d,e=!1,f=function(){if(e){for(var a in g)g[a].hide();b.fullscreenBtn.css("pointer-events",""),b.controls.css("pointer-events",""),b.media.removeEventListener("click",b.clickToPlayPauseCallback),e=!1}},g={},h=["top","left","right","bottom"],i=function(){var a=fullscreenBtn.offset().left-b.container.offset().left,d=fullscreenBtn.offset().top-b.container.offset().top,e=fullscreenBtn.outerWidth(!0),f=fullscreenBtn.outerHeight(!0),h=b.container.width(),i=b.container.height();for(c in g)g[c].css({position:"absolute",top:0,left:0});g.top.width(h).height(d),g.left.width(a).height(f).css({top:d}),g.right.width(h-a-e).height(f).css({top:d,left:a+e}),g.bottom.width(h).height(i-f-d).css({top:d+f})};for(b.globalBind("resize",function(){i()}),c=0,d=h.length;d>c;c++)g[h[c]]=a('<div class="mejs-fullscreen-hover" />').appendTo(b.container).mouseover(f).hide();fullscreenBtn.on("mouseover",function(){if(!b.isFullScreen){var a=fullscreenBtn.offset(),d=player.container.offset();media.positionFullscreenButton(a.left-d.left,a.top-d.top,!1),b.fullscreenBtn.css("pointer-events","none"),b.controls.css("pointer-events","none"),b.media.addEventListener("click",b.clickToPlayPauseCallback);for(c in g)g[c].show();i(),e=!0}}),media.addEventListener("fullscreenchange",function(a){b.isFullScreen=!b.isFullScreen,b.isFullScreen?b.media.removeEventListener("click",b.clickToPlayPauseCallback):b.media.addEventListener("click",b.clickToPlayPauseCallback),f()}),b.globalBind("mousemove",function(a){if(e){var c=fullscreenBtn.offset();(a.pageY<c.top||a.pageY>c.top+fullscreenBtn.outerHeight(!0)||a.pageX<c.left||a.pageX>c.left+fullscreenBtn.outerWidth(!0))&&(fullscreenBtn.css("pointer-events",""),b.controls.css("pointer-events",""),e=!1)}}),b.isPluginClickThroughCreated=!0}},cleanfullscreen:function(a){a.exitFullScreen()},containerSizeTimeout:null,enterFullScreen:function(){var b=this;if(mejs.MediaFeatures.isiOS&&mejs.MediaFeatures.hasiOSFullScreen&&"function"==typeof b.media.webkitEnterFullscreen)return void b.media.webkitEnterFullscreen();a(document.documentElement).addClass("mejs-fullscreen"),b.normalHeight=b.container.height(),b.normalWidth=b.container.width(),"native-native"===b.fullscreenMode||"plugin-native"===b.fullscreenMode?(mejs.MediaFeatures.requestFullScreen(b.container[0]),b.isInIframe&&setTimeout(function d(){if(b.isNativeFullScreen){var c=.002,e=a(window).width(),f=screen.width,g=Math.abs(f-e),h=f*c;g>h?b.exitFullScreen():setTimeout(d,500)}},1e3)):"fullwindow"==b.fullscreeMode,b.container.addClass("mejs-container-fullscreen").width("100%").height("100%"),b.containerSizeTimeout=setTimeout(function(){b.container.css({width:"100%",height:"100%"}),b.setControlsSize()},500),"native"===b.media.pluginType?b.$media.width("100%").height("100%"):(b.container.find(".mejs-shim").width("100%").height("100%"),setTimeout(function(){var c=a(window),d=c.width(),e=c.height();b.media.setVideoSize(d,e)},500)),b.layers.children("div").width("100%").height("100%"),b.fullscreenBtn&&b.fullscreenBtn.removeClass("mejs-fullscreen").addClass("mejs-unfullscreen"),b.setControlsSize(),b.isFullScreen=!0;var c=Math.min(screen.width/b.width,screen.height/b.height);b.container.find(".mejs-captions-text").css("font-size",100*c+"%"),b.container.find(".mejs-captions-text").css("line-height","normal"),b.container.find(".mejs-captions-position").css("bottom","45px"),b.container.trigger("enteredfullscreen")},exitFullScreen:function(){var b=this;clearTimeout(b.containerSizeTimeout),mejs.MediaFeatures.hasTrueNativeFullScreen&&(mejs.MediaFeatures.isFullScreen()||b.isFullScreen)&&mejs.MediaFeatures.cancelFullScreen(),a(document.documentElement).removeClass("mejs-fullscreen"),b.container.removeClass("mejs-container-fullscreen").width(b.normalWidth).height(b.normalHeight),"native"===b.media.pluginType?b.$media.width(b.normalWidth).height(b.normalHeight):(b.container.find(".mejs-shim").width(b.normalWidth).height(b.normalHeight),b.media.setVideoSize(b.normalWidth,b.normalHeight)),b.layers.children("div").width(b.normalWidth).height(b.normalHeight),b.fullscreenBtn.removeClass("mejs-unfullscreen").addClass("mejs-fullscreen"),b.setControlsSize(),b.isFullScreen=!1,b.container.find(".mejs-captions-text").css("font-size",""),b.container.find(".mejs-captions-text").css("line-height",""),b.container.find(".mejs-captions-position").css("bottom",""),b.container.trigger("exitedfullscreen")}})}(mejs.$),function(a){a.extend(mejs.MepDefaults,{speeds:["2.00","1.50","1.25","1.00","0.75"],defaultSpeed:"1.00",speedChar:"x"}),a.extend(MediaElementPlayer.prototype,{buildspeed:function(b,c,d,e){var f=this;if("native"==f.media.pluginType){for(var g=null,h=null,i=null,j=null,k=[],l=!1,m=0,n=f.options.speeds.length;n>m;m++){var o=f.options.speeds[m];"string"==typeof o?(k.push({name:o+f.options.speedChar,value:o}),o===f.options.defaultSpeed&&(l=!0)):(k.push(o),o.value===f.options.defaultSpeed&&(l=!0))}l||k.push({name:f.options.defaultSpeed+f.options.speedChar,value:f.options.defaultSpeed}),k.sort(function(a,b){return parseFloat(b.value)-parseFloat(a.value)});var p=function(a){for(m=0,n=k.length;n>m;m++)if(k[m].value===a)return k[m].name},q='<div class="mejs-button mejs-speed-button"><button type="button">'+p(f.options.defaultSpeed)+'</button><div class="mejs-speed-selector"><ul>';for(m=0,il=k.length;m<il;m++)j=f.id+"-speed-"+k[m].value,q+='<li><input type="radio" name="speed" value="'+k[m].value+'" id="'+j+'" '+(k[m].value===f.options.defaultSpeed?" checked":"")+' /><label for="'+j+'" '+(k[m].value===f.options.defaultSpeed?' class="mejs-speed-selected"':"")+">"+k[m].name+"</label></li>";q+="</ul></div></div>",g=a(q).appendTo(c),h=g.find(".mejs-speed-selector"),i=f.options.defaultSpeed,e.addEventListener("loadedmetadata",function(a){i&&(e.playbackRate=parseFloat(i))},!0),h.on("click",'input[type="radio"]',function(){var b=a(this).attr("value");i=b,e.playbackRate=parseFloat(b),g.find("button").html(p(b)),g.find(".mejs-speed-selected").removeClass("mejs-speed-selected"),g.find('input[type="radio"]:checked').next().addClass("mejs-speed-selected")}),g.one("mouseenter focusin",function(){h.height(g.find(".mejs-speed-selector ul").outerHeight(!0)+g.find(".mejs-speed-translations").outerHeight(!0)).css("top",-1*h.height()+"px")})}}})}(mejs.$),function(a){a.extend(mejs.MepDefaults,{startLanguage:"",tracksText:"",tracksAriaLive:!1,hideCaptionsButtonWhenEmpty:!0,toggleCaptionsButtonWhenOnlyOne:!1,slidesSelector:""}),a.extend(MediaElementPlayer.prototype,{hasChapters:!1,cleartracks:function(a,b,c,d){a&&(a.captions&&a.captions.remove(),a.chapters&&a.chapters.remove(),a.captionsText&&a.captionsText.remove(),a.captionsButton&&a.captionsButton.remove())},buildtracks:function(b,c,d,e){if(0!==b.tracks.length){var f,g,h=this,i=h.options.tracksAriaLive?'role="log" aria-live="assertive" aria-atomic="false"':"",j=h.options.tracksText?h.options.tracksText:mejs.i18n.t("mejs.captions-subtitles");if(h.domNode.textTracks)for(f=h.domNode.textTracks.length-1;f>=0;f--)h.domNode.textTracks[f].mode="hidden";h.cleartracks(b,c,d,e),b.chapters=a('<div class="mejs-chapters mejs-layer"></div>').prependTo(d).hide(),b.captions=a('<div class="mejs-captions-layer mejs-layer"><div class="mejs-captions-position mejs-captions-position-hover" '+i+'><span class="mejs-captions-text"></span></div></div>').prependTo(d).hide(),b.captionsText=b.captions.find(".mejs-captions-text"),b.captionsButton=a('<div class="mejs-button mejs-captions-button"><button type="button" aria-controls="'+h.id+'" title="'+j+'" aria-label="'+j+'"></button><div class="mejs-captions-selector"><ul><li><input type="radio" name="'+b.id+'_captions" id="'+b.id+'_captions_none" value="none" checked="checked" /><label for="'+b.id+'_captions_none">'+mejs.i18n.t("mejs.none")+"</label></li></ul></div></div>").appendTo(c);var k=0;for(f=0;f<b.tracks.length;f++)g=b.tracks[f].kind,("subtitles"===g||"captions"===g)&&k++;for(h.options.toggleCaptionsButtonWhenOnlyOne&&1==k?b.captionsButton.on("click",function(){null===b.selectedTrack?lang=b.tracks[0].srclang:lang="none",b.setTrack(lang)}):(b.captionsButton.on("mouseenter focusin",function(){a(this).find(".mejs-captions-selector").removeClass("mejs-offscreen")}).on("click","input[type=radio]",function(){lang=this.value,b.setTrack(lang)}),b.captionsButton.on("mouseleave focusout",function(){a(this).find(".mejs-captions-selector").addClass("mejs-offscreen")})),b.options.alwaysShowControls?b.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover"):b.container.bind("controlsshown",function(){b.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover")}).bind("controlshidden",function(){e.paused||b.container.find(".mejs-captions-position").removeClass("mejs-captions-position-hover")}),b.trackToLoad=-1,b.selectedTrack=null,b.isLoadingTrack=!1,f=0;f<b.tracks.length;f++)g=b.tracks[f].kind,("subtitles"===g||"captions"===g)&&b.addTrackButton(b.tracks[f].srclang,b.tracks[f].label);b.loadNextTrack(),e.addEventListener("timeupdate",function(){b.displayCaptions()},!1),""!==b.options.slidesSelector&&(b.slidesContainer=a(b.options.slidesSelector),e.addEventListener("timeupdate",function(){b.displaySlides()},!1)),e.addEventListener("loadedmetadata",function(){b.displayChapters()},!1),b.container.hover(function(){b.hasChapters&&(b.chapters.removeClass("mejs-offscreen"),b.chapters.fadeIn(200).height(b.chapters.find(".mejs-chapter").outerHeight()))},function(){b.hasChapters&&!e.paused&&b.chapters.fadeOut(200,function(){a(this).addClass("mejs-offscreen"),a(this).css("display","block")})}),h.container.on("controlsresize",function(){h.adjustLanguageBox()}),null!==b.node.getAttribute("autoplay")&&b.chapters.addClass("mejs-offscreen")}},setTrack:function(a){var b,c=this;if("none"==a)c.selectedTrack=null,c.captionsButton.removeClass("mejs-captions-enabled");else for(b=0;b<c.tracks.length;b++)if(c.tracks[b].srclang==a){null===c.selectedTrack&&c.captionsButton.addClass("mejs-captions-enabled"),c.selectedTrack=c.tracks[b],c.captions.attr("lang",c.selectedTrack.srclang),c.displayCaptions();break}},loadNextTrack:function(){var a=this;a.trackToLoad++,a.trackToLoad<a.tracks.length?(a.isLoadingTrack=!0,a.loadTrack(a.trackToLoad)):(a.isLoadingTrack=!1,a.checkForTracks())},loadTrack:function(b){var c=this,d=c.tracks[b],e=function(){d.isLoaded=!0,c.enableTrackButton(d.srclang,d.label),c.loadNextTrack()};(void 0!==d.src||""!==d.src)&&a.ajax({url:d.src,dataType:"text",success:function(a){"string"==typeof a&&/<tt\s+xml/gi.exec(a)?d.entries=mejs.TrackFormatParser.dfxp.parse(a):d.entries=mejs.TrackFormatParser.webvtt.parse(a),e(),"chapters"==d.kind&&c.media.addEventListener("play",function(){c.media.duration>0&&c.displayChapters(d)},!1),"slides"==d.kind&&c.setupSlides(d)},error:function(){c.removeTrackButton(d.srclang),c.loadNextTrack()}})},enableTrackButton:function(b,c){var d=this;""===c&&(c=mejs.language.codes[b]||b),d.captionsButton.find("input[value="+b+"]").prop("disabled",!1).siblings("label").html(c),d.options.startLanguage==b&&a("#"+d.id+"_captions_"+b).prop("checked",!0).trigger("click"),d.adjustLanguageBox()},removeTrackButton:function(a){var b=this;b.captionsButton.find("input[value="+a+"]").closest("li").remove(),b.adjustLanguageBox()},addTrackButton:function(b,c){var d=this;""===c&&(c=mejs.language.codes[b]||b),d.captionsButton.find("ul").append(a('<li><input type="radio" name="'+d.id+'_captions" id="'+d.id+"_captions_"+b+'" value="'+b+'" disabled="disabled" /><label for="'+d.id+"_captions_"+b+'">'+c+" (loading)</label></li>")),d.adjustLanguageBox(),d.container.find(".mejs-captions-translations option[value="+b+"]").remove()},adjustLanguageBox:function(){var a=this;a.captionsButton.find(".mejs-captions-selector").height(a.captionsButton.find(".mejs-captions-selector ul").outerHeight(!0)+a.captionsButton.find(".mejs-captions-translations").outerHeight(!0))},checkForTracks:function(){var a=this,b=!1;if(a.options.hideCaptionsButtonWhenEmpty){for(var c=0;c<a.tracks.length;c++){var d=a.tracks[c].kind;if(("subtitles"===d||"captions"===d)&&a.tracks[c].isLoaded){b=!0;break}}b||(a.captionsButton.hide(),a.setControlsSize())}},displayCaptions:function(){if("undefined"!=typeof this.tracks){var a,b=this,c=b.selectedTrack;if(null!==c&&c.isLoaded){for(a=0;a<c.entries.times.length;a++)if(b.media.currentTime>=c.entries.times[a].start&&b.media.currentTime<=c.entries.times[a].stop)return b.captionsText.html(c.entries.text[a]).attr("class","mejs-captions-text "+(c.entries.times[a].identifier||"")),void b.captions.show().height(0);b.captions.hide()}else b.captions.hide()}},setupSlides:function(a){var b=this;b.slides=a,b.slides.entries.imgs=[b.slides.entries.text.length],b.showSlide(0)},showSlide:function(b){if("undefined"!=typeof this.tracks&&"undefined"!=typeof this.slidesContainer){var c=this,d=c.slides.entries.text[b],e=c.slides.entries.imgs[b];"undefined"==typeof e||"undefined"==typeof e.fadeIn?c.slides.entries.imgs[b]=e=a('<img src="'+d+'">').on("load",function(){e.appendTo(c.slidesContainer).hide().fadeIn().siblings(":visible").fadeOut()}):e.is(":visible")||e.is(":animated")||e.fadeIn().siblings(":visible").fadeOut()}},displaySlides:function(){if("undefined"!=typeof this.slides){var a,b=this,c=b.slides;for(a=0;a<c.entries.times.length;a++)if(b.media.currentTime>=c.entries.times[a].start&&b.media.currentTime<=c.entries.times[a].stop)return void b.showSlide(a)}},displayChapters:function(){var a,b=this;for(a=0;a<b.tracks.length;a++)if("chapters"==b.tracks[a].kind&&b.tracks[a].isLoaded){b.drawChapters(b.tracks[a]),b.hasChapters=!0;break}},drawChapters:function(b){var c,d,e=this,f=0,g=0;for(e.chapters.empty(),c=0;c<b.entries.times.length;c++)d=b.entries.times[c].stop-b.entries.times[c].start,f=Math.floor(d/e.media.duration*100),(f+g>100||c==b.entries.times.length-1&&100>f+g)&&(f=100-g),e.chapters.append(a('<div class="mejs-chapter" rel="'+b.entries.times[c].start+'" style="left: '+g.toString()+"%;width: "+f.toString()+'%;"><div class="mejs-chapter-block'+(c==b.entries.times.length-1?" mejs-chapter-block-last":"")+'"><span class="ch-title">'+b.entries.text[c]+'</span><span class="ch-time">'+mejs.Utility.secondsToTimeCode(b.entries.times[c].start,e.options)+"&ndash;"+mejs.Utility.secondsToTimeCode(b.entries.times[c].stop,e.options)+"</span></div></div>")),g+=f;e.chapters.find("div.mejs-chapter").click(function(){e.media.setCurrentTime(parseFloat(a(this).attr("rel"))),e.media.paused&&e.media.play()}),e.chapters.show()}}),mejs.language={codes:{af:"Afrikaans",sq:"Albanian",ar:"Arabic",be:"Belarusian",bg:"Bulgarian",ca:"Catalan",zh:"Chinese","zh-cn":"Chinese Simplified","zh-tw":"Chinese Traditional",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch",en:"English",et:"Estonian",fl:"Filipino",fi:"Finnish",fr:"French",gl:"Galician",de:"German",el:"Greek",ht:"Haitian Creole",iw:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",ga:"Irish",it:"Italian",ja:"Japanese",ko:"Korean",lv:"Latvian",lt:"Lithuanian",mk:"Macedonian",ms:"Malay",mt:"Maltese",no:"Norwegian",fa:"Persian",pl:"Polish",pt:"Portuguese",ro:"Romanian",ru:"Russian",sr:"Serbian",sk:"Slovak",sl:"Slovenian",es:"Spanish",sw:"Swahili",sv:"Swedish",tl:"Tagalog",th:"Thai",tr:"Turkish",uk:"Ukrainian",vi:"Vietnamese",cy:"Welsh",yi:"Yiddish"}},mejs.TrackFormatParser={webvtt:{pattern_timecode:/^((?:[0-9]{1,2}:)?[0-9]{2}:[0-9]{2}([,.][0-9]{1,3})?) --\> ((?:[0-9]{1,2}:)?[0-9]{2}:[0-9]{2}([,.][0-9]{3})?)(.*)$/,parse:function(b){for(var c,d,e,f=0,g=mejs.TrackFormatParser.split2(b,/\r?\n/),h={text:[],times:[]};f<g.length;f++){if(c=this.pattern_timecode.exec(g[f]),c&&f<g.length){for(f-1>=0&&""!==g[f-1]&&(e=g[f-1]),f++,d=g[f],f++;""!==g[f]&&f<g.length;)d=d+"\n"+g[f],f++;d=a.trim(d).replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a href='$1' target='_blank'>$1</a>"),h.text.push(d),h.times.push({identifier:e,start:0===mejs.Utility.convertSMPTEtoSeconds(c[1])?.2:mejs.Utility.convertSMPTEtoSeconds(c[1]),stop:mejs.Utility.convertSMPTEtoSeconds(c[3]),settings:c[5]})}e=""}return h}},dfxp:{parse:function(b){b=a(b).filter("tt");var c,d,e=0,f=b.children("div").eq(0),g=f.find("p"),h=b.find("#"+f.attr("style")),i={text:[],times:[]};if(h.length){var j=h.removeAttr("id").get(0).attributes;if(j.length)for(c={},e=0;e<j.length;e++)c[j[e].name.split(":")[1]]=j[e].value}for(e=0;e<g.length;e++){var k,l={start:null,stop:null,style:null};if(g.eq(e).attr("begin")&&(l.start=mejs.Utility.convertSMPTEtoSeconds(g.eq(e).attr("begin"))),!l.start&&g.eq(e-1).attr("end")&&(l.start=mejs.Utility.convertSMPTEtoSeconds(g.eq(e-1).attr("end"))),g.eq(e).attr("end")&&(l.stop=mejs.Utility.convertSMPTEtoSeconds(g.eq(e).attr("end"))),!l.stop&&g.eq(e+1).attr("begin")&&(l.stop=mejs.Utility.convertSMPTEtoSeconds(g.eq(e+1).attr("begin"))),c){k="";for(var m in c)k+=m+":"+c[m]+";"}k&&(l.style=k),0===l.start&&(l.start=.2),i.times.push(l),d=a.trim(g.eq(e).html()).replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a href='$1' target='_blank'>$1</a>"),i.text.push(d)}return i}},split2:function(a,b){return a.split(b)}},3!="x\n\ny".split(/\n/gi).length&&(mejs.TrackFormatParser.split2=function(a,b){var c,d=[],e="";for(c=0;c<a.length;c++)e+=a.substring(c,c+1),b.test(e)&&(d.push(e.replace(b,"")),e="");return d.push(e),d})}(mejs.$),function(a){a.extend(mejs.MepDefaults,{sourcechooserText:""}),a.extend(MediaElementPlayer.prototype,{buildsourcechooser:function(b,c,d,e){var f,g=this,h=g.options.sourcechooserText?g.options.sourcechooserText:mejs.i18n.t("mejs.source-chooser");b.sourcechooserButton=a('<div class="mejs-button mejs-sourcechooser-button"><button type="button" role="button" aria-haspopup="true" aria-owns="'+g.id+'" title="'+h+'" aria-label="'+h+'"></button><div class="mejs-sourcechooser-selector mejs-offscreen" role="menu" aria-expanded="false" aria-hidden="true"><ul></ul></div></div>').appendTo(c).hover(function(){clearTimeout(f),b.showSourcechooserSelector()},function(){a(this);f=setTimeout(function(){b.hideSourcechooserSelector()},500)}).on("keydown",function(c){var d=c.keyCode;switch(d){case 32:mejs.MediaFeatures.isFirefox||b.showSourcechooserSelector(),a(this).find(".mejs-sourcechooser-selector").find("input[type=radio]:checked").first().focus();break;case 13:b.showSourcechooserSelector(),a(this).find(".mejs-sourcechooser-selector").find("input[type=radio]:checked").first().focus();break;case 27:b.hideSourcechooserSelector(),a(this).find("button").focus();break;default:return!0}}).on("focusout",mejs.Utility.debounce(function(c){setTimeout(function(){var c=a(document.activeElement).closest(".mejs-sourcechooser-selector");c.length||b.hideSourcechooserSelector()},0)},100)).delegate("input[type=radio]","click",function(){a(this).attr("aria-selected",!0).attr("checked","checked"),a(this).closest(".mejs-sourcechooser-selector").find("input[type=radio]").not(this).attr("aria-selected","false").removeAttr("checked");var b=this.value;if(e.currentSrc!=b){var c=e.currentTime,d=e.paused;e.pause(),e.setSrc(b),e.addEventListener("loadedmetadata",function(a){e.currentTime=c},!0);var f=function(a){d||e.play(),e.removeEventListener("canplay",f,!0)};e.addEventListener("canplay",f,!0),e.load()}}).delegate("button","click",function(c){a(this).siblings(".mejs-sourcechooser-selector").hasClass("mejs-offscreen")?(b.showSourcechooserSelector(),a(this).siblings(".mejs-sourcechooser-selector").find("input[type=radio]:checked").first().focus()):b.hideSourcechooserSelector()});for(var i in this.node.children){var j=this.node.children[i];"SOURCE"!==j.nodeName||"probably"!=e.canPlayType(j.type)&&"maybe"!=e.canPlayType(j.type)||b.addSourceButton(j.src,j.title,j.type,e.src==j.src)}},addSourceButton:function(b,c,d,e){var f=this;(""===c||void 0==c)&&(c=b),d=d.split("/")[1],f.sourcechooserButton.find("ul").append(a('<li><input type="radio" name="'+f.id+'_sourcechooser" id="'+f.id+"_sourcechooser_"+c+d+'" role="menuitemradio" value="'+b+'" '+(e?'checked="checked"':"")+'aria-selected="'+e+'" /><label for="'+f.id+"_sourcechooser_"+c+d+'" aria-hidden="true">'+c+" ("+d+")</label></li>")),f.adjustSourcechooserBox()},adjustSourcechooserBox:function(){var a=this;a.sourcechooserButton.find(".mejs-sourcechooser-selector").height(a.sourcechooserButton.find(".mejs-sourcechooser-selector ul").outerHeight(!0))},hideSourcechooserSelector:function(){this.sourcechooserButton.find(".mejs-sourcechooser-selector").addClass("mejs-offscreen").attr("aria-expanded","false").attr("aria-hidden","true").find("input[type=radio]").attr("tabindex","-1")},showSourcechooserSelector:function(){this.sourcechooserButton.find(".mejs-sourcechooser-selector").removeClass("mejs-offscreen").attr("aria-expanded","true").attr("aria-hidden","false").find("input[type=radio]").attr("tabindex","0")}})}(mejs.$),function(a){a.extend(mejs.MepDefaults,{contextMenuItems:[{render:function(a){return"undefined"==typeof a.enterFullScreen?null:a.isFullScreen?mejs.i18n.t("mejs.fullscreen-off"):mejs.i18n.t("mejs.fullscreen-on")},click:function(a){a.isFullScreen?a.exitFullScreen():a.enterFullScreen()}},{render:function(a){return a.media.muted?mejs.i18n.t("mejs.unmute"):mejs.i18n.t("mejs.mute")},click:function(a){a.media.muted?a.setMuted(!1):a.setMuted(!0)}},{isSeparator:!0},{render:function(a){return mejs.i18n.t("mejs.download-video")},click:function(a){window.location.href=a.media.currentSrc}}]}),a.extend(MediaElementPlayer.prototype,{buildcontextmenu:function(b,c,d,e){b.contextMenu=a('<div class="mejs-contextmenu"></div>').appendTo(a("body")).hide(),b.container.bind("contextmenu",function(a){return b.isContextMenuEnabled?(a.preventDefault(),b.renderContextMenu(a.clientX-1,a.clientY-1),!1):void 0}),b.container.bind("click",function(){b.contextMenu.hide()}),b.contextMenu.bind("mouseleave",function(){b.startContextMenuTimer()})},cleancontextmenu:function(a){a.contextMenu.remove()},isContextMenuEnabled:!0,enableContextMenu:function(){this.isContextMenuEnabled=!0},disableContextMenu:function(){this.isContextMenuEnabled=!1},contextMenuTimeout:null,startContextMenuTimer:function(){var a=this;a.killContextMenuTimer(),a.contextMenuTimer=setTimeout(function(){a.hideContextMenu(),a.killContextMenuTimer()},750)},killContextMenuTimer:function(){var a=this.contextMenuTimer;null!=a&&(clearTimeout(a),delete a,a=null)},hideContextMenu:function(){this.contextMenu.hide()},renderContextMenu:function(b,c){for(var d=this,e="",f=d.options.contextMenuItems,g=0,h=f.length;h>g;g++)if(f[g].isSeparator)e+='<div class="mejs-contextmenu-separator"></div>';else{var i=f[g].render(d);null!=i&&(e+='<div class="mejs-contextmenu-item" data-itemindex="'+g+'" id="element-'+1e6*Math.random()+'">'+i+"</div>")}d.contextMenu.empty().append(a(e)).css({top:c,left:b}).show(),d.contextMenu.find(".mejs-contextmenu-item").each(function(){var b=a(this),c=parseInt(b.data("itemindex"),10),e=d.options.contextMenuItems[c];"undefined"!=typeof e.show&&e.show(b,d),b.click(function(){"undefined"!=typeof e.click&&e.click(d),d.contextMenu.hide()})}),setTimeout(function(){d.killControlsTimer("rev3")},100)}})}(mejs.$),function(a){a.extend(mejs.MepDefaults,{skipBackInterval:30,skipBackText:""}),a.extend(MediaElementPlayer.prototype,{buildskipback:function(b,c,d,e){var f=this,g=mejs.i18n.t("mejs.time-skip-back",f.options.skipBackInterval),h=f.options.skipBackText?f.options.skipBackText:g;a('<div class="mejs-button mejs-skip-back-button"><button type="button" aria-controls="'+f.id+'" title="'+h+'" aria-label="'+h+'">'+f.options.skipBackInterval+"</button></div>").appendTo(c).click(function(){e.setCurrentTime(Math.max(e.currentTime-f.options.skipBackInterval,0)),a(this).find("button").blur()})}})}(mejs.$),function(a){a.extend(mejs.MepDefaults,{postrollCloseText:""}),a.extend(MediaElementPlayer.prototype,{buildpostroll:function(b,c,d,e){var f=this,g=f.options.postrollCloseText?f.options.postrollCloseText:mejs.i18n.t("mejs.close"),h=f.container.find('link[rel="postroll"]').attr("href");"undefined"!=typeof h&&(b.postroll=a('<div class="mejs-postroll-layer mejs-layer"><a class="mejs-postroll-close" onclick="$(this).parent().hide();return false;">'+g+'</a><div class="mejs-postroll-layer-content"></div></div>').prependTo(d).hide(),f.media.addEventListener("ended",function(c){a.ajax({dataType:"html",url:h,success:function(a,b){d.find(".mejs-postroll-layer-content").html(a)}}),b.postroll.show()},!1))}})}(mejs.$),function(a){a.extend(mejs.MepDefaults,{markerColor:"#E9BC3D",markers:[],markerCallback:function(){}}),a.extend(MediaElementPlayer.prototype,{buildmarkers:function(a,b,c,d){var e=0,f=-1,g=-1,h=-1,i=-1;for(e=0;e<a.options.markers.length;++e)b.find(".mejs-time-total").append('<span class="mejs-time-marker"></span>');d.addEventListener("durationchange",function(c){a.setmarkers(b)}),d.addEventListener("timeupdate",function(b){for(f=Math.floor(d.currentTime),h>f?i>f&&(i=-1):h=f,e=0;e<a.options.markers.length;++e)g=Math.floor(a.options.markers[e]),f===g&&g!==i&&(a.options.markerCallback(d,d.currentTime),i=g)},!1)},setmarkers:function(b){var c,d=this,e=0;for(e=0;e<d.options.markers.length;++e)Math.floor(d.options.markers[e])<=d.media.duration&&Math.floor(d.options.markers[e])>=0&&(c=100*Math.floor(d.options.markers[e])/d.media.duration,a(b.find(".mejs-time-marker")[e]).css({width:"1px",left:c+"%",background:d.options.markerColor}))}})}(mejs.$);jQuery.extend(jQuery.easing,{def:"ease-in-out",swing:function(t,n,i,e,o){return jQuery.easing[jQuery.easing.def](t,n,i,e,o)},"ease-in":function(t,n,i,e,o){return e*(n/=o)*n+i},"ease-out":function(t,n,i,e,o){return-e*(n/=o)*(n-2)+i},"ease-in-out":function(t,n,i,e,o){return(n/=o/2)<1?e/2*n*n+i:-e/2*(--n*(n-2)-1)+i}});var Pulse=function(){var P={};with(this){!function(t){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],t):t(jQuery)}(function(t){function n(n){return!n||void 0!==n.allowPageScroll||void 0===n.swipe&&void 0===n.swipeStatus||(n.allowPageScroll=c),void 0!==n.click&&void 0===n.tap&&(n.tap=n.click),n||(n={}),n=t.extend({},t.fn.swipe.defaults,n),this.each(function(){var e=t(this),o=e.data(S);o||(o=new i(this,n),e.data(S,o))})}function i(n,i){function C(n){if(!(rt()||t(n.target).closest(i.excludedElements,jt).length>0)){var e,o=n.originalEvent?n.originalEvent:n,s=k?o.touches[0]:o;return qt=x,k?Ut=o.touches.length:n.preventDefault(),Mt=0,Ot=null,Qt=null,Ft=0,Ht=0,At=0,Lt=1,Rt=0,Kt=dt(),Nt=ft(),st(),!k||Ut===i.fingers||i.fingers===v||N()?(ct(0,s),Xt=kt(),2==Ut&&(ct(1,o.touches[1]),Ht=At=vt(Kt[0].start,Kt[1].start)),(i.swipeStatus||i.pinchStatus)&&(e=M(o,qt))):e=!1,e===!1?(qt=T,M(o,qt),e):(lt(!0),null)}}function D(t){var n=t.originalEvent?t.originalEvent:t;if(qt!==y&&qt!==T&&!at()){var e,o=k?n.touches[0]:n,s=ht(o);if(Yt=kt(),k&&(Ut=n.touches.length),qt=b,2==Ut&&(0==Ht?(ct(1,n.touches[1]),Ht=At=vt(Kt[0].start,Kt[1].start)):(ht(n.touches[1]),At=vt(Kt[0].end,Kt[1].end),Qt=xt(Kt[0].end,Kt[1].end)),Lt=wt(Ht,At),Rt=Math.abs(Ht-At)),Ut===i.fingers||i.fingers===v||!k||N()){if(Ot=Tt(s.start,s.end),R(t,Ot),Mt=bt(s.start,s.end),Ft=mt(),pt(Ot,Mt),(i.swipeStatus||i.pinchStatus)&&(e=M(n,qt)),!i.triggerOnTouchEnd||i.triggerOnTouchLeave){var a=!0;if(i.triggerOnTouchLeave){var r=St(this);a=Ct(s.end,r)}!i.triggerOnTouchEnd&&a?qt=z(b):i.triggerOnTouchLeave&&!a&&(qt=z(y)),qt!=T&&qt!=y||M(n,qt)}}else qt=T,M(n,qt);e===!1&&(qt=T,M(n,qt))}}function $(t){var n=t.originalEvent;return k&&n.touches.length>0?(ot(),!0):(at()&&(Ut=Wt),t.preventDefault(),Yt=kt(),Ft=mt(),H()?(qt=T,M(n,qt)):i.triggerOnTouchEnd||0==i.triggerOnTouchEnd&&qt===b?(qt=y,M(n,qt)):!i.triggerOnTouchEnd&&B()?(qt=y,O(n,qt,p)):qt===b&&(qt=T,M(n,qt)),lt(!1),null)}function E(){Ut=0,Yt=0,Xt=0,Ht=0,At=0,Lt=1,st(),lt(!1)}function I(t){var n=t.originalEvent;i.triggerOnTouchLeave&&(qt=z(y),M(n,qt))}function P(){jt.unbind($t,C),jt.unbind(zt,E),jt.unbind(Et,D),jt.unbind(It,$),Pt&&jt.unbind(Pt,I),lt(!1)}function z(t){var n=t,e=L(),o=F(),s=H();return!e||s?n=T:!o||t!=b||i.triggerOnTouchEnd&&!i.triggerOnTouchLeave?!o&&t==y&&i.triggerOnTouchLeave&&(n=T):n=y,n}function M(t,n){var i=void 0;return K()||U()?i=O(t,n,u):(j()||N())&&i!==!1&&(i=O(t,n,d)),it()&&i!==!1?i=O(t,n,g):et()&&i!==!1?i=O(t,n,f):nt()&&i!==!1&&(i=O(t,n,p)),n===T&&E(t),n===y&&(k?0==t.touches.length&&E(t):E(t)),i}function O(n,c,h){var _=void 0;if(h==u){if(jt.trigger("swipeStatus",[c,Ot||null,Mt||0,Ft||0,Ut]),i.swipeStatus&&(_=i.swipeStatus.call(jt,n,c,Ot||null,Mt||0,Ft||0,Ut),_===!1))return!1;if(c==y&&q()){if(jt.trigger("swipe",[Ot,Mt,Ft,Ut]),i.swipe&&(_=i.swipe.call(jt,n,Ot,Mt,Ft,Ut),_===!1))return!1;switch(Ot){case e:jt.trigger("swipeLeft",[Ot,Mt,Ft,Ut]),i.swipeLeft&&(_=i.swipeLeft.call(jt,n,Ot,Mt,Ft,Ut));break;case o:jt.trigger("swipeRight",[Ot,Mt,Ft,Ut]),i.swipeRight&&(_=i.swipeRight.call(jt,n,Ot,Mt,Ft,Ut));break;case s:jt.trigger("swipeUp",[Ot,Mt,Ft,Ut]),i.swipeUp&&(_=i.swipeUp.call(jt,n,Ot,Mt,Ft,Ut));break;case a:jt.trigger("swipeDown",[Ot,Mt,Ft,Ut]),i.swipeDown&&(_=i.swipeDown.call(jt,n,Ot,Mt,Ft,Ut))}}}if(h==d){if(jt.trigger("pinchStatus",[c,Qt||null,Rt||0,Ft||0,Ut,Lt]),i.pinchStatus&&(_=i.pinchStatus.call(jt,n,c,Qt||null,Rt||0,Ft||0,Ut,Lt),_===!1))return!1;if(c==y&&Q())switch(Qt){case r:jt.trigger("pinchIn",[Qt||null,Rt||0,Ft||0,Ut,Lt]),i.pinchIn&&(_=i.pinchIn.call(jt,n,Qt||null,Rt||0,Ft||0,Ut,Lt));break;case l:jt.trigger("pinchOut",[Qt||null,Rt||0,Ft||0,Ut,Lt]),i.pinchOut&&(_=i.pinchOut.call(jt,n,Qt||null,Rt||0,Ft||0,Ut,Lt))}}return h==p?c!==T&&c!==y||(clearTimeout(Gt),W()&&!Z()?(Vt=kt(),Gt=setTimeout(t.proxy(function(){Vt=null,jt.trigger("tap",[n.target]),i.tap&&(_=i.tap.call(jt,n,n.target))},this),i.doubleTapThreshold)):(Vt=null,jt.trigger("tap",[n.target]),i.tap&&(_=i.tap.call(jt,n,n.target)))):h==g?c!==T&&c!==y||(clearTimeout(Gt),Vt=null,jt.trigger("doubletap",[n.target]),i.doubleTap&&(_=i.doubleTap.call(jt,n,n.target))):h==f&&(c!==T&&c!==y||(clearTimeout(Gt),Vt=null,jt.trigger("longtap",[n.target]),i.longTap&&(_=i.longTap.call(jt,n,n.target)))),_}function F(){var t=!0;return null!==i.threshold&&(t=Mt>=i.threshold),t}function H(){var t=!1;return null!==i.cancelThreshold&&null!==Ot&&(t=gt(Ot)-Mt>=i.cancelThreshold),t}function A(){return null===i.pinchThreshold||Rt>=i.pinchThreshold}function L(){var t;return t=!i.maxTimeThreshold||!(Ft>=i.maxTimeThreshold)}function R(t,n){if(i.allowPageScroll===c||N())t.preventDefault();else{var r=i.allowPageScroll===h;switch(n){case e:(i.swipeLeft&&r||!r&&i.allowPageScroll!=_)&&t.preventDefault();break;case o:(i.swipeRight&&r||!r&&i.allowPageScroll!=_)&&t.preventDefault();break;case s:(i.swipeUp&&r||!r&&i.allowPageScroll!=m)&&t.preventDefault();break;case a:(i.swipeDown&&r||!r&&i.allowPageScroll!=m)&&t.preventDefault()}}}function Q(){var t=X(),n=Y(),i=A();return t&&n&&i}function N(){return!!(i.pinchStatus||i.pinchIn||i.pinchOut)}function j(){return!(!Q()||!N())}function q(){var t=L(),n=F(),i=X(),e=Y(),o=H(),s=!o&&e&&i&&n&&t;return s}function U(){return!!(i.swipe||i.swipeStatus||i.swipeLeft||i.swipeRight||i.swipeUp||i.swipeDown)}function K(){return!(!q()||!U())}function X(){return Ut===i.fingers||i.fingers===v||!k}function Y(){return 0!==Kt[0].end.x}function B(){return!!i.tap}function W(){return!!i.doubleTap}function V(){return!!i.longTap}function G(){if(null==Vt)return!1;var t=kt();return W()&&t-Vt<=i.doubleTapThreshold}function Z(){return G()}function J(){return(1===Ut||!k)&&(isNaN(Mt)||0===Mt)}function tt(){return Ft>i.longTapThreshold&&Mt<w}function nt(){return!(!J()||!B())}function it(){return!(!G()||!W())}function et(){return!(!tt()||!V())}function ot(){Bt=kt(),Wt=event.touches.length+1}function st(){Bt=0,Wt=0}function at(){var t=!1;if(Bt){var n=kt()-Bt;n<=i.fingerReleaseThreshold&&(t=!0)}return t}function rt(){return!(jt.data(S+"_intouch")!==!0)}function lt(t){t===!0?(jt.bind(Et,D),jt.bind(It,$),Pt&&jt.bind(Pt,I)):(jt.unbind(Et,D,!1),jt.unbind(It,$,!1),Pt&&jt.unbind(Pt,I,!1)),jt.data(S+"_intouch",t===!0)}function ct(t,n){var i=void 0!==n.identifier?n.identifier:0;return Kt[t].identifier=i,Kt[t].start.x=Kt[t].end.x=n.pageX||n.clientX,Kt[t].start.y=Kt[t].end.y=n.pageY||n.clientY,Kt[t]}function ht(t){var n=void 0!==t.identifier?t.identifier:0,i=ut(n);return i.end.x=t.pageX||t.clientX,i.end.y=t.pageY||t.clientY,i}function ut(t){for(var n=0;n<Kt.length;n++)if(Kt[n].identifier==t)return Kt[n]}function dt(){for(var t=[],n=0;n<=5;n++)t.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});return t}function pt(t,n){n=Math.max(n,gt(t)),Nt[t].distance=n}function gt(t){if(Nt[t])return Nt[t].distance}function ft(){var t={};return t[e]=_t(e),t[o]=_t(o),t[s]=_t(s),t[a]=_t(a),t}function _t(t){return{direction:t,distance:0}}function mt(){return Yt-Xt}function vt(t,n){var i=Math.abs(t.x-n.x),e=Math.abs(t.y-n.y);return Math.round(Math.sqrt(i*i+e*e))}function wt(t,n){var i=n/t*1;return i.toFixed(2)}function xt(){return Lt<1?l:r}function bt(t,n){return Math.round(Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2)))}function yt(t,n){var i=t.x-n.x,e=n.y-t.y,o=Math.atan2(e,i),s=Math.round(180*o/Math.PI);return s<0&&(s=360-Math.abs(s)),s}function Tt(t,n){var i=yt(t,n);return i<=45&&i>=0?e:i<=360&&i>=315?e:i>=135&&i<=225?o:i>45&&i<135?a:s}function kt(){var t=new Date;return t.getTime()}function St(n){n=t(n);var i=n.offset(),e={left:i.left,right:i.left+n.outerWidth(),top:i.top,bottom:i.top+n.outerHeight()};return e}function Ct(t,n){return t.x>n.left&&t.x<n.right&&t.y>n.top&&t.y<n.bottom}var Dt=k||!i.fallbackToMouseEvents,$t=Dt?"touchstart":"mousedown",Et=Dt?"touchmove":"mousemove",It=Dt?"touchend":"mouseup",Pt=Dt?null:"mouseleave",zt="touchcancel",Mt=0,Ot=null,Ft=0,Ht=0,At=0,Lt=1,Rt=0,Qt=0,Nt=null,jt=t(n),qt="start",Ut=0,Kt=null,Xt=0,Yt=0,Bt=0,Wt=0,Vt=0,Gt=null;try{jt.bind($t,C),jt.bind(zt,E)}catch(n){t.error("events not supported "+$t+","+zt+" on jQuery.swipe")}this.enable=function(){return jt.bind($t,C),jt.bind(zt,E),jt},this.disable=function(){return P(),jt},this.destroy=function(){return P(),jt.data(S,null),jt},this.option=function(n,e){if(void 0!==i[n]){if(void 0===e)return i[n];i[n]=e}else t.error("Option "+n+" does not exist on jQuery.swipe.options");return null}}var e="left",o="right",s="up",a="down",r="in",l="out",c="none",h="auto",u="swipe",d="pinch",p="tap",g="doubletap",f="longtap",_="horizontal",m="vertical",v="all",w=10,x="start",b="move",y="end",T="cancel",k="ontouchstart"in window,S="TouchSwipe",C={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"label, button, input, select, textarea, a, .noSwipe"};t.fn.swipe=function(i){var e=t(this),o=e.data(S);if(o&&"string"==typeof i){if(o[i])return o[i].apply(this,Array.prototype.slice.call(arguments,1));t.error("Method "+i+" does not exist on jQuery.swipe")}else if(!(o||"object"!=typeof i&&i))return n.apply(this,arguments);return e},t.fn.swipe.defaults=C,t.fn.swipe.phases={PHASE_START:x,PHASE_MOVE:b,PHASE_END:y,PHASE_CANCEL:T},t.fn.swipe.directions={LEFT:e,RIGHT:o,UP:s,DOWN:a,IN:r,OUT:l},t.fn.swipe.pageScroll={NONE:c,HORIZONTAL:_,VERTICAL:m,AUTO:h},t.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:v}});var _ns={},_handles="fullscreen item itemnext contentclick contentmouseover contentmousemove contentmouseout dataloaded hasloaded waiting transition transitionstart transitionend playing built playbacktimer resizecomplete ended start ready videobegin videoend";_bind=function(t){var n=this;_handles.indexOf(t.type)<0||this.contentContainer.bind(t.type,function(i,e){if(i="boolean"==typeof e||e instanceof Array?e:$.extend({},i,e),t.type==n.triggered){if(!t.fn)return;if("transition"===t.type)t.fn.call(n.container,{current:n.last,next:n.current,forward:n.forward},t.type);else if("playing"===t.type)t.fn.call(n.container,"playing"===n.state,t.type);else{if(i.nodeType&&"transitionend"===t.type)return;t.fn.call(n.container,i.nodeType?$(i):i,t.type)}}})},_queue=function(t){t=t||!1;var n=[],i=this;return{add:function(t){return n.push(t),this},load:function(){for(var e=n.length,o=0;o<e;o++){var s=n[o],a=s.priority||i.loadQueue.internal.length;delete s.priority,t?(s.node.bind("load",function(){_popQueue.call(i)}),i.loadQueue.external.push(s)):1===a?i.loadQueue.internal.unshift(s):i.loadQueue.internal.splice(a,0,s)}n=[],_popQueue.call(i)}}},_popQueue=function(){var t=this.loadQueue.internal.shift();if(!t){if(!this.loadQueue.canLoadExternal)return;t=this.loadQueue.external.shift()}t?t.node?t.node.attr("src",t.src):_popQueue.call(this):(clearInterval(this.loadQueue.interval),this.loadQueue.interval=!1)},_hasLoaded=function(t){var n,i=t.parent("div.pulse-content-container");i.length&&i.data("asset")&&(n=i.data("asset").index),t.addClass("loaded"),n!==this.options.index||0!=i.parent("div").css("opacity")&&!this.options.touchSwipe||(this.contentContainer.trigger(this.triggered="waiting",[!1]),_display.call(this)),this.contentContainer.trigger(this.triggered="hasloaded"),_popQueue.call(this)},_loadItemById=function(t){var n=this.idMap[t];_loadItemByIndex(n)},_loadItemByIndex=function(t,n){n=n||!1,n||_pause.call(this),t<this.options.index?t=-(this.options.index-t):t-=this.options.index,_update.call(this,t,n)},_get=function(t){return this.contentContainer.find('div[data-pulse-container="'+t+'"]')},_pause=function(){this.state="paused",clearTimeout(this.playTimer.id),this.contentContainer.trigger(this.triggered="playing")},_play=function(){this.state="playing",_update.call(this,1),this.contentContainer.trigger(this.triggered="playing")},_options=function(){return this.options},_toggle=function(t,n){this.firstTime=!1,"playing"==this.state?_pause.call(this):_play.call(this)},_toggleFullScreen=function(){var t=Pulse.fullScreenApi;if(t.isFullScreen())this.lastHeight&&this.contentContainer.css("height",this.lastHeight),t.cancelFullScreen(),this.contentContainer.trigger(this.triggered="fullscreen",[!1]);else{this.lastHeight=this.contentContainer.css("height");var n=this.container.children(":not(.pulse-main-container)").height();this.contentContainer.css("height","-webkit-calc(100% - "+n+"px)"),this.contentContainer.css("height","-moz-calc(100% - "+n+"px)"),this.contentContainer.css("height","-ms-calc(100% - "+n+"px)"),this.contentContainer.css("height","-o-calc(100% - "+n+"px)"),this.contentContainer.css("height","calc(100% - "+n+"px)"),t.requestFullScreen(this.options.fullScreenRoot[0]),this.contentContainer.trigger(this.triggered="fullscreen",[!0])}},_startPlaybackTimer=function(){if("undefined"==typeof this.firstTime&&!this.options.autostart)return void(this.firstTime=!1);if("playing"===this.state){var t=this,n=+new Date,i={total:this.options.speed};this.playTimer.remaining=this.playTimer.remaining||this.options.speed,clearInterval(this.playTimer.id),this.playTimer.id=setInterval(function(){var e=+new Date;t.playTimer.remaining-=e-n,n=e,i.remaining=Math.max(t.playTimer.remaining,0),i.totalItems=t.totalItems,t.contentContainer.trigger(t.triggered="playbacktimer",i),t.playTimer.remaining<=0&&_update.call(t,1)},50)}},_exists=function(t){var n=$.inArray(t,this.handlers);return n!==-1&&this.handlers[n]},_loadPreset=function(t,n){n=n||!1;var i,e={width:t.width(),height:t.height()},o=!1,s=t.data("asset"),a={},r=t.find("img.pulse-content-image"),l=Math.max(Math.abs(this.options.index-s.index),1);t.removeClass("loaded");for(var c in s.presets)if(i=s.presets[c],"expand"===this.options.size&&i.width>e.width||i.width>e.width&&i.height>e.height){o=window.$K&&$K.isRetina()?i.hidpi_url:i.url,a.width=i.width,a.height=i.height;break}o||(o=$K.isRetina()?i.hidpi_url:i.url),this.options.relative&&s.cache_path.relative_prefix&&0===o.indexOf("http")&&(o=o.replace(s.cache_path.prefix,s.cache_path.relative_prefix)),t.data("size",a);var h={node:r,src:o,priority:l};return n?void _queue.call(this).add(h).load():h},_load=function(){var t,n,e=[this.loaded[this.options.index].id],o=this,s=this.touchContainer||this.contentContainer;for(i=1;i<=this.cushion;i++)t=this.options.index-i,t<0&&(t=this.loaded.length+t),this.loaded[t]&&(_get.call(this,this.loaded[t].id).length<=0&&s.append(_build.call(this,t)),e.push(this.loaded[t].id));for(_get.call(this,this.loaded[this.options.index].id).length<=0&&s.append(_build.call(this,this.options.index)),i=1;i<=this.cushion;i++)n=this.options.index+i,n>=this.loaded.length&&(n-=this.loaded.length),this.loaded[n]&&(_get.call(this,this.loaded[n].id).length<=0&&s.append(_build.call(this,n)),e.push(this.loaded[n].id));var a=_queue.call(this);this.contentContainer.find("div.pulse-content-container").each(function(){var t=$(this),n=t.find("img.pulse-content-image"),i=t.data("asset"),s=t.parent(),r=i&&i.id;$.inArray(r,e)===-1?(n.attr("src",""),s.remove()):n.hasClass("loaded")||a.add(_loadPreset.call(o,t))}),a.load()},_ratio=function(t,n){n&&(this.realDims={width:t.parents("div").width(),height:t.parents("div").height()},t=t.data("asset"));var i="expand"!==this.options.size||this.options.maxHeight===1/0?this.realDims.height:this.options.maxHeight;return this.containerRatio=this.containerRatio&&this.containerRatio<1/0?this.containerRatio:this.realDims.width/i,t.aspect_ratio>=this.containerRatio?{w:this.realDims.width,h:Math.round(this.realDims.width/t.aspect_ratio)}:{w:Math.round(i*t.aspect_ratio),h:i}},_kill=function(){this.dead=!0,this.contentContainer.off(),this.state="paused",clearInterval(this.loadQueue.interval),clearTimeout(this.playTimer.id);var t=this.container.attr("id");delete _ns[t],$.each(_ns.all,function(n,i){i&&i.container.attr("id")===t&&_ns.all.splice(n,1)})},_update=function(t,n){if(n=n||!1,!this.transitioning){var i=parseInt(this.options.index,10)+t;if(clearInterval(this.playTimer.id),this.playTimer.remaining=!1,t<0&&!n?(_pause.call(this),this.forward=!1):this.forward=!0,this.loaded.length<=1||this.options&&this.options.loop===!1&&i>=this.loaded.length)return void this.contentContainer.trigger(this.triggered="ended");this.options.index=i<0?this.loaded.length-1:i>=this.loaded.length?0:i;var e=_get.call(this,this.loaded[this.options.index].id);e.length?e.find("img.pulse-content-image").hasClass("loaded")?_display.call(this):(this.contentContainer.trigger(this.triggered="waiting",[!0]),_loadPreset.call(this,e.find("div.pulse-content-container"),!0)):(this.contentContainer.trigger(this.triggered="waiting",[!0]),e=_build.call(this,this.options.index),this.contentContainer.append(e),_loadPreset.call(this,e.find("div.pulse-content-container"),!0))}},_getItem=function(){return this.currentData},_getNextItem=function(){var t=this.options.index+1;return t>=this.loaded.length&&this.options.loop===!0&&(t=0),this.loaded[t]||!1},_display=function(){if(this.transitioning=!0,this.current&&this.current.css("z-index",9),this.currentData=this.loaded[this.options.index],this.current=_get.call(this,this.currentData.id),"expand"===this.options.size){var t=Math.min(this.options.maxHeight,this.realDims.width/this.currentData.aspect_ratio);this.contentContainer.animate({height:t},0===this.realDims.height||"none"===this.options.transition_type?0:this.options.transition_duration),this.realDims.height=t}if(this.current.css("z-index",10),this.last?(this.last.find(".video-container").css({left:-1e4}),this.last.find("img.pulse-content-image").show()):this.options.autostart===!0&&(this.state="playing",this.contentContainer.trigger(this.triggered="playing")),this.contentContainer.trigger(this.triggered="transitionstart",{dom:this.current,data:this.currentData}),this.contentContainer.trigger(this.triggered="itemnext",{dom:this.current,data:this.currentData}),this.options.next&&!this.options.loop){var n=$(this.options.next);n.length&&(this.currentData.is_last?n.addClass("k-pulse-button-disabled"):n.removeClass("k-pulse-button-disabled"))}if(this.options.previous&&!this.options.loop){var i=$(this.options.previous);i.length&&(this.currentData.is_first?i.addClass("k-pulse-button-disabled"):i.removeClass("k-pulse-button-disabled"))}this.loadQueue.canLoadExternal=!0,this.contentContainer.trigger(this.triggered="transition",this.current),this.last=this.current;var e=this.current.find(".video-container");e.length&&this.currentData.html&&e.css("left","50%")},_build=function(t){var n=this.loaded[t],i=$('<div data-pulse-container="'+n.id+'" />'),e=$("<div />"),o=$("<div />").addClass("pulse-content-ui-container").css("position","absolute"),s=$("<img />").addClass("pulse-content-image"),a=this;n.index=t,n.position=t+1,n.total=this.totalItems,n.is_first=1===n.position,n.is_last=n.position===this.totalItems,i.css({position:"absolute",background:this.options.background,width:"100%",height:"100%",top:0,left:0,right:"auto",bottom:"auto",opacity:0,margin:0,padding:0,border:0,overflow:"hidden",zIndex:9});var r=_position.call(this,n);if(e.addClass("pulse-content-container").css({position:"absolute",width:r.width,height:r.height,left:r.left,top:r.top}).data("asset",n),r.cropped?o.css({width:a.container.width(),height:a.container.height(),top:-r.top,left:-r.left}):o.css({width:"100%",height:"100%"}),s.attr({alt:n.title||n.filename,width:"100%",height:"100%","data-longest-side":Math.max(n.width,n.height),"data-visibility":n.visibility.raw}).css({position:"absolute",top:0,left:0}).one("load",function(){_hasLoaded.call(a,$(this))}),e.append(s),"video"===n.file_type){var l;n.html?(l=$(n.pulse_html||n.html),l.attr({width:"100%",height:"100%"}).css({position:"absolute",top:0,left:0}).appendTo(e)):l=$("<video/>").css({position:"absolute",top:0,left:0,width:"100%",height:"100%"}).attr({width:"100%",height:"100%",src:n.original.url});var c=$("<div/>").addClass("video-container").css({position:"absolute",top:"50%",left:"-10000px",width:n.html?"80px":"100%",height:n.html?"80px":"100%",margin:n.html?"-40px 0 0 -40px":0,opacity:.001,zIndex:n.html?1e4:1});c.append(l),e.append(c);var h=$("<div/>").addClass("video-overlay").css({position:"absolute",top:0,left:0,width:"100%",height:"100%",display:n.html?"none":"block",zIndex:2}).append($("<div/>").addClass("mejs-overlay-button").bind("click touchstart",function(t){t.preventDefault(),t.stopPropagation(),c.data("player")&&c.data("player").play(),_crop.call(a,n.aspect_ratio)&&e.find(".mejs-controls").css({width:i.width(),left:Math.abs(a.realDims.width/2-i.find(".pulse-content-container").width()/2)});var o=a.container.attr("id");_ns[o].triggers.videoStart.call(a)}));e.append(h),n.html||requestAnimationFrame(function(){$(l).mediaelementplayer({pluginPath:$K.location.real_root_folder+"/app/site/themes/common/js/",success:function(t){c.data("player",t);var n=a.container.attr("id");t.addEventListener("ended",function(){_ns[n].triggers.videoEnd.call(a)}),t.addEventListener("pause",function(){_ns[n].triggers.videoPause.call(a)})}})})}return e.append(o),i.append(e),this.contentContainer.trigger(this.triggered="built",{dom:i,data:n}),i},_data=function(t){t=t||!1;var n=function(t){function n(t){for(var n=t.length-1;n>0;n--){var i=Math.floor(Math.random()*(n+1)),e=t[n];t[n]=t[i],t[i]=e}return t}var i=t.album||!1;if(!t.content)if(t.covers)t.content=t.covers;else{if(!t.albums)return;"random"===this.options.order&&(t.albums=n(t.albums));var e=[];i=[],$.each(t.albums,function(t,n){e.push(n.covers[0]),i.push(n)}),t.content=e}if("random"!==this.options.order||t.albums||(t.content=n(t.content)),this.options.index>t.total-1&&(this.options.index=0),0===t.total)return this.contentContainer.trigger(this.triggered="dataloaded",{items:!1,source:t.site_link||!1}),void(this.options.fallbackText?(this.container.html('<span class="k-note k-note-pulse" style="display:block;">'+this.options.fallbackText+"</span>"),this.container.get(0).style.height.length&&this.container.find(".k-note").css("line-height",this.container.outerHeight(!0)+"px"),this.container.addClass("k-pulse-no-data")):this.options.fallbackElement&&(this.container.hide(),this.options.fallbackElement.show()));var o=!1,s=!1;0===this.totalItems&&((t.album||t.albums)&&(this.options.can_link_to_album=!0),"album"===this.options.link_to&&t.album&&(this.options.link_to=t.album.__koken_url),"album"===this.options.link_to&&t.albums&&(this.originalData=t,this.options.link_to="albums"),this.options.dataUrl.match(/limit:[0-9]+/)?(s=!0,this.totalItems=t.content.count):this.totalItems=t.total,this.cushion=Math.max(this.totalItems<2*this.cushion+1?Math.floor((this.totalItems-.5)/2):this.cushion,1),o=!0);var a,r;for(a=0,r=t.content.length;a<r;a++)if(t.content[a].presets){var l=t.content[a];$.isArray(i)?l.parent=i[a]:l.parent=i,this.loaded.push(l),this.idMap[t.content[a].id]=this.loaded.length-1}if("auto"===this.options.size){var c=0,h=0;$.each(t.content,function(t,n){isNaN(n.aspect_ratio)||(c+=n.aspect_ratio,h++)});var u,d=c/h,p=1/0,g=["1:10","2:10","3:10","4:10","5:10","6:10","7:10","8:10","9:10","10:10","10:9","10:8","10:7","10:6","10:5","10:4","10:3","10:2","10:1","4:3","3:4","3:2","2:3","1:1","16:9"];$.each(g,function(t,n){var i=n.split(":"),e=i[0]/i[1],o=Math.abs(d-e);o<p&&(u=n,p=o)}),this.options.size=u,_setSize.call(this),_resize.call(this)}this.contentContainer.trigger(this.triggered="dataloaded",{items:t.content,source:t.site_link||!1}),o&&(this.options.album_type=t.album?t.album.album_type:!!t.album_type&&t.album_type,this.options.album_id=t.album?t.album.id:!!t.id&&t.id,this.contentContainer.trigger(this.triggered="waiting",[!0]),_load.call(this),this.contentContainer.trigger(this.triggered="ready",this.container)),t.page<t.pages&&!s&&(this.options.dataUrl=this.options.dataUrl.replace(/\/page:[0-9]+/,"")+"/page:"+(t.page+1),_data.call(this))};if(t)n.call(this,t);else{var i=this;$.ajax({url:this.options.dataUrl,dataType:"json",success:function(t){n.call(i,t)}})}},_event=function(t,n,i,e){var o=this;$(document).on(n,t,{},function(t){this.forward=!(e<0),i.call(o,e,t),t.preventDefault()})},_resizePresets=function(){var t=_queue.call(this),n=this;this.contentContainer.find("div.pulse-content-container").each(function(){var i=$(this),e=i.data("size");"object"==typeof e&&(n.realDims.width>e.width||n.realDims.height>e.height)&&t.add(_loadPreset.call(n,i))}),t.load()},_position=function(t){0===this.realDims.height&&this.options.height&&this.options.height.indexOf("%")!==-1&&_resize.call(this);var n,i,e=this.realDims.width,o="expand"!==this.options.size||this.options.maxHeight===1/0?this.realDims.height:this.options.maxHeight,s=Math.round(e/t.aspect_ratio),a=_crop.call(this,t.aspect_ratio);if(a)s<o&&(s=o,e=Math.round(s*t.aspect_ratio)),i=Math.min(0,Math.max(-(e-this.realDims.width),this.realDims.width/2-e/(100/t.focal_point.x))),n=Math.min(0,Math.max(-(s-o),o/2-s/(100/t.focal_point.y)));else if("expand"!==this.options.size||s>this.options.maxHeight){o="expand"===this.options.size?this.options.maxHeight:o;var r=_ratio.call(this,t);e=r.w,s=r.h,i=this.realDims.width/2-e/2,n=o/2-s/2}return{width:e,height:s,left:i,top:n,cropped:a}},_crop=function(t){var n=t<1,i=this.containerRatio<1;return"fill"===this.options.crop||"adaptive"===this.options.crop&&n===i||"portrait"===this.options.crop&&n||"landscape"===this.options.crop&&!n},_resize=function(){if(!this.dead){var t=this;if(this.options.autoHeight&&this.contentContainer.css({height:this.container.width()*this.options.autoHeight}),this.options.maxHeightAuto&&(this.options.maxHeight=this.container.width()),"expand"===this.options.size){if(!this.currentData)return;this.contentContainer.css("height",Math.min(this.options.maxHeight,this.container.width()/this.currentData.aspect_ratio))}if(this.realDims={width:this.contentContainer.width(),height:this.contentContainer.height()},0===this.realDims.width&&Pulse.fullScreenApi.isFullScreen())return this.options.fullScreenRoot.css("width","100%"),void _resize.call(this);this.containerRatio=this.realDims.width/this.realDims.height,this.options.width.toString().indexOf("%")===-1&&this.options.height.toString().indexOf("%")===-1||(window.clearTimeout(this.resizeInterval),this.resizeInterval=window.setTimeout(function(){_resizePresets.call(t)},500)),this.contentContainer.find("div.pulse-content-container").each(function(){var n=$(this);if(n.data("asset")){var i=_position.call(t,n.data("asset"));n.css({width:i.width,height:i.height,left:i.left,top:i.top});var e=n.find("video");e.length&&e[0].player&&(e=e[0].player,e.setPlayerSize(i.width,i.height),e.setControlsSize(),"native"!==e.pluginType&&e.media.setVideoSize&&e.media.setVideoSize(i.width,i.height),_crop.call(t,n.data("asset").aspect_ratio)&&n.find(".mejs-controls").css({width:t.realDims.width,left:Math.abs(i.left)}));var o=n.find(".pulse-content-ui-container");i.cropped?o.css({width:t.container.width(),height:t.container.height(),top:-i.top,left:-i.left}):o.css({width:"100%",height:"100%"})}});var n=this.container.find(".k-note");n.length&&n.outerHeight()!==this.container.height()&&n.css("line-height",this.container.height()+"px")}},_clone=function(t){if(!t)return!1;var n=$(t[0].cloneNode(!0));return n.find("[data-node-uid]").removeAttr("data-node-uid"),n},_setSize=function(){var t="auto"===this.options.size?"3:2":this.options.size,n=t.split(":");this.options.height=n[1]+"/"+n[0];var i,e=this.options.height.split("/"),o=e[0]/e[1];return i=isNaN(this.options.width)?this.container.parent().width()*o:this.options.width*o,this.options.autoHeight=o,i},_setup=function(t,n){var i=$(t),e=i.attr("id");if(_ns[e]={},_ns[e].context=i,_ns[e].container=i,_ns[e].dead=!1,_ns[e].parent=i.parent(),_ns[e].platform=window.onorientationchange?4:10,_ns[e].handlers=[],_ns[e].loaded=[],_ns[e].triggers=[],_ns[e].touch={},_ns[e].playTimer={id:0,remaining:!1},_ns[e].cushion=3,_ns[e].realDims={},_ns[e].forward=!0,_ns[e].transitioning=!1,_ns[e].touch={},_ns[e].totalItems=0,_ns[e].idMap={},_ns[e].loadQueue={internal:[],external:[],canLoadExternal:!1,interval:!1},_ns[e].stack=0,_ns[e].fsElWidth=0,_ns[e].options={},_ns[e].options.album_id=!1,_ns[e].options.album_type=!1,_ns[e].options.width=n&&n.width?n.width:"100%",_ns[e].options.height=!(!n||!n.height)&&n.height,_ns[e].options.background=n&&n.background||_ns[e].container.css("background"),_ns[e].options.speed=1e3*(n&&n.speed||5),_ns[e].options.index=n&&n.index||0,_ns[e].options.crop=n&&n.crop||"none",_ns[e].options.dataUrl=n&&n.dataUrl||"/api.php?/content",_ns[e].options.autoHeight=!1,_ns[e].options.size=n&&n.size&&("auto"===n.size||"expand"===n.size||n.size.indexOf(":")>0)&&n.size||!1,_ns[e].options.maxHeight=parseInt(i.css("max-height"),10),_ns[e].options.maxHeightAuto=!1,_ns[e].options.allowFullScreen=!n||!n.hasOwnProperty("allowfullscreen")||n.allowfullscreen,_ns[e].options.fullScreenRoot=n&&n.fullscreenroot&&$(n.fullscreenroot)||_ns[e].container,_ns[e].options.fallbackText=n&&n.fallbacktext||!1,_ns[e].options.fallbackElement=!(!n||!n.fallbackelement)&&$(n.fallbackelement),_ns[e].options.link_to=n&&"false"!==n.link_to&&n.link_to,_ns[e].options.transition_duration=n&&n.transition_duration||"500ms",_ns[e].options.data=n.data||!1,_ns[e].options.order=n&&n.random===!0?"random":"default",_ns[e].options.album_url=n.albumUrl||!1,_ns[e].options.can_link_to_album=n.can_link_to_album||!1,_ns[e].options.touchSwipe=void 0===n.swipe||n.swipe,_ns[e].options.touchSwipe&&("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)){var o=["Webkit","Moz","O","ms",""],s=!1;o.forEach(function(t,n){if(t+"Transform"in document.body.style)return s=t,!1}),s?(s.length&&(s="-"+s.toLowerCase()+"-"),_ns[e].options.touchSwipePrefix=s):_ns[e].options.touchSwipe=!1}else _ns[e].options.touchSwipe=!1;_ns[e].options.touchSwipe&&(_ns[e].cushion=2),_ns[e].options.transition_duration=function(){var t=_ns[e].options.transition_duration,n=parseFloat(t,10),i=parseInt(t,10);return 0===n?0:(n>0&&i.toString().length<=2&&(t+="s"),/\dms$/.test(t)?parseInt(t,10):/\ds$/.test(t)?1e3*parseFloat(t,10):t)}(),_ns[e].options.link_to&&$.inArray(n.link_to,["lightbox","content","album"])!==-1&&!window.$K&&(_ns[e].options.link_to=!1),isNaN(_ns[e].options.maxHeight)&&(_ns[e].options.maxHeight=i.width(),_ns[e].options.maxHeightAuto=!0),_ns[e].options.size||_ns[e].options.height||(_ns[e].options.size="3:2");var a=_ns[e].options.height;_ns[e].options.size&&"expand"!==_ns[e].options.size&&(a=_setSize.call(_ns[e])),n&&(n.transition_type?_ns[e].options.transition=n.transition_type:_ns[e].options.transition="dissolve",n.transition_easing?_ns[e].options.transition_easing=n.transition_easing:_ns[e].options.transition_easing="ease-in-out","undefined"==typeof n.loop?_ns[e].options.loop=!0:_ns[e].options.loop=n.loop,_ns[e].options.autostart="undefined"==typeof n.autostart||n.autostart,n.next&&_event.call(_ns[e],n.next,"click",function(){!this.options.loop&&this.currentData.is_last||_update.call(this,1)}),n.previous&&_event.call(_ns[e],n.previous,"click",function(){!this.options.loop&&this.currentData.is_first||_update.call(this,-1)}),n.restart&&_event.call(_ns[e],n.restart,"click",function(){_loadItemByIndex.call(this,0,!0)}),n.toggle&&_event.call(_ns[e],n.toggle,"click",_toggle),n.play&&_event.call(_ns[e],n.play,"click",_play),n.pause&&_event.call(_ns[e],n.pause,"click",_pause),n.pause&&_event.call(_ns[e],n.pause,"click",_pause),n.fullscreen&&(Pulse.fullScreenApi.supportsFullScreen?_event.call(_ns[e],n.fullscreen,"click",_toggleFullScreen):$(n.fullscreen).addClass("k-pulse-button-disabled"))),_ns[e].container.css({background:_ns[e].options.background,
position:"relative",width:_ns[e].options.width}),"expand"===_ns[e].options.size?a=0:String(a).indexOf("%")!==-1&&_ns[e].container.css("height",a),_ns[e].contentContainer=$("<div/>").css({width:_ns[e].options.width,height:a,position:"relative"}).attr("class","pulse-main-container"),_ns[e].options.link_to&&_ns[e].contentContainer.css("cursor","pointer");var r=["click","mousedown","mouseover","mousemove","mouseout"];if(_ns[e].options.touchSwipe){var i=_ns[e];_ns[e].contentContainer.css("overflow","hidden"),_ns[e].touchContainer=$("<div/>").css({height:"100%",position:"relative"}).bind("webkitTransitionEnd mozTransitionEnd msTransitionEnd oTransitionEnd transitionend",function(){if($(this).css(i.options.touchSwipePrefix+"transition",""),i.options.transition_duration="500ms",i.transitioning){if(_load.call(i),i.current.css("left",0),$(this).css(i.options.touchSwipePrefix+"transform","translate3d(0,0,0)"),1===i.totalItems)return;for(var t=i.totalItems<5?i.options.index-1:i.options.index-2,n=i.totalItems<5?i.options.index+(i.totalItems-1):i.options.index+3,e=t;e<n;e++)if(e!==i.options.index){var o=e<i.options.index,s=e,a=Math.abs(s-i.options.index);s>=i.loaded.length&&(s-=i.loaded.length),s<0&&(s=i.loaded.length+s);var r=i.loaded[s];r&&_get.call(i,r.id).css({left:(o?"-":"")+100*a+"%",opacity:1})}requestAnimationFrame(function(){i.triggers.transitionEnd.call(i)})}}).attr("class","pulse-touch-container").appendTo(_ns[e].contentContainer);var l={start:{x:0,y:0},end:{x:null,y:null},move:!1};_ns[e].contentContainer.bind("touchstart touchmove touchend",function(t){i.options.transition_duration="500ms";var n=t.originalEvent.targetTouches[0];switch(t.type){case"touchstart":l.start.x=n.pageX,l.start.y=n.pageY,l.start.time=+new Date,l.end.x=null,l.move=!1;break;case"touchmove":l.end.x=n.pageX,l.end.y=n.pageY;var o=l.start.x-l.end.x,s=l.start.y-l.end.y;Math.abs(o/2)>Math.abs(s)&&(clearTimeout(i.playTimer.id),t.stopPropagation(),t.preventDefault(),l.move=!0,i.touchContainer.css(i.options.touchSwipePrefix+"transform","translate3d("+-o+"px,0,0)"));break;case"touchend":if(l.move){t.stopPropagation(),t.preventDefault();var a=l.start.x-l.end.x,r=a<0?-1:1;a=Math.abs(a);var c=i.contentContainer.width(),h=+new Date,u=h-l.start.time,d=u/a,p=c-a;i.options.index+r;a>.07*c&&i.totalItems>1?(i.options.transition_duration=Math.min(500,Math.round(p*d))+"ms",_update.call(i,r)):_display.call(i)}else null===l.end.x&&(t.stopPropagation(),t.preventDefault(),_ns[e].contentContainer.trigger("click"))}})}else _ns[e].contentContainer.swipe({swipe:function(t,n,i,e,o){var s=_ns[$(t.target).closest(".pulse-content-container").closest(".pulse-main-container").parent().attr("id")];"left"===n?_update.call(s,1):"right"===n&&_update.call(s,-1)},allowPageScroll:"vertical"}),r.concat(["touchstart","touchmove","touchend"]);return _ns[e].contentContainer.bind(r.join(" "),function(t){if("mousedown"===t.type){if($.inArray(t.target.tagName.toLowerCase(),["embed","object","video"])===-1)return;t.type="click"}var n=$(t.target),i=!1;if(n.hasClass("pulse-main-container")?i=n:n.closest(".pulse-content-container").closest(".pulse-main-container").parent().length>0&&(i=n.closest(".pulse-content-container").closest(".pulse-main-container")),i){var e=_ns[i.parent().attr("id")],o=_exists.call(e,"content"+t.type);if(o){var s={dom:e.current,data:e.currentData};if(t.type.indexOf("touch")===-1){var a=e.contentContainer.offset(),r=t.pageX-a.left,l=a.top-t.pageY;s.cursor={percentageX:Math.abs(Math.round(100*(r/e.contentContainer.width()).toFixed(2))),percentageY:Math.abs(Math.round(100*(l/e.contentContainer.height()).toFixed(2)))}}e.contentContainer.trigger(e.triggered="content"+t.type,s)}if("click"===t.type&&e.options.link_to){var c,h=(e.options.dataUrl,!1);!!window.$K&&window.$K.location.defaults;if(e.options.data&&e.options.data.album_id?h=e.options.data.album_id:e.options.album_id&&(h=e.options.album_id),t.originalEvent&&"video"===t.originalEvent.target.tagName.toLowerCase())return;var u=location.href.match(/&preview=.*/)||"";switch(e.options.link_to){case"advance":return void _update.call(e,1);case"playback":return void _toggle.call(e);case"lightbox":case"content":if(c=e.currentData.__koken_url,"lightbox"===e.options.link_to&&!/\/lightbox\/$/.test(c))return c=$K.location.root+c+"lightbox/"+u,_pause.call(e),void $K.lightbox.load(c);break;case"albums":c=e.originalData.albums[e.options.index].__koken_url;break;case"album":var d=RegExp(e.options.album_url.replace(/:[a-z_]+/,"[^/]+"));c=!(!e.currentData.__koken_url||!d.test(e.currentData.__koken_url))&&e.currentData.__koken_url.match(d)[0];break;default:c=e.options.link_to}c&&(t.preventDefault(),location.href=(c.indexOf("http://")===-1?window.$K.location.root:"")+c+(c.indexOf("http://")===-1?u:""))}}}),_ns[e].container.append(_ns[e].contentContainer),_ns[e].realDims={width:_ns[e].contentContainer.width(),height:_ns[e].contentContainer.height()},$(window).bind("orientationchange resize webkitfullscreenchange mozfullscreenchange fullscreenchange",function(t){(!_ns.all||_ns.all.length<$(".pulse-main-container").length)&&(_ns.all=[],$(".pulse-main-container").each(function(t,n){_ns.all.push(_ns[$(n).parent().attr("id")])}));for(var n=0,i=_ns.all.length;n<i;n++){var e,o=_ns.all[n];if(e&&clearTimeout(e),!o)return;e=setTimeout(function(){o.contentContainer.trigger(o.triggered="resizecomplete")},200),_resize.call(o)}}).trigger("resize"),_ns[e].triggers={},_ns[e].triggers.play=function(){_play.call(this)},_ns[e].triggers.pause=function(){_pause.call(this)},_ns[e].triggers.toggle=function(){_toggle.call(this)},_ns[e].triggers.toggleFullScreen=function(){_toggleFullScreen.call(this)},_ns[e].triggers.transitionEnd=function(){this.transitioning=!1,this.options.touchSwipe||_load.call(this),_startPlaybackTimer.call(this),this.contentContainer.trigger(this.triggered="transitionend",{dom:this.current,data:this.currentData}),this.contentContainer.trigger(this.triggered="item",{dom:this.current,data:this.currentData})},_ns[e].triggers.videoReady=function(){this.current.find(".video-overlay").show()},_ns[e].triggers.videoStart=function(){this.current.find(".video-overlay").hide(),_pause.call(this),this.current.find(".video-container").css({left:0,top:0,margin:0,width:"100%",height:"100%",opacity:1}).data("resume","playing"===this.state),this.contentContainer.trigger(this.triggered="videobegin")},_ns[e].triggers.videoPause=function(){this.current.find(".video-overlay").show(),this.currentData.html?this.current.find(".video-container").css({top:"50%",left:"50%",width:"50px",height:"50px",margin:"-25px 0 0 -25px",opacity:.001}):this.current.find(".video-container").css("left",-1e4),this.contentContainer.trigger(this.triggered="videopause")},_ns[e].triggers.videoEnd=function(){this.current.find(".video-container").data("resume")&&(_update.call(this,1),this.state="playing"),this.contentContainer.trigger(this.triggered="videoend")},n&&$.each(n,function(t,n){_ns[e].options.hasOwnProperty(t)||(_ns[e].options[t]=n)}),_ns[e]},P.init=function(t,n){var i=_setup(t,n),e={context:i.context,options:$.extend({},i.options),on:function(t,n){var e=[];return $.each(t.split(" "),function(t,n){RegExp("^|\\s"+n+"\\s|$").test(_handles)&&e.push(n)}),e.length&&$.each(e,function(t,e){i.handlers.push(e),_bind.call(i,{type:e,fn:n})}),this},off:function(t){i.container.unlisten(t)},kill:function(){_kill.call(i)},play:function(){_play.call(i)},pause:function(){_pause.call(i)},next:function(){_update.call(i,1)},options:function(){return _options.call(i)},previous:function(){_update.call(i,-1)},toggle:function(){_toggle.call(i)},toggleFullscreen:function(){Pulse.fullScreenApi.supportsFullScreen&&_toggleFullScreen.call(i)},loadItem:function(t){_loadItemById.call(i,t)},loadItemAtPosition:function(t){_loadItemByIndex.call(i,t)},restart:function(t){_loadItemByIndex.call(i,0,!0)},getItem:function(){return _getItem.call(i)},getNextItem:function(){return _getNextItem.call(i)},trigger:function(t){if(!i.dead)return i.triggers[t]?i.triggers[t].call(i):i.contentContainer.trigger(i.triggered=t,i.contentContainer),this},ratio:function(t){return _ratio.call(i,t,!0)},append:function(t){t.css("position").length<=0&&t.css("position","relative"),t.css("zIndex",12),this.context.find(".pulse-main-container").append(t)},queue:function(){return _queue.call(i,!0)},clone:function(t){return _clone.call(i,t)}};i.options.touchSwipe?(Pulse.transitions._swipe.call(e,i.options),i.options.transition_duration="500ms"):Pulse.transitions[i.options.transition]?Pulse.transitions[i.options.transition].call(e,i.options):Pulse.transitions.dissolve.call(e,i.options);for(var o in window.Pulse.plugin)e[o]=window.Pulse.plugin[o];return $(function(){if(i.contentContainer.trigger(i.triggered="start",i.container),i.options.data&&i.options.data.content){var t={content:i.options.data.content,total:i.options.data.content.length,page:1,pages:1};_data.call(i,t)}else _data.call(i)}),e}}return P.init}.call({});window.Pulse.plugin={},window.Pulse.transitions={_swipe:function(t){var n=!1;this.on("transition",function(i){var e,o=i.next.parents(".pulse-touch-container");i.current&&i.next.attr("data-pulse-container")===i.current.attr("data-pulse-container")?(e=0,t.transition_duration="200ms"):e=o.width(),n||(i.next.css({left:e,opacity:1}),t.transition_duration="1ms",n=!0),i.forward&&(e=-e),o.css(t.touchSwipePrefix+"transition",t.touchSwipePrefix+"transform "+t.transition_duration+" ease-out"),requestAnimationFrame(function(){o.css(t.touchSwipePrefix+"transform","translate3d("+e+"px,0,0)")})})},none:function(t){var n=this;this.on("transition",function(t){t.current&&t.current.css({opacity:0}),t.next.css({opacity:1}),n.trigger("transitionEnd")})},dissolve:function(t){var n=this;this.on("transition",function(i){i.current&&i.current.animate({opacity:0},{duration:t.transition_duration}),i.next.animate({opacity:1},{duration:t.transition_duration,complete:function(){n.trigger("transitionEnd")}})})},fade:function(t){var n=this;this.on("transition",function(i){i.current?i.current.animate({opacity:0},{duration:t.transition_duration/2,complete:function(){i.next.animate({opacity:1},{duration:t.transition_duration/2,complete:function(){n.trigger("transitionEnd")}})}}):i.next.animate({opacity:1},{duration:t.transition_duration,complete:function(){n.trigger("transitionEnd")}})})},slide:function(t){var n=this;this.on("transition",function(i){var e=n.context,o=n.clone(i.next),s=n.clone(i.current),a=e.width(),r=!1,l=$("<div/>").css({width:"100%",height:"100%",top:0,left:0,position:"absolute",overflow:"hidden"}),c=$("<div/>").css({width:2*a,height:"100%",top:0,left:i.forward?0:"-"+a+"px",position:"relative"}).appendTo(l),h=function(){i.next.css({opacity:1}),l.remove(),n.trigger("transitionEnd")},u=["Webkit","Moz","O","ms",""],d=!1;u.forEach(function(t,n){if(t+"Transform"in document.body.style)return d=t,!1}),d&&(d.length&&(d="-"+d.toLowerCase()+"-"),c.css(d+"transition",d+"transform "+t.transition_duration+"ms "+t.transition_easing),r=!0),s&&(i.forward||s.css({left:a+"px"}),c.append(s)),o.css({opacity:1}),i.forward&&o.css({left:a+"px"}),c.append(o),n.append(l),window.setTimeout(function(){return i.current?("fill"!==n.options.crop&&i.current.css({opacity:0}),void requestAnimationFrame(function(){a=i.forward?"-"+a:a,r?(c.bind("webkitTransitionEnd mozTransitionEnd msTransitionEnd oTransitionEnd transitionend",h),c.css(d+"transform","translate3d("+a+"px,0,0)")):c.animate({left:a},{duration:t.transition_duration,easing:t.transition_easing,complete:h})})):void h()},i.current?50:250)})}},window.Pulse.register_transition=function(t){window.Pulse.transitions=$.extend(window.Pulse.transitions,t)},function(){var t={supportsFullScreen:!1,isFullScreen:function(){return!1},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",prefix:""},n="webkit moz o ms khtml".split(" ");if("undefined"!=typeof document.cancelFullScreen)t.supportsFullScreen=!0;else for(var i=0,e=n.length;i<e;i++)if(t.prefix=n[i],"undefined"!=typeof document[t.prefix+"CancelFullScreen"]){t.supportsFullScreen=!0;break}t.supportsFullScreen&&(t.fullScreenEventName=t.prefix+"fullscreenchange",t.isFullScreen=function(){switch(this.prefix){case"":return document.fullScreen;case"webkit":return document.webkitIsFullScreen;default:return document[this.prefix+"FullScreen"]}},t.requestFullScreen=function(t){return""===this.prefix?t.requestFullScreen():t[this.prefix+"RequestFullScreen"]()},t.cancelFullScreen=function(t){return""===this.prefix?document.cancelFullScreen():document[this.prefix+"CancelFullScreen"]()}),Pulse.fullScreenApi=t}();!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e.Vimeo=e.Vimeo||{},e.Vimeo.Player=t())}(this,function(){"use strict";function e(e,t){return t={exports:{}},e(t,t.exports),t.exports}function t(e,t,n){var r=T.get(e.element)||{};t in r||(r[t]=[]),r[t].push(n),T.set(e.element,r)}function n(e,t){var n=T.get(e.element)||{};return n[t]||[]}function r(e,t,n){var r=T.get(e.element)||{};if(!r[t])return!0;if(!n)return r[t]=[],T.set(e.element,r),!0;var o=r[t].indexOf(n);return-1!==o&&r[t].splice(o,1),T.set(e.element,r),r[t]&&0===r[t].length}function o(e,t){var n=T.get(e);T.set(t,n),T.delete(e)}function i(e,t){return 0===e.indexOf(t.toLowerCase())?e:""+t.toLowerCase()+e.substr(0,1).toUpperCase()+e.substr(1)}function a(e){return e instanceof window.HTMLElement}function u(e){return!isNaN(parseFloat(e))&&isFinite(e)&&Math.floor(e)==e}function s(e){return/^(https?:)?\/\/(player.)?vimeo.com/.test(e)}function c(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.id,n=e.url,r=t||n;if(!r)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(u(r))return"https://vimeo.com/"+r;if(s(r))return r.replace("http:","https:");if(t)throw new TypeError("“"+t+"” is not a valid video id.");throw new TypeError("“"+r+"” is not a vimeo.com url.")}function f(e){for(var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=_,r=Array.isArray(n),o=0,n=r?n:n[Symbol.iterator]();;){var i;if(r){if(o>=n.length)break;i=n[o++]}else{if(o=n.next(),o.done)break;i=o.value}var a=i,u=e.getAttribute("data-vimeo-"+a);(u||""===u)&&(t[a]=""===u?1:u)}return t}function l(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return new Promise(function(n,r){if(!s(e))throw new TypeError("“"+e+"” is not a vimeo.com url.");var o="https://vimeo.com/api/oembed.json?url="+encodeURIComponent(e);for(var i in t)t.hasOwnProperty(i)&&(o+="&"+i+"="+encodeURIComponent(t[i]));var a="XDomainRequest"in window?new XDomainRequest:new XMLHttpRequest;a.open("GET",o,!0),a.onload=function(){if(404===a.status)return void r(new Error("“"+t+"” was not found."));if(403===a.status)return void r(new Error("“"+t+"” is not embeddable."));try{var e=JSON.parse(a.responseText);n(e)}catch(t){r(t)}},a.onerror=function(){var e=a.status?" ("+a.status+")":"";r(new Error("There was an error fetching the embed code from Vimeo"+e+"."))},a.send()})}function h(e,t){var n=e.html;if(!t)throw new TypeError("An element must be provided");if(null!==t.getAttribute("data-vimeo-initialized"))return t.querySelector("iframe");var r=document.createElement("div");r.innerHTML=n;var o=r.firstChild;return t.appendChild(o),t.setAttribute("data-vimeo-initialized","true"),o}function d(){var e=arguments.length<=0||void 0===arguments[0]?document:arguments[0],t=[].slice.call(e.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")),n=function(e){"console"in window&&console.error&&console.error("There was an error creating an embed: "+e)},r=function(){if(i){if(a>=o.length)return"break";u=o[a++]}else{if(a=o.next(),a.done)return"break";u=a.value}var e=u;try{if(null!==e.getAttribute("data-vimeo-defer"))return"continue";var t=f(e),r=c(t);l(r,t).then(function(t){return h(t,e)}).catch(n)}catch(e){n(e)}};e:for(var o=t,i=Array.isArray(o),a=0,o=i?o:o[Symbol.iterator]();;){var u,s=r();switch(s){case"break":break e;case"continue":continue}}}function p(e){return"string"==typeof e&&(e=JSON.parse(e)),e}function v(e,t,n){if(e.element.contentWindow.postMessage){var r={method:t};void 0!==n&&(r.value=n);var o=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1"));o>=8&&10>o&&(r=JSON.stringify(r)),e.element.contentWindow.postMessage(r,e.origin)}}function y(e,t){t=p(t);var o=[],i=void 0;if(t.event){if("error"===t.event)for(var a=n(e,t.data.method),u=a,s=Array.isArray(u),c=0,u=s?u:u[Symbol.iterator]();;){var f;if(s){if(c>=u.length)break;f=u[c++]}else{if(c=u.next(),c.done)break;f=c.value}var l=f,h=new Error(t.data.message);h.name=t.data.name,l.reject(h),r(e,t.data.method,l)}o=n(e,"event:"+t.event),i=t.data}else t.method&&(o=n(e,t.method),i=t.value,r(e,t.method));for(var d=o,v=Array.isArray(d),y=0,d=v?d:d[Symbol.iterator]();;){var m;if(v){if(y>=d.length)break;m=d[y++]}else{if(y=d.next(),y.done)break;m=y.value}var g=m;try{if("function"==typeof g){g.call(e,i);continue}g.resolve(i)}catch(e){}}}var m="undefined"!=typeof Array.prototype.indexOf,g="undefined"!=typeof window.postMessage;if(!m||!g)throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var w="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},b=(e(function(e,t){!function(e){function t(e,t){function r(e){return this&&this.constructor===r?(this._keys=[],this._values=[],this._itp=[],this.objectOnly=t,void(e&&n.call(this,e))):new r(e)}return t||w(e,"size",{get:y}),e.constructor=r,r.prototype=e,r}function n(e){this.add?e.forEach(this.add,this):e.forEach(function(e){this.set(e[0],e[1])},this)}function r(e){return this.has(e)&&(this._keys.splice(g,1),this._values.splice(g,1),this._itp.forEach(function(e){g<e[0]&&e[0]--})),g>-1}function o(e){return this.has(e)?this._values[g]:void 0}function i(e,t){if(this.objectOnly&&t!==Object(t))throw new TypeError("Invalid value used as weak collection key");if(t!=t||0===t)for(g=e.length;g--&&!b(e[g],t););else g=e.indexOf(t);return g>-1}function a(e){return i.call(this,this._values,e)}function u(e){return i.call(this,this._keys,e)}function s(e,t){return this.has(e)?this._values[g]=t:this._values[this._keys.push(e)-1]=t,this}function c(e){return this.has(e)||this._values.push(e),this}function f(){(this._keys||0).length=this._values.length=0}function l(){return v(this._itp,this._keys)}function h(){return v(this._itp,this._values)}function d(){return v(this._itp,this._keys,this._values)}function p(){return v(this._itp,this._values,this._values)}function v(e,t,n){var r=[0],o=!1;return e.push(r),{next:function(){var i,a=r[0];return!o&&a<t.length?(i=n?[t[a],n[a]]:t[a],r[0]++):(o=!0,e.splice(e.indexOf(r),1)),{done:o,value:i}}}}function y(){return this._values.length}function m(e,t){for(var n=this.entries();;){var r=n.next();if(r.done)break;e.call(t,r.value[1],r.value[0],this)}}var g,w=Object.defineProperty,b=function(e,t){return e===t||e!==e&&t!==t};"undefined"==typeof WeakMap&&(e.WeakMap=t({"delete":r,clear:f,get:o,has:u,set:s},!0)),"undefined"!=typeof Map&&"function"==typeof(new Map).values&&(new Map).values().next||(e.Map=t({"delete":r,has:u,get:o,set:s,keys:l,values:h,entries:d,forEach:m,clear:f})),"undefined"!=typeof Set&&"function"==typeof(new Set).values&&(new Set).values().next||(e.Set=t({has:a,add:c,"delete":r,clear:f,keys:h,values:h,entries:p,forEach:m})),"undefined"==typeof WeakSet&&(e.WeakSet=t({"delete":r,add:c,clear:f,has:a},!0))}("undefined"!=typeof t&&"undefined"!=typeof w?w:window)}),e(function(e){!function(t,n,r){n[t]=n[t]||r(),"undefined"!=typeof e&&e.exports?e.exports=n[t]:"function"==typeof define&&define.amd&&define(function(){return n[t]})}("Promise","undefined"!=typeof w?w:w,function(){function e(e,t){h.add(e,t),l||(l=p(h.drain))}function t(e){var t,n=typeof e;return null==e||"object"!=n&&"function"!=n||(t=e.then),"function"==typeof t&&t}function n(){for(var e=0;e<this.chain.length;e++)r(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function r(e,n,r){var o,i;try{n===!1?r.reject(e.msg):(o=n===!0?e.msg:n.call(void 0,e.msg),o===r.promise?r.reject(TypeError("Promise-chain cycle")):(i=t(o))?i.call(o,r.resolve,r.reject):r.resolve(o))}catch(e){r.reject(e)}}function o(e){var r,a=this;if(!a.triggered){a.triggered=!0,a.def&&(a=a.def);try{(r=t(e))?s(function(){var t=new u(a);try{r.call(e,function(){o.apply(t,arguments)},function(){i.apply(t,arguments)})}catch(n){i.call(t,n)}}):(a.msg=e,a.state=1,a.chain.length>0&&s(n,a))}catch(s){i.call(new u(a),s)}}}function i(t){var r=this;r.triggered||(r.triggered=!0,r.def&&(r=r.def),r.msg=t,r.state=2,r.chain.length>0&&e(n,r))}function a(e,t,n,r){for(var o=0;o<t.length;o++)!function(o){e.resolve(t[o]).then(function(e){n(o,e)},r)}(o)}function u(e){this.def=e,this.triggered=!1}function s(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function c(e){if("function"!=typeof e)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var t=new s(this);this.then=function(e,o){var i={success:"function"!=typeof e||e,failure:"function"==typeof o&&o};return i.promise=new this.constructor(function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");i.resolve=e,i.reject=t}),t.chain.push(i),0!==t.state&&r(n,t),i.promise},this.catch=function(e){return this.then(void 0,e)};try{e.call(void 0,function(e){o.call(t,e)},function(e){i.call(t,e)})}catch(r){i.call(t,r)}}var f,l,h,d=Object.prototype.toString,p="undefined"!=typeof setImmediate?function(e){return setImmediate(e)}:setTimeout;try{Object.defineProperty({},"x",{}),f=function(e,t,n,r){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:r!==!1})}}catch(e){f=function(e,t,n){return e[t]=n,e}}h=function(){function e(e,t){this.fn=e,this.self=t,this.next=void 0}var t,n,r;return{add:function(o,i){r=new e(o,i),n?n.next=r:t=r,n=r,r=void 0},drain:function(){var e=t;for(t=n=l=void 0;e;)e.fn.call(e.self),e=e.next}}}();var v=f({},"constructor",c,!1);return c.prototype=v,f(v,"__NPO__",0,!1),f(c,"resolve",function(e){var t=this;return e&&"object"==typeof e&&1===e.__NPO__?e:new t(function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");t(e)})}),f(c,"reject",function(e){return new this(function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");n(e)})}),f(c,"all",function(e){var t=this;return"[object Array]"!=d.call(e)?t.reject(TypeError("Not an array")):0===e.length?t.resolve([]):new t(function(n,r){if("function"!=typeof n||"function"!=typeof r)throw TypeError("Not a function");var o=e.length,i=Array(o),u=0;a(t,e,function(e,t){i[e]=t,++u===o&&n(i)},r)})}),f(c,"race",function(e){var t=this;return"[object Array]"!=d.call(e)?t.reject(TypeError("Not an array")):new t(function(n,r){if("function"!=typeof n||"function"!=typeof r)throw TypeError("Not a function");a(t,e,function(e,t){n(t)},r)})}),c})})),E=b&&"object"==typeof b&&"default"in b?b.default:b,T=new WeakMap,_=["id","url","width","maxwidth","height","maxheight","portrait","title","byline","color","autoplay","autopause","loop","responsive"],k=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},x=new WeakMap,j=new WeakMap,A=function(){function e(t){var n=this,r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(k(this,e),window.jQuery&&t instanceof jQuery&&(t.length>1&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),t=t[0]),"string"==typeof t&&(t=document.getElementById(t)),!a(t))throw new TypeError("You must pass either a valid element or a valid id.");if("IFRAME"!==t.nodeName){var i=t.querySelector("iframe");i&&(t=i)}if("IFRAME"===t.nodeName&&!s(t.getAttribute("src")||""))throw new Error("The player element passed isn’t a Vimeo embed.");if(x.has(t))return x.get(t);this.element=t,this.origin="*";var u=new E(function(e,i){var a=function(t){if(s(t.origin)&&n.element.contentWindow===t.source){"*"===n.origin&&(n.origin=t.origin);var r=p(t.data),o="event"in r&&"ready"===r.event,i="method"in r&&"ping"===r.method;return o||i?(n.element.setAttribute("data-ready","true"),void e()):void y(n,r)}};if(window.addEventListener?window.addEventListener("message",a,!1):window.attachEvent&&window.attachEvent("onmessage",a),"IFRAME"!==n.element.nodeName){var u=f(t,r),d=c(u);l(d,u).then(function(e){var r=h(e,t);return n.element=r,o(t,r),e}).catch(function(e){return i(e)})}});return j.set(this,u),x.set(this.element,this),"IFRAME"===this.element.nodeName&&v(this,"ping"),this}return e.prototype.then=function(e){var t=arguments.length<=1||void 0===arguments[1]?function(){}:arguments[1];return this.ready().then(e,t)},e.prototype.callMethod=function(e){var n=this,r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return new E(function(o,i){return n.ready().then(function(){t(n,e,{resolve:o,reject:i}),v(n,e,r)})})},e.prototype.get=function(e){var n=this;return new E(function(r,o){return e=i(e,"get"),n.ready().then(function(){t(n,e,{resolve:r,reject:o}),v(n,e)})})},e.prototype.set=function(e,n){var r=this;return E.resolve(n).then(function(n){if(e=i(e,"set"),void 0===n||null===n)throw new TypeError("There must be a value to set.");return r.ready().then(function(){return new E(function(o,i){t(r,e,{resolve:o,reject:i}),v(r,e,n)})})})},e.prototype.on=function(e,r){if(!e)throw new TypeError("You must pass an event name.");if(!r)throw new TypeError("You must pass a callback function.");if("function"!=typeof r)throw new TypeError("The callback must be a function.");var o=n(this,"event:"+e);0===o.length&&this.callMethod("addEventListener",e).catch(function(){}),t(this,"event:"+e,r)},e.prototype.off=function(e,t){if(!e)throw new TypeError("You must pass an event name.");if(t&&"function"!=typeof t)throw new TypeError("The callback must be a function.");var n=r(this,"event:"+e,t);n&&this.callMethod("removeEventListener",e).catch(function(){})},e.prototype.loadVideo=function(e){return this.callMethod("loadVideo",e)},e.prototype.ready=function(){var e=j.get(this);return E.resolve(e)},e.prototype.enableTextTrack=function(e,t){if(!e)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:e,kind:t})},e.prototype.disableTextTrack=function(){return this.callMethod("disableTextTrack")},e.prototype.pause=function(){return this.callMethod("pause")},e.prototype.play=function(){return this.callMethod("play")},e.prototype.unload=function(){return this.callMethod("unload")},e.prototype.getAutopause=function(){return this.get("autopause")},e.prototype.setAutopause=function(e){return this.set("autopause",e)},e.prototype.getColor=function(){return this.get("color")},e.prototype.setColor=function(e){return this.set("color",e)},e.prototype.getCurrentTime=function(){return this.get("currentTime")},e.prototype.setCurrentTime=function(e){return this.set("currentTime",e)},e.prototype.getDuration=function(){return this.get("duration")},e.prototype.getEnded=function(){return this.get("ended")},e.prototype.getLoop=function(){return this.get("loop")},e.prototype.setLoop=function(e){return this.set("loop",e)},e.prototype.getPaused=function(){return this.get("paused")},e.prototype.getTextTracks=function(){return this.get("textTracks")},e.prototype.getVideoEmbedCode=function(){return this.get("videoEmbedCode")},e.prototype.getVideoId=function(){return this.get("videoId")},e.prototype.getVideoTitle=function(){return this.get("videoTitle")},e.prototype.getVideoWidth=function(){return this.get("videoWidth")},e.prototype.getVideoHeight=function(){return this.get("videoHeight")},e.prototype.getVideoUrl=function(){return this.get("videoUrl")},e.prototype.getVolume=function(){return this.get("volume")},e.prototype.setVolume=function(e){return this.set("volume",e)},e}();return d(),A}),$(function(){$(document).on("built",function(e,t){t.data.koken_vimeo&&t.dom.find(".video-container iframe").on("load",function(){var e=new Vimeo.Player(this),n=t.dom.parents(".k-pulse").attr("id");t.dom.find(".video-overlay").fadeIn(),t.dom.find(".video-container").css("zIndex",1),e.on("pause",function(){$K.pulse.refs[n].trigger("videoPause")}),e.on("play",function(){$K.pulse.refs[n].trigger("videoStart")}),e.on("finish",function(){e.setCurrentTime(0),$K.pulse.refs[n].trigger("videoEnd")})})}),$.each($K.pulse.refs,function(e,t){t.on("item",function(e){var t=e.dom.find("iframe");if(t.length&&t.is("[data-autoplay]")){var n=new Vimeo.Player(t.get(0));n.play()}}),t.on("videobegin",function(){var e=this.find("iframe");if(e.length){var t=new Vimeo.Player(e.get(0));t.play()}})})});